(this["webpackJsonprubeniskov-website"]=this["webpackJsonprubeniskov-website"]||[]).push([[3],{2110:function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},2113:function(e,t){e.exports=function(e){for(var t=[],r=0;r<e.length;r++)"eof"!==e[r].type&&t.push(e[r].data);return t.join("")}},2114:function(e,t){e.exports=function(e){for(var t=!1,r=0,n=0;n<e.length;n++)switch(t=t||"keyword"===e[n].type&&"for"===e[n].data,e[n].data){case"(":e[n].depth=t?r++:r;break;case"{":e[n].depth=t?r:r++,t=!1;break;case"}":e[n].depth=--r;break;default:e[n].depth=r}for(n=0;n<e.length;n++){var i=e[n],a=n+1;if(("ident"===i.type||"keyword"===i.type)&&(o(),"ident"===e[a].type&&(o(),a++,"("===e[a].data))){for(;e[a]&&";"!==e[a].data&&"{"!==e[a].data;)e[a++].depth++;e[a]&&"{"===e[a].data&&e[a].depth++}}return e;function o(){for(;e[a]&&("whitespace"===e[a].type||"["===e[a].data||"]"===e[a].data||"integer"===e[a].data);)a++}}},2115:function(e,t){e.exports=function(e){var t=[0],r=t[0],n=0;if(!e||!e.length)return e;if(!("depth"in e[0]))throw new Error("glsl-token-scope: No scope depth defined on tokens! Use glsl-token-depth on these tokens first");for(var i=0;i<e.length;i++){var a=e[i],o=a.depth;o>n?t.push(++r):o<n&&t.splice(-1,1),a.scope=t[t.length-1],a.stack=t.slice(),n=a.depth}return e}},2117:function(e,t,r){e.exports=function(){"use strict";var e=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},t=0,r=0,n=5,i=6;function a(e,r){this.id=t++,this.type=e,this.data=r}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function f(e){if(0===e.length)return[];var t=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&t===r&&('"'===t||"'"===t))return['"'+o(e.substr(1,e.length-2))+'"'];var n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(n)return f(e.substr(0,n.index)).concat(f(n[1])).concat(f(e.substr(n.index+n[0].length)));var i=e.split(".");if(1===i.length)return['"'+o(e)+'"'];for(var a=[],u=0;u<i.length;++u)a=a.concat(f(i[u]));return a}function u(e){return"["+f(e).join("][")+"]"}function s(e,t){return new a(e,u(t+""))}function c(e){return"function"===typeof e&&!e._reglType||e instanceof a}function l(e,t){return"function"===typeof e?new a(r,e):"number"===typeof e||"boolean"===typeof e?new a(n,e):Array.isArray(e)?new a(i,e.map((function(e,r){return l(e,t+"["+r+"]")}))):e instanceof a?e:void 0}var p={DynamicVariable:a,define:s,isDynamic:c,unbox:l,accessor:u},d={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},h="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function v(){var e={"":0},t=[""];return{id:function(r){var n=e[r];return n||(n=e[r]=t.length,t.push(r),n)},str:function(e){return t[e]}}}function m(t,r,n){var i,a=document.createElement("canvas");function o(){var r=window.innerWidth,i=window.innerHeight;if(t!==document.body){var o=t.getBoundingClientRect();r=o.right-o.left,i=o.bottom-o.top}a.width=n*r,a.height=n*i,e(a.style,{width:r+"px",height:i+"px"})}function f(){i?i.disconnect():window.removeEventListener("resize",o),t.removeChild(a)}return e(a.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(a),t===document.body&&(a.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(o)}))).observe(t):window.addEventListener("resize",o,!1),o(),{canvas:a,onDestroy:f}}function y(e,t){function r(r){try{return e.getContext(r,t)}catch(n){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}function g(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function b(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function x(e){return"string"===typeof e?e.split():e}function w(e){return"string"===typeof e?document.querySelector(e):e}function A(e){var t,r,n,i,a=e||{},o={},f=[],u=[],s="undefined"===typeof window?1:window.devicePixelRatio,c=!1,l=function(e){},p=function(){};if("string"===typeof a?t=document.querySelector(a):"object"===typeof a&&(g(a)?t=a:b(a)?n=(i=a).canvas:("gl"in a?i=a.gl:"canvas"in a?n=w(a.canvas):"container"in a&&(r=w(a.container)),"attributes"in a&&(o=a.attributes),"extensions"in a&&(f=x(a.extensions)),"optionalExtensions"in a&&(u=x(a.optionalExtensions)),"onDone"in a&&(l=a.onDone),"profile"in a&&(c=!!a.profile),"pixelRatio"in a&&(s=+a.pixelRatio))),t&&("canvas"===t.nodeName.toLowerCase()?n=t:r=t),!i){if(!n){var d=m(r||document.body,l,s);if(!d)return null;n=d.canvas,p=d.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),i=y(n,o)}return i?{gl:i,canvas:n,container:r,extensions:f,optionalExtensions:u,pixelRatio:s,profile:c,onDone:l,onDestroy:p}:(p(),l("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function k(e,t){var r={};function n(t){var n,i=t.toLowerCase();try{n=r[i]=e.getExtension(i)}catch(a){}return!!n}for(var i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!n(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach((function(e){if(r[e]&&!n(e))throw new Error("(regl): error restoring extension "+e)}))}}}function _(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}var E=5120,O=5121,T=5122,D=5123,S=5124,j=5125,C=5126;function F(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function V(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1}function B(){var e=_(8,(function(){return[]}));function t(t){var r=F(t),n=e[V(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r)}function r(t){e[V(t.byteLength)>>2].push(t)}function n(e,r){var n=null;switch(e){case E:n=new Int8Array(t(r),0,r);break;case O:n=new Uint8Array(t(r),0,r);break;case T:n=new Int16Array(t(2*r),0,r);break;case D:n=new Uint16Array(t(2*r),0,r);break;case S:n=new Int32Array(t(4*r),0,r);break;case j:n=new Uint32Array(t(4*r),0,r);break;case C:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n}function i(e){r(e.buffer)}return{alloc:t,free:r,allocType:n,freeType:i}}var z=B();z.zero=B();var I=3408,P=3410,R=3411,L=3412,M=3413,N=3414,q=3415,U=33901,H=33902,W=3379,Q=3386,G=34921,$=36347,Y=36348,X=35661,J=35660,K=34930,Z=36349,ee=34076,te=34024,re=7936,ne=7937,ie=7938,ae=35724,oe=34047,fe=36063,ue=34852,se=3553,ce=34067,le=34069,pe=33984,de=6408,he=5126,ve=5121,me=36160,ye=36053,ge=36064,be=16384,xe=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(oe));var n=1,i=1;t.webgl_draw_buffers&&(n=e.getParameter(ue),i=e.getParameter(fe));var a=!!t.oes_texture_float;if(a){var o=e.createTexture();e.bindTexture(se,o),e.texImage2D(se,0,de,1,1,0,de,he,null);var f=e.createFramebuffer();if(e.bindFramebuffer(me,f),e.framebufferTexture2D(me,ge,se,o,0),e.bindTexture(se,null),e.checkFramebufferStatus(me)!==ye)a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(be);var u=z.allocType(he,4);e.readPixels(0,0,1,1,de,he,u),e.getError()?a=!1:(e.deleteFramebuffer(f),e.deleteTexture(o),a=1===u[0]),z.freeType(u)}}var s=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),l=z.allocType(ve,36);e.activeTexture(pe),e.bindTexture(ce,c),e.texImage2D(le,0,de,3,3,0,de,ve,l),z.freeType(l),e.bindTexture(ce,null),e.deleteTexture(c),s=!e.getError()}return{colorBits:[e.getParameter(P),e.getParameter(R),e.getParameter(L),e.getParameter(M)],depthBits:e.getParameter(N),stencilBits:e.getParameter(q),subpixelBits:e.getParameter(I),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:i,pointSizeDims:e.getParameter(U),lineWidthDims:e.getParameter(H),maxViewportDims:e.getParameter(Q),maxCombinedTextureUnits:e.getParameter(X),maxCubeMapSize:e.getParameter(ee),maxRenderbufferSize:e.getParameter(te),maxTextureUnits:e.getParameter(K),maxTextureSize:e.getParameter(W),maxAttributes:e.getParameter(G),maxVertexUniforms:e.getParameter($),maxVertexTextureUnits:e.getParameter(J),maxVaryingVectors:e.getParameter(Y),maxFragmentUniforms:e.getParameter(Z),glsl:e.getParameter(ae),renderer:e.getParameter(ne),vendor:e.getParameter(re),version:e.getParameter(ie),readFloat:a,npotTextureCube:s}},we=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray};function Ae(e){return!!e&&"object"===typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"===typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||we(e.data))}var ke=function(e){return Object.keys(e).map((function(t){return e[t]}))},_e={shape:je,flatten:Se};function Ee(e,t,r){for(var n=0;n<t;++n)r[n]=e[n]}function Oe(e,t,r,n){for(var i=0,a=0;a<t;++a)for(var o=e[a],f=0;f<r;++f)n[i++]=o[f]}function Te(e,t,r,n,i,a){for(var o=a,f=0;f<t;++f)for(var u=e[f],s=0;s<r;++s)for(var c=u[s],l=0;l<n;++l)i[o++]=c[l]}function De(e,t,r,n,i){for(var a=1,o=r+1;o<t.length;++o)a*=t[o];var f=t[r];if(t.length-r===4){var u=t[r+1],s=t[r+2],c=t[r+3];for(o=0;o<f;++o)Te(e[o],u,s,c,n,i),i+=a}else for(o=0;o<f;++o)De(e[o],t,r+1,n,i),i+=a}function Se(e,t,r,n){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=n||z.allocType(r,i);switch(t.length){case 0:break;case 1:Ee(e,t[0],o);break;case 2:Oe(e,t[0],t[1],o);break;case 3:Te(e,t[0],t[1],t[2],o,0);break;default:De(e,t,0,o,0)}return o}function je(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t}var Ce={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Fe={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ve={dynamic:35048,stream:35040,static:35044},Be=_e.flatten,ze=_e.shape,Ie=35044,Pe=35040,Re=5121,Le=5126,Me=[];function Ne(e){return 0|Ce[Object.prototype.toString.call(e)]}function qe(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function Ue(e,t,r,n,i,a,o){for(var f=0,u=0;u<r;++u)for(var s=0;s<n;++s)e[f++]=t[i*u+a*s+o]}function He(e,t,r,n){var i=0,a={};function o(t){this.id=i++,this.buffer=e.createBuffer(),this.type=t,this.usage=Ie,this.byteLength=0,this.dimension=1,this.dtype=Re,this.persistentData=null,r.profile&&(this.stats={size:0})}o.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},o.prototype.destroy=function(){p(this)};var f=[];function u(e,t){var r=f.pop();return r||(r=new o(e)),r.bind(),l(r,t,Pe,0,1,!1),r}function s(e){f.push(e)}function c(t,r,n){t.byteLength=r.byteLength,e.bufferData(t.type,r,n)}function l(e,t,r,n,i,a){var o,f;if(e.usage=r,Array.isArray(t)){if(e.dtype=n||Le,t.length>0)if(Array.isArray(t[0])){o=ze(t);for(var u=1,s=1;s<o.length;++s)u*=o[s];e.dimension=u,c(e,f=Be(t,o,e.dtype),r),a?e.persistentData=f:z.freeType(f)}else if("number"===typeof t[0]){e.dimension=i;var l=z.allocType(e.dtype,t.length);qe(l,t),c(e,l,r),a?e.persistentData=l:z.freeType(l)}else we(t[0])&&(e.dimension=t[0].length,e.dtype=n||Ne(t[0])||Le,c(e,f=Be(t,[t.length,t[0].length],e.dtype),r),a?e.persistentData=f:z.freeType(f))}else if(we(t))e.dtype=n||Ne(t),e.dimension=i,c(e,t,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(Ae(t)){o=t.shape;var p=t.stride,d=t.offset,h=0,v=0,m=0,y=0;1===o.length?(h=o[0],v=1,m=p[0],y=0):2===o.length&&(h=o[0],v=o[1],m=p[0],y=p[1]),e.dtype=n||Ne(t.data)||Le,e.dimension=v;var g=z.allocType(e.dtype,h*v);Ue(g,t.data,h,v,m,y,d),c(e,g,r),a?e.persistentData=g:z.freeType(g)}else t instanceof ArrayBuffer&&(e.dtype=Re,e.dimension=i,c(e,t,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(t))))}function p(r){t.bufferCount--,n(r);var i=r.buffer;e.deleteBuffer(i),r.buffer=null,delete a[r.id]}function d(n,i,f,u){t.bufferCount++;var s=new o(i);function c(t){var n=Ie,i=null,a=0,o=0,f=1;return Array.isArray(t)||we(t)||Ae(t)||t instanceof ArrayBuffer?i=t:"number"===typeof t?a=0|t:t&&("data"in t&&(i=t.data),"usage"in t&&(n=Ve[t.usage]),"type"in t&&(o=Fe[t.type]),"dimension"in t&&(f=0|t.dimension),"length"in t&&(a=0|t.length)),s.bind(),i?l(s,i,n,o,f,u):(a&&e.bufferData(s.type,a,n),s.dtype=o||Re,s.usage=n,s.dimension=f,s.byteLength=a),r.profile&&(s.stats.size=s.byteLength*Me[s.dtype]),c}function d(t,r){e.bufferSubData(s.type,r,t)}function h(e,t){var r,n=0|(t||0);if(s.bind(),we(e)||e instanceof ArrayBuffer)d(e,n);else if(Array.isArray(e)){if(e.length>0)if("number"===typeof e[0]){var i=z.allocType(s.dtype,e.length);qe(i,e),d(i,n),z.freeType(i)}else if(Array.isArray(e[0])||we(e[0])){r=ze(e);var a=Be(e,r,s.dtype);d(a,n),z.freeType(a)}}else if(Ae(e)){r=e.shape;var o=e.stride,f=0,u=0,l=0,p=0;1===r.length?(f=r[0],u=1,l=o[0],p=0):2===r.length&&(f=r[0],u=r[1],l=o[0],p=o[1]);var h=Array.isArray(e.data)?s.dtype:Ne(e.data),v=z.allocType(h,f*u);Ue(v,e.data,f,u,l,p,e.offset),d(v,n),z.freeType(v)}return c}return a[s.id]=s,f||c(n),c._reglType="buffer",c._buffer=s,c.subdata=h,r.profile&&(c.stats=s.stats),c.destroy=function(){p(s)},c}function h(){ke(a).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))}return r.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(a).forEach((function(t){e+=a[t].stats.size})),e}),{create:d,createStream:u,destroyStream:s,clear:function(){ke(a).forEach(p),f.forEach(p)},getBuffer:function(e){return e&&e._buffer instanceof o?e._buffer:null},restore:h,_initBuffer:l}}Me[5120]=1,Me[5122]=2,Me[5124]=4,Me[5121]=1,Me[5123]=2,Me[5125]=4,Me[5126]=4;var We={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Qe=0,Ge=1,$e=4,Ye=5120,Xe=5121,Je=5122,Ke=5123,Ze=5124,et=5125,tt=34963,rt=35040,nt=35044;function it(e,t,r,n){var i={},a=0,o={uint8:Xe,uint16:Ke};function f(e){this.id=a++,i[this.id]=this,this.buffer=e,this.primType=$e,this.vertCount=0,this.type=0}t.oes_element_index_uint&&(o.uint32=et),f.prototype.bind=function(){this.buffer.bind()};var u=[];function s(e){var t=u.pop();return t||(t=new f(r.create(null,tt,!0,!1)._buffer)),l(t,e,rt,-1,-1,0,0),t}function c(e){u.push(e)}function l(n,i,a,o,f,u,s){var c;if(n.buffer.bind(),i){var l=s;s||we(i)&&(!Ae(i)||we(i.data))||(l=t.oes_element_index_uint?et:Ke),r._initBuffer(n.buffer,i,a,l,3)}else e.bufferData(tt,u,a),n.buffer.dtype=c||Xe,n.buffer.usage=a,n.buffer.dimension=3,n.buffer.byteLength=u;if(c=s,!s){switch(n.buffer.dtype){case Xe:case Ye:c=Xe;break;case Ke:case Je:c=Ke;break;case et:case Ze:c=et}n.buffer.dtype=c}n.type=c;var p=f;p<0&&(p=n.buffer.byteLength,c===Ke?p>>=1:c===et&&(p>>=2)),n.vertCount=p;var d=o;if(o<0){d=$e;var h=n.buffer.dimension;1===h&&(d=Qe),2===h&&(d=Ge),3===h&&(d=$e)}n.primType=d}function p(e){n.elementsCount--,delete i[e.id],e.buffer.destroy(),e.buffer=null}function d(e,t){var i=r.create(null,tt,!0),a=new f(i._buffer);function u(e){if(e)if("number"===typeof e)i(e),a.primType=$e,a.vertCount=0|e,a.type=Xe;else{var t=null,r=nt,n=-1,f=-1,s=0,c=0;Array.isArray(e)||we(e)||Ae(e)?t=e:("data"in e&&(t=e.data),"usage"in e&&(r=Ve[e.usage]),"primitive"in e&&(n=We[e.primitive]),"count"in e&&(f=0|e.count),"type"in e&&(c=o[e.type]),"length"in e?s=0|e.length:(s=f,c===Ke||c===Je?s*=2:c!==et&&c!==Ze||(s*=4))),l(a,t,r,n,f,s,c)}else i(),a.primType=$e,a.vertCount=0,a.type=Xe;return u}return n.elementsCount++,u(e),u._reglType="elements",u._elements=a,u.subdata=function(e,t){return i.subdata(e,t),u},u.destroy=function(){p(a)},u}return{create:d,createStream:s,destroyStream:c,getElements:function(e){return"function"===typeof e&&e._elements instanceof f?e._elements:null},clear:function(){ke(i).forEach(p)}}}var at=new Float32Array(1),ot=new Uint32Array(at.buffer),ft=5123;function ut(e){for(var t=z.allocType(ft,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{at[0]=e[r];var n=ot[0],i=n>>>31<<15,a=(n<<1>>>24)-127,o=n>>13&1023;if(a<-24)t[r]=i;else if(a<-14){var f=-14-a;t[r]=i+(o+1024>>f)}else t[r]=a>15?i+31744:i+(a+15<<10)+o}return t}function st(e){return Array.isArray(e)||we(e)}var ct=34467,lt=3553,pt=34067,dt=34069,ht=6408,vt=6406,mt=6407,yt=6409,gt=6410,bt=32854,xt=32855,wt=36194,At=32819,kt=32820,_t=33635,Et=34042,Ot=6402,Tt=34041,Dt=35904,St=35906,jt=36193,Ct=33776,Ft=33777,Vt=33778,Bt=33779,zt=35986,It=35987,Pt=34798,Rt=35840,Lt=35841,Mt=35842,Nt=35843,qt=36196,Ut=5121,Ht=5123,Wt=5125,Qt=5126,Gt=10242,$t=10243,Yt=10497,Xt=33071,Jt=33648,Kt=10240,Zt=10241,er=9728,tr=9729,rr=9984,nr=9985,ir=9986,ar=9987,or=33170,fr=4352,ur=4353,sr=4354,cr=34046,lr=3317,pr=37440,dr=37441,hr=37443,vr=37444,mr=33984,yr=[rr,ir,nr,ar],gr=[0,yt,gt,mt,ht],br={};function xr(e){return"[object "+e+"]"}br[yt]=br[vt]=br[Ot]=1,br[Tt]=br[gt]=2,br[mt]=br[Dt]=3,br[ht]=br[St]=4;var wr=xr("HTMLCanvasElement"),Ar=xr("OffscreenCanvas"),kr=xr("CanvasRenderingContext2D"),_r=xr("ImageBitmap"),Er=xr("HTMLImageElement"),Or=xr("HTMLVideoElement"),Tr=Object.keys(Ce).concat([wr,Ar,kr,_r,Er,Or]),Dr=[];Dr[Ut]=1,Dr[Qt]=4,Dr[jt]=2,Dr[Ht]=2,Dr[Wt]=4;var Sr=[];function jr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Cr(e){return!!Array.isArray(e)&&!(0===e.length||!st(e[0]))}function Fr(e){return Object.prototype.toString.call(e)}function Vr(e){return Fr(e)===wr}function Br(e){return Fr(e)===Ar}function zr(e){return Fr(e)===kr}function Ir(e){return Fr(e)===_r}function Pr(e){return Fr(e)===Er}function Rr(e){return Fr(e)===Or}function Lr(e){if(!e)return!1;var t=Fr(e);return Tr.indexOf(t)>=0||jr(e)||Cr(e)||Ae(e)}function Mr(e){return 0|Ce[Object.prototype.toString.call(e)]}function Nr(e,t){var r=t.length;switch(e.type){case Ut:case Ht:case Wt:case Qt:var n=z.allocType(e.type,r);n.set(t),e.data=n;break;case jt:e.data=ut(t)}}function qr(e,t){return z.allocType(e.type===jt?Qt:e.type,t)}function Ur(e,t){e.type===jt?(e.data=ut(t),z.freeType(t)):e.data=t}function Hr(e,t,r,n,i,a){for(var o=e.width,f=e.height,u=e.channels,s=qr(e,o*f*u),c=0,l=0;l<f;++l)for(var p=0;p<o;++p)for(var d=0;d<u;++d)s[c++]=t[r*p+n*l+i*d+a];Ur(e,s)}function Wr(e,t,r,n,i,a){var o;if(o="undefined"!==typeof Sr[e]?Sr[e]:br[e]*Dr[t],a&&(o*=6),i){for(var f=0,u=r;u>=1;)f+=o*u*u,u/=2;return f}return o*r*n}function Qr(t,r,n,i,a,o,f){var u={"don't care":fr,"dont care":fr,nice:sr,fast:ur},s={repeat:Yt,clamp:Xt,mirror:Jt},c={nearest:er,linear:tr},l=e({mipmap:ar,"nearest mipmap nearest":rr,"linear mipmap nearest":nr,"nearest mipmap linear":ir,"linear mipmap linear":ar},c),p={none:0,browser:vr},d={uint8:Ut,rgba4:At,rgb565:_t,"rgb5 a1":kt},h={alpha:vt,luminance:yt,"luminance alpha":gt,rgb:mt,rgba:ht,rgba4:bt,"rgb5 a1":xt,rgb565:wt},v={};r.ext_srgb&&(h.srgb=Dt,h.srgba=St),r.oes_texture_float&&(d.float32=d.float=Qt),r.oes_texture_half_float&&(d.float16=d["half float"]=jt),r.webgl_depth_texture&&(e(h,{depth:Ot,"depth stencil":Tt}),e(d,{uint16:Ht,uint32:Wt,"depth stencil":Et})),r.webgl_compressed_texture_s3tc&&e(v,{"rgb s3tc dxt1":Ct,"rgba s3tc dxt1":Ft,"rgba s3tc dxt3":Vt,"rgba s3tc dxt5":Bt}),r.webgl_compressed_texture_atc&&e(v,{"rgb atc":zt,"rgba atc explicit alpha":It,"rgba atc interpolated alpha":Pt}),r.webgl_compressed_texture_pvrtc&&e(v,{"rgb pvrtc 4bppv1":Rt,"rgb pvrtc 2bppv1":Lt,"rgba pvrtc 4bppv1":Mt,"rgba pvrtc 2bppv1":Nt}),r.webgl_compressed_texture_etc1&&(v["rgb etc1"]=qt);var m=Array.prototype.slice.call(t.getParameter(ct));Object.keys(v).forEach((function(e){var t=v[e];m.indexOf(t)>=0&&(h[e]=t)}));var y=Object.keys(h);n.textureFormats=y;var g=[];Object.keys(h).forEach((function(e){var t=h[e];g[t]=e}));var b=[];Object.keys(d).forEach((function(e){var t=d[e];b[t]=e}));var x=[];Object.keys(c).forEach((function(e){var t=c[e];x[t]=e}));var w=[];Object.keys(l).forEach((function(e){var t=l[e];w[t]=e}));var A=[];Object.keys(s).forEach((function(e){var t=s[e];A[t]=e}));var k=y.reduce((function(e,t){var n=h[t];return n===yt||n===vt||n===yt||n===gt||n===Ot||n===Tt||r.ext_srgb&&(n===Dt||n===St)?e[n]=n:n===xt||t.indexOf("rgba")>=0?e[n]=ht:e[n]=mt,e}),{});function _(){this.internalformat=ht,this.format=ht,this.type=Ut,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=vr,this.width=0,this.height=0,this.channels=0}function E(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function O(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(e.flipY=t.flipY),"alignment"in t&&(e.unpackAlignment=t.alignment),"colorSpace"in t&&(e.colorSpace=p[t.colorSpace]),"type"in t){var r=t.type;e.type=d[r]}var n=e.width,i=e.height,a=e.channels,o=!1;"shape"in t?(n=t.shape[0],i=t.shape[1],3===t.shape.length&&(a=t.shape[2],o=!0)):("radius"in t&&(n=i=t.radius),"width"in t&&(n=t.width),"height"in t&&(i=t.height),"channels"in t&&(a=t.channels,o=!0)),e.width=0|n,e.height=0|i,e.channels=0|a;var f=!1;if("format"in t){var u=t.format,s=e.internalformat=h[u];e.format=k[s],u in d&&("type"in t||(e.type=d[u])),u in v&&(e.compressed=!0),f=!0}!o&&f?e.channels=br[e.format]:o&&!f&&e.channels!==gr[e.format]&&(e.format=e.internalformat=gr[e.channels])}}function T(e){t.pixelStorei(pr,e.flipY),t.pixelStorei(dr,e.premultiplyAlpha),t.pixelStorei(hr,e.colorSpace),t.pixelStorei(lr,e.unpackAlignment)}function D(){_.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function S(e,t){var r=null;if(Lr(t)?r=t:t&&(O(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),Lr(t.data)&&(r=t.data)),t.copy){var n=a.viewportWidth,i=a.viewportHeight;e.width=e.width||n-e.xOffset,e.height=e.height||i-e.yOffset,e.needsCopy=!0}else if(r){if(we(r))e.channels=e.channels||4,e.data=r,"type"in t||e.type!==Ut||(e.type=Mr(r));else if(jr(r))e.channels=e.channels||4,Nr(e,r),e.alignment=1,e.needsFree=!0;else if(Ae(r)){var o=r.data;Array.isArray(o)||e.type!==Ut||(e.type=Mr(o));var f,u,s,c,l,p,d=r.shape,h=r.stride;3===d.length?(s=d[2],p=h[2]):(s=1,p=1),f=d[0],u=d[1],c=h[0],l=h[1],e.alignment=1,e.width=f,e.height=u,e.channels=s,e.format=e.internalformat=gr[s],e.needsFree=!0,Hr(e,o,c,l,p,r.offset)}else if(Vr(r)||Br(r)||zr(r))Vr(r)||Br(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(Ir(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(Pr(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(Rr(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(Cr(r)){var v=e.width||r[0].length,m=e.height||r.length,y=e.channels;y=st(r[0][0])?y||r[0][0].length:y||1;for(var g=_e.shape(r),b=1,x=0;x<g.length;++x)b*=g[x];var w=qr(e,b);_e.flatten(r,g,"",w),Ur(e,w),e.alignment=1,e.width=v,e.height=m,e.channels=y,e.format=e.internalformat=gr[y],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===Qt||e.type}function j(e,r,n){var a=e.element,o=e.data,f=e.internalformat,u=e.format,s=e.type,c=e.width,l=e.height;T(e),a?t.texImage2D(r,n,u,u,s,a):e.compressed?t.compressedTexImage2D(r,n,f,c,l,0,o):e.needsCopy?(i(),t.copyTexImage2D(r,n,u,e.xOffset,e.yOffset,c,l,0)):t.texImage2D(r,n,u,c,l,0,u,s,o||null)}function C(e,r,n,a,o){var f=e.element,u=e.data,s=e.internalformat,c=e.format,l=e.type,p=e.width,d=e.height;T(e),f?t.texSubImage2D(r,o,n,a,c,l,f):e.compressed?t.compressedTexSubImage2D(r,o,n,a,s,p,d,u):e.needsCopy?(i(),t.copyTexSubImage2D(r,o,n,a,e.xOffset,e.yOffset,p,d)):t.texSubImage2D(r,o,n,a,p,d,c,l,u)}var F=[];function V(){return F.pop()||new D}function B(e){e.needsFree&&z.freeType(e.data),D.call(e),F.push(e)}function I(){_.call(this),this.genMipmaps=!1,this.mipmapHint=fr,this.mipmask=0,this.images=Array(16)}function P(e,t,r){var n=e.images[0]=V();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function R(e,t){var r=null;if(Lr(t))E(r=e.images[0]=V(),e),S(r,t),e.mipmask=1;else if(O(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,i=0;i<n.length;++i)E(r=e.images[i]=V(),e),r.width>>=i,r.height>>=i,S(r,n[i]),e.mipmask|=1<<i;else E(r=e.images[0]=V(),e),S(r,t),e.mipmask=1;E(e,e.images[0]),e.compressed&&(e.internalformat===Ct||e.internalformat===Ft||e.internalformat===Vt||e.internalformat)}function L(e,t){for(var r=e.images,n=0;n<r.length;++n){if(!r[n])return;j(r[n],t,n)}}var M=[];function N(){var e=M.pop()||new I;_.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function q(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&B(t[r]),t[r]=null;M.push(e)}function U(){this.minFilter=er,this.magFilter=er,this.wrapS=Xt,this.wrapT=Xt,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=fr}function H(e,t){if("min"in t){var r=t.min;e.minFilter=l[r],yr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var n=t.mag;e.magFilter=c[n]}var i=e.wrapS,a=e.wrapT;if("wrap"in t){var o=t.wrap;"string"===typeof o?i=a=s[o]:Array.isArray(o)&&(i=s[o[0]],a=s[o[1]])}else{if("wrapS"in t){var f=t.wrapS;i=s[f]}if("wrapT"in t){var p=t.wrapT;a=s[p]}}if(e.wrapS=i,e.wrapT=a,"anisotropic"in t&&(t.anisotropic,e.anisotropic=t.anisotropic),"mipmap"in t){var d=!1;switch(typeof t.mipmap){case"string":e.mipmapHint=u[t.mipmap],e.genMipmaps=!0,d=!0;break;case"boolean":d=e.genMipmaps=t.mipmap;break;case"object":e.genMipmaps=!1,d=!0}d&&!("min"in t)&&(e.minFilter=rr)}}function W(e,n){t.texParameteri(n,Zt,e.minFilter),t.texParameteri(n,Kt,e.magFilter),t.texParameteri(n,Gt,e.wrapS),t.texParameteri(n,$t,e.wrapT),r.ext_texture_filter_anisotropic&&t.texParameteri(n,cr,e.anisotropic),e.genMipmaps&&(t.hint(or,e.mipmapHint),t.generateMipmap(n))}var Q=0,G={},$=n.maxTextureUnits,Y=Array($).map((function(){return null}));function X(e){_.call(this),this.mipmask=0,this.internalformat=ht,this.id=Q++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new U,f.profile&&(this.stats={size:0})}function J(e){t.activeTexture(mr),t.bindTexture(e.target,e.texture)}function K(){var e=Y[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(lt,null)}function Z(e){var r=e.texture,n=e.unit,i=e.target;n>=0&&(t.activeTexture(mr+n),t.bindTexture(i,null),Y[n]=null),t.deleteTexture(r),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete G[e.id],o.textureCount--}function ee(e,r){var n=new X(lt);function i(e,t){var r=n.texInfo;U.call(r);var a=N();return"number"===typeof e?P(a,0|e,"number"===typeof t?0|t:0|e):e?(H(r,e),R(a,e)):P(a,1,1),r.genMipmaps&&(a.mipmask=(a.width<<1)-1),n.mipmask=a.mipmask,E(n,a),n.internalformat=a.internalformat,i.width=a.width,i.height=a.height,J(n),L(a,lt),W(r,lt),K(),q(a),f.profile&&(n.stats.size=Wr(n.internalformat,n.type,a.width,a.height,r.genMipmaps,!1)),i.format=g[n.internalformat],i.type=b[n.type],i.mag=x[r.magFilter],i.min=w[r.minFilter],i.wrapS=A[r.wrapS],i.wrapT=A[r.wrapT],i}function a(e,t,r,a){var o=0|t,f=0|r,u=0|a,s=V();return E(s,n),s.width=0,s.height=0,S(s,e),s.width=s.width||(n.width>>u)-o,s.height=s.height||(n.height>>u)-f,J(n),C(s,lt,o,f,u),K(),B(s),i}function u(e,r){var a=0|e,o=0|r||a;if(a===n.width&&o===n.height)return i;i.width=n.width=a,i.height=n.height=o,J(n);for(var u=0;n.mipmask>>u;++u){var s=a>>u,c=o>>u;if(!s||!c)break;t.texImage2D(lt,u,n.format,s,c,0,n.format,n.type,null)}return K(),f.profile&&(n.stats.size=Wr(n.internalformat,n.type,a,o,!1,!1)),i}return G[n.id]=n,o.textureCount++,i(e,r),i.subimage=a,i.resize=u,i._reglType="texture2d",i._texture=n,f.profile&&(i.stats=n.stats),i.destroy=function(){n.decRef()},i}function te(e,r,n,i,a,u){var s=new X(pt);G[s.id]=s,o.cubeCount++;var c=new Array(6);function l(e,t,r,n,i,a){var o,u=s.texInfo;for(U.call(u),o=0;o<6;++o)c[o]=N();if("number"!==typeof e&&e){if("object"===typeof e)if(t)R(c[0],e),R(c[1],t),R(c[2],r),R(c[3],n),R(c[4],i),R(c[5],a);else if(H(u,e),O(s,e),"faces"in e){var p=e.faces;for(o=0;o<6;++o)E(c[o],s),R(c[o],p[o])}else for(o=0;o<6;++o)R(c[o],e)}else{var d=0|e||1;for(o=0;o<6;++o)P(c[o],d,d)}for(E(s,c[0]),u.genMipmaps?s.mipmask=(c[0].width<<1)-1:s.mipmask=c[0].mipmask,s.internalformat=c[0].internalformat,l.width=c[0].width,l.height=c[0].height,J(s),o=0;o<6;++o)L(c[o],dt+o);for(W(u,pt),K(),f.profile&&(s.stats.size=Wr(s.internalformat,s.type,l.width,l.height,u.genMipmaps,!0)),l.format=g[s.internalformat],l.type=b[s.type],l.mag=x[u.magFilter],l.min=w[u.minFilter],l.wrapS=A[u.wrapS],l.wrapT=A[u.wrapT],o=0;o<6;++o)q(c[o]);return l}function p(e,t,r,n,i){var a=0|r,o=0|n,f=0|i,u=V();return E(u,s),u.width=0,u.height=0,S(u,t),u.width=u.width||(s.width>>f)-a,u.height=u.height||(s.height>>f)-o,J(s),C(u,dt+e,a,o,f),K(),B(u),l}function d(e){var r=0|e;if(r!==s.width){l.width=s.width=r,l.height=s.height=r,J(s);for(var n=0;n<6;++n)for(var i=0;s.mipmask>>i;++i)t.texImage2D(dt+n,i,s.format,r>>i,r>>i,0,s.format,s.type,null);return K(),f.profile&&(s.stats.size=Wr(s.internalformat,s.type,l.width,l.height,!1,!0)),l}}return l(e,r,n,i,a,u),l.subimage=p,l.resize=d,l._reglType="textureCube",l._texture=s,f.profile&&(l.stats=s.stats),l.destroy=function(){s.decRef()},l}function re(){for(var e=0;e<$;++e)t.activeTexture(mr+e),t.bindTexture(lt,null),Y[e]=null;ke(G).forEach(Z),o.cubeCount=0,o.textureCount=0}function ne(){for(var e=0;e<$;++e){var r=Y[e];r&&(r.bindCount=0,r.unit=-1,Y[e]=null)}ke(G).forEach((function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var r=0;r<32;++r)if(0!==(e.mipmask&1<<r))if(e.target===lt)t.texImage2D(lt,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)t.texImage2D(dt+n,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);W(e.texInfo,e.target)}))}function ie(){for(var e=0;e<$;++e){var r=Y[e];r&&(r.bindCount=0,r.unit=-1,Y[e]=null),t.activeTexture(mr+e),t.bindTexture(lt,null),t.bindTexture(pt,null)}}return e(X.prototype,{bind:function(){var e=this;e.bindCount+=1;var r=e.unit;if(r<0){for(var n=0;n<$;++n){var i=Y[n];if(i){if(i.bindCount>0)continue;i.unit=-1}Y[n]=e,r=n;break}f.profile&&o.maxTextureUnits<r+1&&(o.maxTextureUnits=r+1),e.unit=r,t.activeTexture(mr+r),t.bindTexture(e.target,e.texture)}return r},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Z(this)}}),f.profile&&(o.getTotalTextureSize=function(){var e=0;return Object.keys(G).forEach((function(t){e+=G[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ne,refresh:ie}}Sr[bt]=2,Sr[xt]=2,Sr[wt]=2,Sr[Tt]=4,Sr[Ct]=.5,Sr[Ft]=.5,Sr[Vt]=1,Sr[Bt]=1,Sr[zt]=.5,Sr[It]=1,Sr[Pt]=1,Sr[Rt]=.5,Sr[Lt]=.25,Sr[Mt]=.5,Sr[Nt]=.25,Sr[qt]=.5;var Gr=36161,$r=32854,Yr=32855,Xr=36194,Jr=33189,Kr=36168,Zr=34041,en=35907,tn=34836,rn=34842,nn=34843,an=[];function on(e,t,r){return an[e]*t*r}an[$r]=2,an[Yr]=2,an[Xr]=2,an[Jr]=2,an[Kr]=1,an[Zr]=4,an[en]=4,an[tn]=16,an[rn]=8,an[nn]=6;var fn=function(e,t,r,n,i){var a={rgba4:$r,rgb565:Xr,"rgb5 a1":Yr,depth:Jr,stencil:Kr,"depth stencil":Zr};t.ext_srgb&&(a.srgba=en),t.ext_color_buffer_half_float&&(a.rgba16f=rn,a.rgb16f=nn),t.webgl_color_buffer_float&&(a.rgba32f=tn);var o=[];Object.keys(a).forEach((function(e){var t=a[e];o[t]=e}));var f=0,u={};function s(e){this.id=f++,this.refCount=1,this.renderbuffer=e,this.format=$r,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var r=t.renderbuffer;e.bindRenderbuffer(Gr,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete u[t.id],n.renderbufferCount--}function l(t,r){var f=new s(e.createRenderbuffer());function c(t,r){var n=0,u=0,s=$r;if("object"===typeof t&&t){var l=t;if("shape"in l){var p=l.shape;n=0|p[0],u=0|p[1]}else"radius"in l&&(n=u=0|l.radius),"width"in l&&(n=0|l.width),"height"in l&&(u=0|l.height);"format"in l&&(s=a[l.format])}else"number"===typeof t?(n=0|t,u="number"===typeof r?0|r:n):t||(n=u=1);if(n!==f.width||u!==f.height||s!==f.format)return c.width=f.width=n,c.height=f.height=u,f.format=s,e.bindRenderbuffer(Gr,f.renderbuffer),e.renderbufferStorage(Gr,s,n,u),i.profile&&(f.stats.size=on(f.format,f.width,f.height)),c.format=o[f.format],c}function l(t,r){var n=0|t,a=0|r||n;return n===f.width&&a===f.height||(c.width=f.width=n,c.height=f.height=a,e.bindRenderbuffer(Gr,f.renderbuffer),e.renderbufferStorage(Gr,f.format,n,a),i.profile&&(f.stats.size=on(f.format,f.width,f.height))),c}return u[f.id]=f,n.renderbufferCount++,c(t,r),c.resize=l,c._reglType="renderbuffer",c._renderbuffer=f,i.profile&&(c.stats=f.stats),c.destroy=function(){f.decRef()},c}function p(){ke(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Gr,t.renderbuffer),e.renderbufferStorage(Gr,t.format,t.width,t.height)})),e.bindRenderbuffer(Gr,null)}return s.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:l,clear:function(){ke(u).forEach(c)},restore:p}},un=36160,sn=36161,cn=3553,ln=34069,pn=36064,dn=36096,hn=36128,vn=33306,mn=36193,yn=5121,gn=5126,bn=6407,xn=[];xn[6408]=4,xn[bn]=3;var wn=[];function An(t,r,n,i,a,o){var f={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],s=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&s.push("srgba"),r.ext_color_buffer_half_float&&s.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&s.push("rgba32f");var c=["uint8"];function l(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,i=0;t?(n=t.width,i=t.height):r&&(n=r.width,i=r.height),this.width=n,this.height=i}function p(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function d(e,t,r){if(e)if(e.texture){var n=e.texture._texture;Math.max(1,n.width),Math.max(1,n.height),n.refCount+=1}else e.renderbuffer._renderbuffer.refCount+=1}function h(e,r){r&&(r.texture?t.framebufferTexture2D(un,e,r.target,r.texture._texture.texture,0):t.framebufferRenderbuffer(un,e,sn,r.renderbuffer._renderbuffer.renderbuffer))}function v(e){var t=cn,r=null,n=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target));var a=i._reglType;return"texture2d"===a||"textureCube"===a?r=i:"renderbuffer"===a&&(n=i,t=sn),new l(t,r,n)}function m(e,t,r,n,o){if(r){var f=i.create2D({width:e,height:t,format:n,type:o});return f._texture.refCount=0,new l(cn,f,null)}var u=a.create({width:e,height:t,format:n});return u._renderbuffer.refCount=0,new l(sn,null,u)}function y(e){return e&&(e.texture||e.renderbuffer)}function g(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}r.oes_texture_half_float&&c.push("half float","float16"),r.oes_texture_float&&c.push("float","float32");var b=0,x={};function w(){this.id=b++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function A(e){e.colorAttachments.forEach(p),p(e.depthAttachment),p(e.stencilAttachment),p(e.depthStencilAttachment)}function k(e){var r=e.framebuffer;t.deleteFramebuffer(r),e.framebuffer=null,o.framebufferCount--,delete x[e.id]}function _(e){var r;t.bindFramebuffer(un,e.framebuffer);var i=e.colorAttachments;for(r=0;r<i.length;++r)h(pn+r,i[r]);for(r=i.length;r<n.maxColorAttachments;++r)t.framebufferTexture2D(un,pn+r,cn,null,0);t.framebufferTexture2D(un,vn,cn,null,0),t.framebufferTexture2D(un,dn,cn,null,0),t.framebufferTexture2D(un,hn,cn,null,0),h(dn,e.depthAttachment),h(hn,e.stencilAttachment),h(vn,e.depthStencilAttachment),t.checkFramebufferStatus(un),t.isContextLost(),t.bindFramebuffer(un,f.next?f.next.framebuffer:null),f.cur=f.next,t.getError()}function E(t,r){var n=new w;function i(e,t){var r,a=0,o=0,f=!0,c=!0,l=null,p=!0,h="rgba",g="uint8",b=1,x=null,w=null,k=null,E=!1;if("number"===typeof e)a=0|e,o=0|t||a;else if(e){var O=e;if("shape"in O){var T=O.shape;a=T[0],o=T[1]}else"radius"in O&&(a=o=O.radius),"width"in O&&(a=O.width),"height"in O&&(o=O.height);("color"in O||"colors"in O)&&(l=O.color||O.colors,Array.isArray(l)),l||("colorCount"in O&&(b=0|O.colorCount),"colorTexture"in O&&(p=!!O.colorTexture,h="rgba4"),"colorType"in O&&(g=O.colorType,p||("half float"===g||"float16"===g?h="rgba16f":"float"!==g&&"float32"!==g||(h="rgba32f"))),"colorFormat"in O&&(h=O.colorFormat,u.indexOf(h)>=0?p=!0:s.indexOf(h)>=0&&(p=!1))),("depthTexture"in O||"depthStencilTexture"in O)&&(E=!(!O.depthTexture&&!O.depthStencilTexture)),"depth"in O&&("boolean"===typeof O.depth?f=O.depth:(x=O.depth,c=!1)),"stencil"in O&&("boolean"===typeof O.stencil?c=O.stencil:(w=O.stencil,f=!1)),"depthStencil"in O&&("boolean"===typeof O.depthStencil?f=c=O.depthStencil:(k=O.depthStencil,f=!1,c=!1))}else a=o=1;var D=null,S=null,j=null,C=null;if(Array.isArray(l))D=l.map(v);else if(l)D=[v(l)];else for(D=new Array(b),r=0;r<b;++r)D[r]=m(a,o,p,h,g);a=a||D[0].width,o=o||D[0].height,x?S=v(x):f&&!c&&(S=m(a,o,E,"depth","uint32")),w?j=v(w):c&&!f&&(j=m(a,o,!1,"stencil","uint8")),k?C=v(k):!x&&!w&&c&&f&&(C=m(a,o,E,"depth stencil","depth stencil"));var F=null;for(r=0;r<D.length;++r)if(d(D[r],a,o),D[r]&&D[r].texture){var V=xn[D[r].texture._texture.format]*wn[D[r].texture._texture.type];null===F&&(F=V)}return d(S,a,o),d(j,a,o),d(C,a,o),A(n),n.width=a,n.height=o,n.colorAttachments=D,n.depthAttachment=S,n.stencilAttachment=j,n.depthStencilAttachment=C,i.color=D.map(y),i.depth=y(S),i.stencil=y(j),i.depthStencil=y(C),i.width=n.width,i.height=n.height,_(n),i}function a(e,t){var r=Math.max(0|e,1),a=Math.max(0|t||r,1);if(r===n.width&&a===n.height)return i;for(var o=n.colorAttachments,f=0;f<o.length;++f)g(o[f],r,a);return g(n.depthAttachment,r,a),g(n.stencilAttachment,r,a),g(n.depthStencilAttachment,r,a),n.width=i.width=r,n.height=i.height=a,_(n),i}return o.framebufferCount++,i(t,r),e(i,{resize:a,_reglType:"framebuffer",_framebuffer:n,destroy:function(){k(n),A(n)},use:function(e){f.setFBO({framebuffer:i},e)}})}function O(t){var r=Array(6);function n(t){var a,o,f={color:null},u=0,s=null,c="rgba",l="uint8",p=1;if("number"===typeof t)u=0|t;else if(t){var d=t;"shape"in d?u=d.shape[0]:("radius"in d&&(u=0|d.radius),"width"in d?u=0|d.width:"height"in d&&(u=0|d.height)),("color"in d||"colors"in d)&&(s=d.color||d.colors,Array.isArray(s)),s||("colorCount"in d&&(p=0|d.colorCount),"colorType"in d&&(l=d.colorType),"colorFormat"in d&&(c=d.colorFormat)),"depth"in d&&(f.depth=d.depth),"stencil"in d&&(f.stencil=d.stencil),"depthStencil"in d&&(f.depthStencil=d.depthStencil)}else u=1;if(s)if(Array.isArray(s))for(o=[],a=0;a<s.length;++a)o[a]=s[a];else o=[s];else{o=Array(p);var h={radius:u,format:c,type:l};for(a=0;a<p;++a)o[a]=i.createCube(h)}for(f.color=Array(o.length),a=0;a<o.length;++a){var v=o[a];u=u||v.width,f.color[a]={target:ln,data:o[a]}}for(a=0;a<6;++a){for(var m=0;m<o.length;++m)f.color[m].target=ln+a;a>0&&(f.depth=r[0].depth,f.stencil=r[0].stencil,f.depthStencil=r[0].depthStencil),r[a]?r[a](f):r[a]=E(f)}return e(n,{width:u,height:u,color:o})}function a(e){var t,i=0|e;if(i===n.width)return n;var a=n.color;for(t=0;t<a.length;++t)a[t].resize(i);for(t=0;t<6;++t)r[t].resize(i);return n.width=n.height=i,n}return n(t),e(n,{faces:r,resize:a,_reglType:"framebufferCube",destroy:function(){r.forEach((function(e){e.destroy()}))}})}function T(){f.cur=null,f.next=null,f.dirty=!0,ke(x).forEach((function(e){e.framebuffer=t.createFramebuffer(),_(e)}))}return e(f,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:E,createCube:O,clear:function(){ke(x).forEach(k)},restore:T})}wn[yn]=1,wn[gn]=4,wn[mn]=2;var kn=5126,_n=34962,En=34963;function On(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=kn,this.offset=0,this.stride=0,this.divisor=0}function Tn(e,t,r,n,i,a,o){for(var f=r.maxAttributes,u=new Array(f),s=0;s<f;++s)u[s]=new On;var c=0,l={},p={Record:On,scope:{},state:u,currentVAO:null,targetVAO:null,restore:h()?w:function(){},createVAO:A,getVAO:m,destroyBuffer:d,setVAO:h()?y:g,clear:h()?b:function(){}};function d(t){for(var r=0;r<u.length;++r){var n=u[r];n.buffer===t&&(e.disableVertexAttribArray(r),n.buffer=null)}}function h(){return t.oes_vertex_array_object}function v(){return t.angle_instanced_arrays}function m(e){return"function"===typeof e&&e._vao?e._vao:null}function y(e){if(e!==p.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),p.currentVAO=e}}function g(t){if(t!==p.currentVAO){if(t)t.bindAttrs();else{for(var r=v(),n=0;n<u.length;++n){var i=u[n];i.buffer?(e.enableVertexAttribArray(n),i.buffer.bind(),e.vertexAttribPointer(n,i.size,i.type,i.normalized,i.stride,i.offfset),r&&i.divisor&&r.vertexAttribDivisorANGLE(n,i.divisor)):(e.disableVertexAttribArray(n),e.vertexAttrib4f(n,i.x,i.y,i.z,i.w))}o.elements?e.bindBuffer(En,o.elements.buffer.buffer):e.bindBuffer(En,null)}p.currentVAO=t}}function b(){ke(l).forEach((function(e){e.destroy()}))}function x(){this.id=++c,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=h();this.vao=e?e.createVertexArrayOES():null,l[this.id]=this,this.buffers=[]}function w(){h()&&ke(l).forEach((function(e){e.refresh()}))}function A(e){var t=new x;function r(e){var n;if(Array.isArray(e))n=e,t.elements&&t.ownsElements&&t.elements.destroy(),t.elements=null,t.ownsElements=!1,t.offset=0,t.count=0,t.instances=-1,t.primitive=4;else{if(e.elements){var o=e.elements;t.ownsElements?"function"===typeof o&&"elements"===o._reglType?(t.elements.destroy(),t.ownsElements=!1):(t.elements(o),t.ownsElements=!1):a.getElements(e.elements)?(t.elements=e.elements,t.ownsElements=!1):(t.elements=a.create(e.elements),t.ownsElements=!0)}else t.elements=null,t.ownsElements=!1;n=e.attributes,t.offset=0,t.count=-1,t.instances=-1,t.primitive=4,t.elements&&(t.count=t.elements._elements.vertCount,t.primitive=t.elements._elements.primType),"offset"in e&&(t.offset=0|e.offset),"count"in e&&(t.count=0|e.count),"instances"in e&&(t.instances=0|e.instances),"primitive"in e&&(t.primitive=We[e.primitive])}var f={},u=t.attributes;u.length=n.length;for(var s=0;s<n.length;++s){var c,l=n[s],p=u[s]=new On,d=l.data||l;Array.isArray(d)||we(d)||Ae(d)?(t.buffers[s]&&(c=t.buffers[s],we(d)&&c._buffer.byteLength>=d.byteLength?c.subdata(d):(c.destroy(),t.buffers[s]=null)),t.buffers[s]||(c=t.buffers[s]=i.create(l,_n,!1,!0)),p.buffer=i.getBuffer(c),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1,f[s]=1):i.getBuffer(l)?(p.buffer=i.getBuffer(l),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1):i.getBuffer(l.buffer)?(p.buffer=i.getBuffer(l.buffer),p.size=0|(+l.size||p.buffer.dimension),p.normalized=!!l.normalized||!1,p.type="type"in l?Fe[l.type]:p.buffer.dtype,p.offset=0|(l.offset||0),p.stride=0|(l.stride||0),p.divisor=0|(l.divisor||0),p.state=1):"x"in l&&(p.x=+l.x||0,p.y=+l.y||0,p.z=+l.z||0,p.w=+l.w||0,p.state=2)}for(var h=0;h<t.buffers.length;++h)!f[h]&&t.buffers[h]&&(t.buffers[h].destroy(),t.buffers[h]=null);return t.refresh(),r}return n.vaoCount+=1,r.destroy=function(){for(var e=0;e<t.buffers.length;++e)t.buffers[e]&&t.buffers[e].destroy();t.buffers.length=0,t.ownsElements&&(t.elements.destroy(),t.elements=null,t.ownsElements=!1),t.destroy()},r._vao=t,r._reglType="vao",r(e)}return x.prototype.bindAttrs=function(){for(var t=v(),r=this.attributes,n=0;n<r.length;++n){var i=r[n];i.buffer?(e.enableVertexAttribArray(n),e.bindBuffer(_n,i.buffer.buffer),e.vertexAttribPointer(n,i.size,i.type,i.normalized,i.stride,i.offset),t&&i.divisor&&t.vertexAttribDivisorANGLE(n,i.divisor)):(e.disableVertexAttribArray(n),e.vertexAttrib4f(n,i.x,i.y,i.z,i.w))}for(var o=r.length;o<f;++o)e.disableVertexAttribArray(o);var u=a.getElements(this.elements);u?e.bindBuffer(En,u.buffer.buffer):e.bindBuffer(En,null)},x.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),p.currentVAO=this)},x.prototype.destroy=function(){if(this.vao){var e=h();this===p.currentVAO&&(p.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),l[this.id]&&(delete l[this.id],n.vaoCount-=1)},p}var Dn=35632,Sn=35633,jn=35718,Cn=35721;function Fn(t,r,n,i){var a={},o={};function f(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function u(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function s(e,n,i){var f=e===Dn?a:o,u=f[n];if(!u){var s=r.str(n);u=t.createShader(e),t.shaderSource(u,s),t.compileShader(u),f[n]=u}return u}var c={},l=[],p=0;function d(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function h(e,n,a){var o,c,l=s(Dn,e.fragId),p=s(Sn,e.vertId),d=e.program=t.createProgram();if(t.attachShader(d,l),t.attachShader(d,p),a)for(o=0;o<a.length;++o){var h=a[o];t.bindAttribLocation(d,h[0],h[1])}t.linkProgram(d);var v=t.getProgramParameter(d,jn);i.profile&&(e.stats.uniformsCount=v);var m=e.uniforms;for(o=0;o<v;++o)if(c=t.getActiveUniform(d,o))if(c.size>1)for(var y=0;y<c.size;++y){var g=c.name.replace("[0]","["+y+"]");u(m,new f(g,r.id(g),t.getUniformLocation(d,g),c))}else u(m,new f(c.name,r.id(c.name),t.getUniformLocation(d,c.name),c));var b=t.getProgramParameter(d,Cn);i.profile&&(e.stats.attributesCount=b);var x=e.attributes;for(o=0;o<b;++o)(c=t.getActiveAttrib(d,o))&&u(x,new f(c.name,r.id(c.name),t.getAttribLocation(d,c.name),c))}function v(){a={},o={};for(var e=0;e<l.length;++e)h(l[e],null,l[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(n.getMaxUniformsCount=function(){var e=0;return l.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},n.getMaxAttributesCount=function(){var e=0;return l.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var e=t.deleteShader.bind(t);ke(a).forEach(e),a={},ke(o).forEach(e),o={},l.forEach((function(e){t.deleteProgram(e.program)})),l.length=0,c={},n.shaderCount=0},program:function(r,i,f,u){var s=c[i];s||(s=c[i]={});var p=s[r];if(p&&(p.refCount++,!u))return p;var v=new d(i,r);return n.shaderCount++,h(v,f,u),p||(s[r]=v),l.push(v),e(v,{destroy:function(){if(v.refCount--,v.refCount<=0){t.deleteProgram(v.program);var e=l.indexOf(v);l.splice(e,1),n.shaderCount--}s[v.vertId].refCount<=0&&(t.deleteShader(o[v.vertId]),delete o[v.vertId],delete c[v.fragId][v.vertId]),Object.keys(c[v.fragId]).length||(t.deleteShader(a[v.fragId]),delete a[v.fragId],delete c[v.fragId])}})},restore:v,shader:s,frag:-1,vert:-1}}var Vn=6408,Bn=5121,zn=3333,In=5126;function Pn(e,t,r,n,i,a,o){function f(i){var a;a=null===t.next?Bn:t.next.colorAttachments[0].texture._texture.type;var o=0,f=0,u=n.framebufferWidth,s=n.framebufferHeight,c=null;we(i)?c=i:i&&(o=0|i.x,f=0|i.y,u=0|(i.width||n.framebufferWidth-o),s=0|(i.height||n.framebufferHeight-f),c=i.data||null),r();var l=u*s*4;return c||(a===Bn?c=new Uint8Array(l):a===In&&(c=c||new Float32Array(l))),e.pixelStorei(zn,4),e.readPixels(o,f,u,s,Vn,a,c),c}function u(e){var r;return t.setFBO({framebuffer:e.framebuffer},(function(){r=f(e)})),r}function s(e){return e&&"framebuffer"in e?u(e):f(e)}return s}function Rn(e){return Array.prototype.slice.call(e)}function Ln(e){return Rn(e).join("")}function Mn(){var t=0,r=[],n=[];function i(e){for(var i=0;i<n.length;++i)if(n[i]===e)return r[i];var a="g"+t++;return r.push(a),n.push(e),a}function a(){var r=[];function n(){r.push.apply(r,Rn(arguments))}var i=[];function a(){var e="v"+t++;return i.push(e),arguments.length>0&&(r.push(e,"="),r.push.apply(r,Rn(arguments)),r.push(";")),e}return e(n,{def:a,toString:function(){return Ln([i.length>0?"var "+i.join(",")+";":"",Ln(r)])}})}function o(){var t=a(),r=a(),n=t.toString,i=r.toString;function o(e,n){r(e,n,"=",t.def(e,n),";")}return e((function(){t.apply(t,Rn(arguments))}),{def:t.def,entry:t,exit:r,save:o,set:function(e,r,n){o(e,r),t(e,r,"=",n,";")},toString:function(){return n()+i()}})}function f(){var t=Ln(arguments),r=o(),n=o(),i=r.toString,a=n.toString;return e(r,{then:function(){return r.apply(r,Rn(arguments)),this},else:function(){return n.apply(n,Rn(arguments)),this},toString:function(){var e=a();return e&&(e="else{"+e+"}"),Ln(["if(",t,"){",i(),"}",e])}})}var u=a(),s={};function c(t,r){var n=[];function i(){var e="a"+n.length;return n.push(e),e}r=r||0;for(var a=0;a<r;++a)i();var f=o(),u=f.toString;return s[t]=e(f,{arg:i,toString:function(){return Ln(["function(",n.join(),"){",u(),"}"])}})}function l(){var e=['"use strict";',u,"return {"];Object.keys(s).forEach((function(t){e.push('"',t,'":',s[t].toString(),",")})),e.push("}");var t=Ln(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,n)}return{global:u,link:i,block:a,proc:c,scope:o,cond:f,compile:l}}var Nn="xyzw".split(""),qn=5121,Un=1,Hn=2,Wn=0,Qn=1,Gn=2,$n=3,Yn=4,Xn=5,Jn=6,Kn="dither",Zn="blend.enable",ei="blend.color",ti="blend.equation",ri="blend.func",ni="depth.enable",ii="depth.func",ai="depth.range",oi="depth.mask",fi="colorMask",ui="cull.enable",si="cull.face",ci="frontFace",li="lineWidth",pi="polygonOffset.enable",di="polygonOffset.offset",hi="sample.alpha",vi="sample.enable",mi="sample.coverage",yi="stencil.enable",gi="stencil.mask",bi="stencil.func",xi="stencil.opFront",wi="stencil.opBack",Ai="scissor.enable",ki="scissor.box",_i="viewport",Ei="profile",Oi="framebuffer",Ti="vert",Di="frag",Si="elements",ji="primitive",Ci="count",Fi="offset",Vi="instances",Bi="vao",zi="Width",Ii="Height",Pi=Oi+zi,Ri=Oi+Ii,Li=_i+zi,Mi=_i+Ii,Ni="drawingBuffer",qi=Ni+zi,Ui=Ni+Ii,Hi=[ri,ti,bi,xi,wi,mi,_i,ki,di],Wi=34962,Qi=34963,Gi=2884,$i=3042,Yi=3024,Xi=2960,Ji=2929,Ki=3089,Zi=32823,ea=32926,ta=32928,ra=5126,na=35664,ia=35665,aa=35666,oa=5124,fa=35667,ua=35668,sa=35669,ca=35670,la=35671,pa=35672,da=35673,ha=35674,va=35675,ma=35676,ya=35678,ga=35680,ba=4,xa=1028,wa=1029,Aa=2304,ka=2305,_a=32775,Ea=32776,Oa=519,Ta=7680,Da=0,Sa=1,ja=32774,Ca=513,Fa=36160,Va=36064,Ba={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},za={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ia={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Pa={cw:Aa,ccw:ka};function Ra(e){return Array.isArray(e)||we(e)||Ae(e)}function La(e){return e.sort((function(e,t){return e===_i?-1:t===_i?1:e<t?-1:1}))}function Ma(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function Na(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function qa(e){return new Ma(!1,!1,!1,e)}function Ua(e,t){var r=e.type;if(r===Wn){var n=e.data.length;return new Ma(!0,n>=1,n>=2,t)}if(r===Yn){var i=e.data;return new Ma(i.thisDep,i.contextDep,i.propDep,t)}if(r===Xn)return new Ma(!1,!1,!1,t);if(r===Jn){for(var a=!1,o=!1,f=!1,u=0;u<e.data.length;++u){var s=e.data[u];if(s.type===Qn)f=!0;else if(s.type===Gn)o=!0;else if(s.type===$n)a=!0;else if(s.type===Wn){a=!0;var c=s.data;c>=1&&(o=!0),c>=2&&(f=!0)}else s.type===Yn&&(a=a||s.data.thisDep,o=o||s.data.contextDep,f=f||s.data.propDep)}return new Ma(a,o,f,t)}return new Ma(r===$n,r===Gn,r===Qn,t)}var Ha=new Ma(!1,!1,!1,(function(){}));function Wa(t,r,n,i,a,o,f,u,s,c,l,d,h,v,m){var y=c.Record,g={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(g.min=_a,g.max=Ea);var b=n.angle_instanced_arrays,x=n.webgl_draw_buffers,w=n.oes_vertex_array_object,A={dirty:!0,profile:m.profile},k={},E=[],O={},T={};function D(e){return e.replace(".","_")}function S(e,t,r){var n=D(e);E.push(e),k[n]=A[n]=!!r,O[n]=t}function j(e,t,r){var n=D(e);E.push(e),Array.isArray(r)?(A[n]=r.slice(),k[n]=r.slice()):A[n]=k[n]=r,T[n]=t}S(Kn,Yi),S(Zn,$i),j(ei,"blendColor",[0,0,0,0]),j(ti,"blendEquationSeparate",[ja,ja]),j(ri,"blendFuncSeparate",[Sa,Da,Sa,Da]),S(ni,Ji,!0),j(ii,"depthFunc",Ca),j(ai,"depthRange",[0,1]),j(oi,"depthMask",!0),j(fi,fi,[!0,!0,!0,!0]),S(ui,Gi),j(si,"cullFace",wa),j(ci,ci,ka),j(li,li,1),S(pi,Zi),j(di,"polygonOffset",[0,0]),S(hi,ea),S(vi,ta),j(mi,"sampleCoverage",[1,!1]),S(yi,Xi),j(gi,"stencilMask",-1),j(bi,"stencilFunc",[Oa,0,-1]),j(xi,"stencilOpSeparate",[xa,Ta,Ta,Ta]),j(wi,"stencilOpSeparate",[wa,Ta,Ta,Ta]),S(Ai,Ki),j(ki,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),j(_i,_i,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var C={gl:t,context:h,strings:r,next:k,current:A,draw:d,elements:o,buffer:a,shader:l,attributes:c.state,vao:c,uniforms:s,framebuffer:u,extensions:n,timer:v,isBufferArgs:Ra},F={primTypes:We,compareFuncs:za,blendFuncs:Ba,blendEquations:g,stencilOps:Ia,glTypes:Fe,orientationType:Pa};x&&(F.backBuffer=[wa],F.drawBuffer=_(i.maxDrawbuffers,(function(e){return 0===e?[0]:_(e,(function(e){return Va+e}))})));var V=0;function B(){var e=Mn(),t=e.link,n=e.global;e.id=V++,e.batchId="0";var i=t(C),a=e.shared={props:"a0"};Object.keys(C).forEach((function(e){a[e]=n.def(i,".",e)}));var o=e.next={},f=e.current={};Object.keys(T).forEach((function(e){Array.isArray(A[e])&&(o[e]=n.def(a.next,".",e),f[e]=n.def(a.current,".",e))}));var u=e.constants={};Object.keys(F).forEach((function(e){u[e]=n.def(JSON.stringify(F[e]))})),e.invoke=function(r,n){switch(n.type){case Wn:var i=["this",a.context,a.props,e.batchId];return r.def(t(n.data),".call(",i.slice(0,Math.max(n.data.length+1,4)),")");case Qn:return r.def(a.props,n.data);case Gn:return r.def(a.context,n.data);case $n:return r.def("this",n.data);case Yn:return n.data.append(e,r),n.data.ref;case Xn:return n.data.toString();case Jn:return n.data.map((function(t){return e.invoke(r,t)}))}},e.attribCache={};var s={};return e.scopeAttrib=function(e){var n=r.id(e);if(n in s)return s[n];var i=c.scope[n];return i||(i=c.scope[n]=new y),s[n]=t(i)},e}function z(e){var t,r=e.static,n=e.dynamic;if(Ei in r){var i=!!r[Ei];(t=qa((function(e,t){return i}))).enable=i}else if(Ei in n){var a=n[Ei];t=Ua(a,(function(e,t){return e.invoke(t,a)}))}return t}function I(e,t){var r=e.static,n=e.dynamic;if(Oi in r){var i=r[Oi];return i?(i=u.getFramebuffer(i),qa((function(e,t){var r=e.link(i),n=e.shared;t.set(n.framebuffer,".next",r);var a=n.context;return t.set(a,"."+Pi,r+".width"),t.set(a,"."+Ri,r+".height"),r}))):qa((function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+Pi,n+"."+qi),t.set(n,"."+Ri,n+"."+Ui),"null"}))}if(Oi in n){var a=n[Oi];return Ua(a,(function(e,t){var r=e.invoke(t,a),n=e.shared,i=n.framebuffer,o=t.def(i,".getFramebuffer(",r,")");t.set(i,".next",o);var f=n.context;return t.set(f,"."+Pi,o+"?"+o+".width:"+f+"."+qi),t.set(f,"."+Ri,o+"?"+o+".height:"+f+"."+Ui),o}))}return null}function P(e,t,r){var n=e.static,i=e.dynamic;function a(e){if(e in n){var r,a,o=n[e],f=!0,u=0|o.x,s=0|o.y;return"width"in o?r=0|o.width:f=!1,"height"in o?a=0|o.height:f=!1,new Ma(!f&&t&&t.thisDep,!f&&t&&t.contextDep,!f&&t&&t.propDep,(function(e,t){var n=e.shared.context,i=r;"width"in o||(i=t.def(n,".",Pi,"-",u));var f=a;return"height"in o||(f=t.def(n,".",Ri,"-",s)),[u,s,i,f]}))}if(e in i){var c=i[e],l=Ua(c,(function(e,t){var r=e.invoke(t,c),n=e.shared.context,i=t.def(r,".x|0"),a=t.def(r,".y|0");return[i,a,t.def('"width" in ',r,"?",r,".width|0:","(",n,".",Pi,"-",i,")"),t.def('"height" in ',r,"?",r,".height|0:","(",n,".",Ri,"-",a,")")]}));return t&&(l.thisDep=l.thisDep||t.thisDep,l.contextDep=l.contextDep||t.contextDep,l.propDep=l.propDep||t.propDep),l}return t?new Ma(t.thisDep,t.contextDep,t.propDep,(function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",Pi),t.def(r,".",Ri)]})):null}var o=a(_i);if(o){var f=o;o=new Ma(o.thisDep,o.contextDep,o.propDep,(function(e,t){var r=f.append(e,t),n=e.shared.context;return t.set(n,"."+Li,r[2]),t.set(n,"."+Mi,r[3]),r}))}return{viewport:o,scissor_box:a(ki)}}function R(e,t){var r=e.static;if("string"===typeof r[Di]&&"string"===typeof r[Ti]){if(Object.keys(t.dynamic).length>0)return null;var n=t.static,i=Object.keys(n);if(i.length>0&&"number"===typeof n[i[0]]){for(var a=[],o=0;o<i.length;++o)a.push([0|n[i[o]],i[o]]);return a}}return null}function L(e,t,n){var i=e.static,a=e.dynamic;function o(e){if(e in i){var t=r.id(i[e]),n=qa((function(){return t}));return n.id=t,n}if(e in a){var o=a[e];return Ua(o,(function(e,t){var r=e.invoke(t,o);return t.def(e.shared.strings,".id(",r,")")}))}return null}var f,u=o(Di),s=o(Ti),c=null;return Na(u)&&Na(s)?(c=l.program(s.id,u.id,null,n),f=qa((function(e,t){return e.link(c)}))):f=new Ma(u&&u.thisDep||s&&s.thisDep,u&&u.contextDep||s&&s.contextDep,u&&u.propDep||s&&s.propDep,(function(e,t){var r,n=e.shared.shader;r=u?u.append(e,t):t.def(n,".",Di);var i=n+".program("+(s?s.append(e,t):t.def(n,".",Ti))+","+r;return t.def(i+")")})),{frag:u,vert:s,progVar:f,program:c}}function M(e,t){var r=e.static,n=e.dynamic,i={},a=!1;function f(){if(Bi in r){var e=r[Bi];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),a=!0,i.vao=e,qa((function(t){var r=c.getVAO(e);return r?t.link(r):"null"}))}if(Bi in n){a=!0;var t=n[Bi];return Ua(t,(function(e,r){var n=e.invoke(r,t);return r.def(e.shared.vao+".getVAO("+n+")")}))}return null}var u=f(),s=!1;function l(){if(Si in r){var e=r[Si];if(i.elements=e,Ra(e)){var t=i.elements=o.create(e,!0);e=o.getElements(t),s=!0}else e&&(e=o.getElements(e),s=!0);var f=qa((function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null}));return f.value=e,f}if(Si in n){s=!0;var c=n[Si];return Ua(c,(function(e,t){var r=e.shared,n=r.isBufferArgs,i=r.elements,a=e.invoke(t,c),o=t.def("null"),f=t.def(n,"(",a,")"),u=e.cond(f).then(o,"=",i,".createStream(",a,");").else(o,"=",i,".getElements(",a,");");return t.entry(u),t.exit(e.cond(f).then(i,".destroyStream(",o,");")),e.ELEMENTS=o,o}))}return a?new Ma(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var p=l();function d(){if(ji in r){var e=r[ji];return i.primitive=e,qa((function(t,r){return We[e]}))}if(ji in n){var t=n[ji];return Ua(t,(function(e,r){var n=e.constants.primTypes,i=e.invoke(r,t);return r.def(n,"[",i,"]")}))}return s?Na(p)?p.value?qa((function(e,t){return t.def(e.ELEMENTS,".primType")})):qa((function(){return ba})):new Ma(p.thisDep,p.contextDep,p.propDep,(function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",ba)})):a?new Ma(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+ba)})):null}function h(e,t){if(e in r){var o=0|r[e];return t?i.offset=o:i.instances=o,qa((function(e,r){return t&&(e.OFFSET=o),o}))}if(e in n){var f=n[e];return Ua(f,(function(e,r){var n=e.invoke(r,f);return t&&(e.OFFSET=n),n}))}if(t){if(s)return qa((function(e,t){return e.OFFSET=0,0}));if(a)return new Ma(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(a)return new Ma(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}s&&(u=qa((function(){return"null"})));var v=h(Fi,!0);function m(){if(Ci in r){var e=0|r[Ci];return i.count=e,qa((function(){return e}))}if(Ci in n){var t=n[Ci];return Ua(t,(function(e,r){return e.invoke(r,t)}))}return s?Na(p)?p?v?new Ma(v.thisDep,v.contextDep,v.propDep,(function(e,t){return t.def(e.ELEMENTS,".vertCount-",e.OFFSET)})):qa((function(e,t){return t.def(e.ELEMENTS,".vertCount")})):qa((function(){return-1})):new Ma(p.thisDep||v.thisDep,p.contextDep||v.contextDep,p.propDep||v.propDep,(function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")})):a?new Ma(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}var y=d(),g=m(),b=h(Vi,!1);return{elements:p,primitive:y,count:g,instances:b,offset:v,vao:u,vaoActive:a,elementsActive:s,static:i}}function N(e,t){var r=e.static,n=e.dynamic,i={};return E.forEach((function(e){var t=D(e);function a(a,o){if(e in r){var f=a(r[e]);i[t]=qa((function(){return f}))}else if(e in n){var u=n[e];i[t]=Ua(u,(function(e,t){return o(e,t,e.invoke(t,u))}))}}switch(e){case ui:case Zn:case Kn:case yi:case ni:case Ai:case pi:case hi:case vi:case oi:return a((function(e){return e}),(function(e,t,r){return r}));case ii:return a((function(e){return za[e]}),(function(e,t,r){var n=e.constants.compareFuncs;return t.def(n,"[",r,"]")}));case ai:return a((function(e){return e}),(function(e,t,r){return[t.def("+",r,"[0]"),t.def("+",r,"[1]")]}));case ri:return a((function(e){var t="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,n="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return[Ba[t],Ba[n],Ba[r],Ba[i]]}),(function(e,t,r){var n=e.constants.blendFuncs;function i(e,n){return t.def('"',e,n,'" in ',r,"?",r,".",e,n,":",r,".",e)}var a=i("src","RGB"),o=i("dst","RGB"),f=t.def(n,"[",a,"]"),u=t.def(n,"[",i("src","Alpha"),"]");return[f,t.def(n,"[",o,"]"),u,t.def(n,"[",i("dst","Alpha"),"]")]}));case ti:return a((function(e){return"string"===typeof e?[g[e],g[e]]:"object"===typeof e?[g[e.rgb],g[e.alpha]]:void 0}),(function(e,t,r){var n=e.constants.blendEquations,i=t.def(),a=t.def(),o=e.cond("typeof ",r,'==="string"');return o.then(i,"=",a,"=",n,"[",r,"];"),o.else(i,"=",n,"[",r,".rgb];",a,"=",n,"[",r,".alpha];"),t(o),[i,a]}));case ei:return a((function(e){return _(4,(function(t){return+e[t]}))}),(function(e,t,r){return _(4,(function(e){return t.def("+",r,"[",e,"]")}))}));case gi:return a((function(e){return 0|e}),(function(e,t,r){return t.def(r,"|0")}));case bi:return a((function(e){var t=e.cmp||"keep",r=e.ref||0,n="mask"in e?e.mask:-1;return[za[t],r,n]}),(function(e,t,r){var n=e.constants.compareFuncs;return[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",Ta),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case xi:case wi:return a((function(t){var r=t.fail||"keep",n=t.zfail||"keep",i=t.zpass||"keep";return[e===wi?wa:xa,Ia[r],Ia[n],Ia[i]]}),(function(t,r,n){var i=t.constants.stencilOps;function a(e){return r.def('"',e,'" in ',n,"?",i,"[",n,".",e,"]:",Ta)}return[e===wi?wa:xa,a("fail"),a("zfail"),a("zpass")]}));case di:return a((function(e){return[0|e.factor,0|e.units]}),(function(e,t,r){return[t.def(r,".factor|0"),t.def(r,".units|0")]}));case si:return a((function(e){var t=0;return"front"===e?t=xa:"back"===e&&(t=wa),t}),(function(e,t,r){return t.def(r,'==="front"?',xa,":",wa)}));case li:return a((function(e){return e}),(function(e,t,r){return r}));case ci:return a((function(e){return Pa[e]}),(function(e,t,r){return t.def(r+'==="cw"?'+Aa+":"+ka)}));case fi:return a((function(e){return e.map((function(e){return!!e}))}),(function(e,t,r){return _(4,(function(e){return"!!"+r+"["+e+"]"}))}));case mi:return a((function(e){return["value"in e?e.value:1,!!e.invert]}),(function(e,t,r){return[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]}))}})),i}function q(e,t){var r=e.static,n=e.dynamic,i={};return Object.keys(r).forEach((function(e){var t,n=r[e];if("number"===typeof n||"boolean"===typeof n)t=qa((function(){return n}));else if("function"===typeof n){var a=n._reglType;"texture2d"===a||"textureCube"===a?t=qa((function(e){return e.link(n)})):"framebuffer"!==a&&"framebufferCube"!==a||(t=qa((function(e){return e.link(n.color[0])})))}else st(n)&&(t=qa((function(e){return e.global.def("[",_(n.length,(function(e){return n[e]})),"]")})));t.value=n,i[e]=t})),Object.keys(n).forEach((function(e){var t=n[e];i[e]=Ua(t,(function(e,r){return e.invoke(r,t)}))})),i}function U(e,t){var n=e.static,i=e.dynamic,o={};return Object.keys(n).forEach((function(e){var t=n[e],i=r.id(e),f=new y;if(Ra(t))f.state=Un,f.buffer=a.getBuffer(a.create(t,Wi,!1,!0)),f.type=0;else{var u=a.getBuffer(t);if(u)f.state=Un,f.buffer=u,f.type=0;else if("constant"in t){var s=t.constant;f.buffer="null",f.state=Hn,"number"===typeof s?f.x=s:Nn.forEach((function(e,t){t<s.length&&(f[e]=s[t])}))}else{u=Ra(t.buffer)?a.getBuffer(a.create(t.buffer,Wi,!1,!0)):a.getBuffer(t.buffer);var c=0|t.offset,l=0|t.stride,p=0|t.size,d=!!t.normalized,h=0;"type"in t&&(h=Fe[t.type]);var v=0|t.divisor;f.buffer=u,f.state=Un,f.size=p,f.normalized=d,f.type=h||u.dtype,f.offset=c,f.stride=l,f.divisor=v}}o[e]=qa((function(e,t){var r=e.attribCache;if(i in r)return r[i];var n={isStream:!1};return Object.keys(f).forEach((function(e){n[e]=f[e]})),f.buffer&&(n.buffer=e.link(f.buffer),n.type=n.type||n.buffer+".dtype"),r[i]=n,n}))})),Object.keys(i).forEach((function(e){var t=i[e];function r(e,r){var n=e.invoke(r,t),i=e.shared,a=e.constants,o=i.isBufferArgs,f=i.buffer,u={isStream:r.def(!1)},s=new y;s.state=Un,Object.keys(s).forEach((function(e){u[e]=r.def(""+s[e])}));var c=u.buffer,l=u.type;function p(e){r(u[e],"=",n,".",e,"|0;")}return r("if(",o,"(",n,")){",u.isStream,"=true;",c,"=",f,".createStream(",Wi,",",n,");",l,"=",c,".dtype;","}else{",c,"=",f,".getBuffer(",n,");","if(",c,"){",l,"=",c,".dtype;",'}else if("constant" in ',n,"){",u.state,"=",Hn,";","if(typeof "+n+'.constant === "number"){',u[Nn[0]],"=",n,".constant;",Nn.slice(1).map((function(e){return u[e]})).join("="),"=0;","}else{",Nn.map((function(e,t){return u[e]+"="+n+".constant.length>"+t+"?"+n+".constant["+t+"]:0;"})).join(""),"}}else{","if(",o,"(",n,".buffer)){",c,"=",f,".createStream(",Wi,",",n,".buffer);","}else{",c,"=",f,".getBuffer(",n,".buffer);","}",l,'="type" in ',n,"?",a.glTypes,"[",n,".type]:",c,".dtype;",u.normalized,"=!!",n,".normalized;"),p("size"),p("offset"),p("stride"),p("divisor"),r("}}"),r.exit("if(",u.isStream,"){",f,".destroyStream(",c,");","}"),u}o[e]=Ua(t,r)})),o}function H(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach((function(e){var r=t[e];n[e]=qa((function(e,t){return"number"===typeof r||"boolean"===typeof r?""+r:e.link(r)}))})),Object.keys(r).forEach((function(e){var t=r[e];n[e]=Ua(t,(function(e,r){return e.invoke(r,t)}))})),n}function W(e,t,r,i,a){e.static,e.dynamic;var o=R(e,t),f=I(e,a),u=P(e,f,a),s=M(e,a),l=N(e,a),p=L(e,a,o);function d(e){var t=u[e];t&&(l[e]=t)}d(_i),d(D(ki));var h=Object.keys(l).length>0,v={framebuffer:f,draw:s,shader:p,state:l,dirty:h,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(v.profile=z(e,a),v.uniforms=q(r,a),v.drawVAO=v.scopeVAO=s.vao,!v.drawVAO&&p.program&&!o&&n.angle_instanced_arrays&&s.static.elements){var m=!0,y=p.program.attributes.map((function(e){var r=t.static[e];return m=m&&!!r,r}));if(m&&y.length>0){var g=c.getVAO(c.createVAO({attributes:y,elements:s.static.elements}));v.drawVAO=new Ma(null,null,null,(function(e,t){return e.link(g)})),v.useVAO=!0}}return o?v.useVAO=!0:v.attributes=U(t,a),v.context=H(i,a),v}function Q(e,t,r){var n=e.shared.context,i=e.scope();Object.keys(r).forEach((function(a){t.save(n,"."+a);var o=r[a].append(e,t);Array.isArray(o)?i(n,".",a,"=[",o.join(),"];"):i(n,".",a,"=",o,";")})),t(i)}function G(e,t,r,n){var i,a=e.shared,o=a.gl,f=a.framebuffer;x&&(i=t.def(a.extensions,".webgl_draw_buffers"));var u,s=e.constants,c=s.drawBuffer,l=s.backBuffer;u=r?r.append(e,t):t.def(f,".next"),n||t("if(",u,"!==",f,".cur){"),t("if(",u,"){",o,".bindFramebuffer(",Fa,",",u,".framebuffer);"),x&&t(i,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Fa,",null);"),x&&t(i,".drawBuffersWEBGL(",l,");"),t("}",f,".cur=",u,";"),n||t("}")}function $(e,t,r){var n=e.shared,i=n.gl,a=e.current,o=e.next,f=n.current,u=n.next,s=e.cond(f,".dirty");E.forEach((function(t){var n,c,l=D(t);if(!(l in r.state))if(l in o){n=o[l],c=a[l];var p=_(A[l].length,(function(e){return s.def(n,"[",e,"]")}));s(e.cond(p.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",T[l],"(",p,");",p.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{n=s.def(u,".",l);var d=e.cond(n,"!==",f,".",l);s(d),l in O?d(e.cond(n).then(i,".enable(",O[l],");").else(i,".disable(",O[l],");"),f,".",l,"=",n,";"):d(i,".",T[l],"(",n,");",f,".",l,"=",n,";")}})),0===Object.keys(r.state).length&&s(f,".dirty=false;"),t(s)}function Y(e,t,r,n){var i=e.shared,a=e.current,o=i.current,f=i.gl;La(Object.keys(r)).forEach((function(i){var u=r[i];if(!n||n(u)){var s=u.append(e,t);if(O[i]){var c=O[i];Na(u)?t(f,s?".enable(":".disable(",c,");"):t(e.cond(s).then(f,".enable(",c,");").else(f,".disable(",c,");")),t(o,".",i,"=",s,";")}else if(st(s)){var l=a[i];t(f,".",T[i],"(",s,");",s.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";")}else t(f,".",T[i],"(",s,");",o,".",i,"=",s,";")}}))}function X(e,t){b&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function J(e,t,r,n,i){var a,o,f,u=e.shared,s=e.stats,c=u.current,l=u.timer,p=r.profile;function d(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function h(e){e(a=t.def(),"=",d(),";"),"string"===typeof i?e(s,".count+=",i,";"):e(s,".count++;"),v&&(n?e(o=t.def(),"=",l,".getNumPendingQueries();"):e(l,".beginQuery(",s,");"))}function m(e){e(s,".cpuTime+=",d(),"-",a,";"),v&&(n?e(l,".pushScopeStats(",o,",",l,".getNumPendingQueries(),",s,");"):e(l,".endQuery();"))}function y(e){var r=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",r,";")}if(p){if(Na(p))return void(p.enable?(h(t),m(t.exit),y("true")):y("false"));y(f=p.append(e,t))}else f=t.def(c,".profile");var g=e.block();h(g),t("if(",f,"){",g,"}");var b=e.block();m(b),t.exit("if(",f,"){",b,"}")}function K(e,t,r,n,i){var a=e.shared;function o(e){switch(e){case na:case fa:case la:return 2;case ia:case ua:case pa:return 3;case aa:case sa:case da:return 4;default:return 1}}function f(r,n,i){var o=a.gl,f=t.def(r,".location"),u=t.def(a.attributes,"[",f,"]"),s=i.state,c=i.buffer,l=[i.x,i.y,i.z,i.w],p=["buffer","normalized","offset","stride"];function d(){t("if(!",u,".buffer){",o,".enableVertexAttribArray(",f,");}");var r,a=i.type;if(r=i.size?t.def(i.size,"||",n):n,t("if(",u,".type!==",a,"||",u,".size!==",r,"||",p.map((function(e){return u+"."+e+"!=="+i[e]})).join("||"),"){",o,".bindBuffer(",Wi,",",c,".buffer);",o,".vertexAttribPointer(",[f,r,a,i.normalized,i.stride,i.offset],");",u,".type=",a,";",u,".size=",r,";",p.map((function(e){return u+"."+e+"="+i[e]+";"})).join(""),"}"),b){var s=i.divisor;t("if(",u,".divisor!==",s,"){",e.instancing,".vertexAttribDivisorANGLE(",[f,s],");",u,".divisor=",s,";}")}}function h(){t("if(",u,".buffer){",o,".disableVertexAttribArray(",f,");",u,".buffer=null;","}if(",Nn.map((function(e,t){return u+"."+e+"!=="+l[t]})).join("||"),"){",o,".vertexAttrib4f(",f,",",l,");",Nn.map((function(e,t){return u+"."+e+"="+l[t]+";"})).join(""),"}")}s===Un?d():s===Hn?h():(t("if(",s,"===",Un,"){"),d(),t("}else{"),h(),t("}"))}n.forEach((function(n){var a,u=n.name,s=r.attributes[u];if(s){if(!i(s))return;a=s.append(e,t)}else{if(!i(Ha))return;var c=e.scopeAttrib(u);a={},Object.keys(new y).forEach((function(e){a[e]=t.def(c,".",e)}))}f(e.link(n),o(n.info.type),a)}))}function Z(e,t,n,i,a,o){for(var f,u=e.shared,s=u.gl,c=0;c<i.length;++c){var l,p=i[c],d=p.name,h=p.info.type,v=n.uniforms[d],m=e.link(p)+".location";if(v){if(!a(v))continue;if(Na(v)){var y=v.value;if(h===ya||h===ga){var g=e.link(y._texture||y.color[0]._texture);t(s,".uniform1i(",m,",",g+".bind());"),t.exit(g,".unbind();")}else if(h===ha||h===va||h===ma){var b=e.global.def("new Float32Array(["+Array.prototype.slice.call(y)+"])"),x=2;h===va?x=3:h===ma&&(x=4),t(s,".uniformMatrix",x,"fv(",m,",false,",b,");")}else{switch(h){case ra:f="1f";break;case na:f="2f";break;case ia:f="3f";break;case aa:f="4f";break;case ca:case oa:f="1i";break;case la:case fa:f="2i";break;case pa:case ua:f="3i";break;case da:case sa:f="4i"}t(s,".uniform",f,"(",m,",",st(y)?Array.prototype.slice.call(y):y,");")}continue}l=v.append(e,t)}else{if(!a(Ha))continue;l=t.def(u.uniforms,"[",r.id(d),"]")}h===ya?t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}"):h===ga&&t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}");var w=1;switch(h){case ya:case ga:var A=t.def(l,"._texture");t(s,".uniform1i(",m,",",A,".bind());"),t.exit(A,".unbind();");continue;case oa:case ca:f="1i";break;case fa:case la:f="2i",w=2;break;case ua:case pa:f="3i",w=3;break;case sa:case da:f="4i",w=4;break;case ra:f="1f";break;case na:f="2f",w=2;break;case ia:f="3f",w=3;break;case aa:f="4f",w=4;break;case ha:f="Matrix2fv";break;case va:f="Matrix3fv";break;case ma:f="Matrix4fv"}if("M"===f.charAt(0)){t(s,".uniform",f,"(",m,",");var k=Math.pow(h-ha+2,2),E=e.global.def("new Float32Array(",k,")");Array.isArray(l)?t("false,(",_(k,(function(e){return E+"["+e+"]="+l[e]})),",",E,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",_(k,(function(e){return E+"["+e+"]="+l+"["+e+"]"})),",",E,")"),t(");")}else if(w>1){for(var O=[],T=[],D=0;D<w;++D)Array.isArray(l)?T.push(l[D]):T.push(t.def(l+"["+D+"]")),o&&O.push(t.def());o&&t("if(!",e.batchId,"||",O.map((function(e,t){return e+"!=="+T[t]})).join("||"),"){",O.map((function(e,t){return e+"="+T[t]+";"})).join("")),t(s,".uniform",f,"(",m,",",T.join(","),");"),o&&t("}")}else{if(o){var S=t.def();t("if(!",e.batchId,"||",S,"!==",l,"){",S,"=",l,";")}t(s,".uniform",f,"(",m,",",l,");"),o&&t("}")}}}function ee(e,t,r,n){var i=e.shared,a=i.gl,o=i.draw,f=n.draw;function u(){var u,s=f.elements,c=t;return s?((s.contextDep&&n.contextDynamic||s.propDep)&&(c=r),f.vaoActive?u=s.append(e,c):c("if("+(u=s.append(e,c))+")"+a+".bindBuffer("+Qi+","+u+".buffer.buffer);")):(u=c.def(),c("if(",i.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",w?"":"if("+u+")"+a+".bindBuffer("+Qi+","+u+".buffer.buffer);","}else{",u,"=",o,".",Si,";","if(",u,"){",a,".bindBuffer(",Qi,",",u,".buffer.buffer);}}")),u}function s(){var i,a=f.count,u=t;return a?((a.contextDep&&n.contextDynamic||a.propDep)&&(u=r),i=a.append(e,u)):i=u.def(o,".",Ci),i}var c=u();function l(i){var a=f[i];return a?a.contextDep&&n.contextDynamic||a.propDep?a.append(e,r):a.append(e,t):t.def(o,".",i)}var p,d,h=l(ji),v=l(Fi),m=s();if("number"===typeof m){if(0===m)return}else r("if(",m,"){"),r.exit("}");b&&(p=l(Vi),d=e.instancing);var y=c+".type",g=f.elements&&Na(f.elements)&&!f.vaoActive;function x(){function e(){r(d,".drawElementsInstancedANGLE(",[h,m,y,v+"<<(("+y+"-"+qn+")>>1)",p],");")}function t(){r(d,".drawArraysInstancedANGLE(",[h,v,m,p],");")}c&&"null"!==c?g?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}function A(){function e(){r(a+".drawElements("+[h,m,y,v+"<<(("+y+"-"+qn+")>>1)"]+");")}function t(){r(a+".drawArrays("+[h,v,m]+");")}c&&"null"!==c?g?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}b&&("number"!==typeof p||p>=0)?"string"===typeof p?(r("if(",p,">0){"),x(),r("}else if(",p,"<0){"),A(),r("}")):x():A()}function te(e,t,r,n,i){var a=B(),o=a.proc("body",i);return b&&(a.instancing=o.def(a.shared.extensions,".angle_instanced_arrays")),e(a,o,r,n),a.compile().body}function re(e,t,r,n){X(e,t),r.useVAO?r.drawVAO?t(e.shared.vao,".setVAO(",r.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),K(e,t,r,n.attributes,(function(){return!0}))),Z(e,t,r,n.uniforms,(function(){return!0}),!1),ee(e,t,t,r)}function ne(e,t){var r=e.proc("draw",1);X(e,r),Q(e,r,t.context),G(e,r,t.framebuffer),$(e,r,t),Y(e,r,t.state),J(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)re(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),a=r.def(n,".id"),o=r.def(i,"[",a,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",i,"[",a,"]=",e.link((function(r){return te(re,e,t,r,1)})),"(",n,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function ie(e,t,r,n){function i(){return!0}e.batchId="a1",X(e,t),K(e,t,r,n.attributes,i),Z(e,t,r,n.uniforms,i,!1),ee(e,t,t,r)}function ae(e,t,r,n){X(e,t);var i=r.contextDep,a=t.def(),o="a0",f="a1",u=t.def();e.shared.props=u,e.batchId=a;var s=e.scope(),c=e.scope();function l(e){return e.contextDep&&i||e.propDep}function p(e){return!l(e)}if(t(s.entry,"for(",a,"=0;",a,"<",f,";++",a,"){",u,"=",o,"[",a,"];",c,"}",s.exit),r.needsContext&&Q(e,c,r.context),r.needsFramebuffer&&G(e,c,r.framebuffer),Y(e,c,r.state,l),r.profile&&l(r.profile)&&J(e,c,r,!1,!0),n)r.useVAO?r.drawVAO?l(r.drawVAO)?c(e.shared.vao,".setVAO(",r.drawVAO.append(e,c),");"):s(e.shared.vao,".setVAO(",r.drawVAO.append(e,s),");"):s(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(s(e.shared.vao,".setVAO(null);"),K(e,s,r,n.attributes,p),K(e,c,r,n.attributes,l)),Z(e,s,r,n.uniforms,p,!1),Z(e,c,r,n.uniforms,l,!0),ee(e,s,c,r);else{var d=e.global.def("{}"),h=r.shader.progVar.append(e,c),v=c.def(h,".id"),m=c.def(d,"[",v,"]");c(e.shared.gl,".useProgram(",h,".program);","if(!",m,"){",m,"=",d,"[",v,"]=",e.link((function(t){return te(ie,e,r,t,2)})),"(",h,");}",m,".call(this,a0[",a,"],",a,");")}}function oe(e,t){var r=e.proc("batch",2);e.batchId="0",X(e,r);var n=!1,i=!0;Object.keys(t.context).forEach((function(e){n=n||t.context[e].propDep})),n||(Q(e,r,t.context),i=!1);var a=t.framebuffer,o=!1;function f(e){return e.contextDep&&n||e.propDep}a?(a.propDep?n=o=!0:a.contextDep&&n&&(o=!0),o||G(e,r,a)):G(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),$(e,r,t),Y(e,r,t.state,(function(e){return!f(e)})),t.profile&&f(t.profile)||J(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=i,t.needsFramebuffer=o;var u=t.shader.progVar;if(u.contextDep&&n||u.propDep)ae(e,r,t,null);else{var s=u.append(e,r);if(r(e.shared.gl,".useProgram(",s,".program);"),t.shader.program)ae(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),l=r.def(s,".id"),p=r.def(c,"[",l,"]");r(e.cond(p).then(p,".call(this,a0,a1);").else(p,"=",c,"[",l,"]=",e.link((function(r){return te(ae,e,t,r,2)})),"(",s,");",p,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function fe(e,t){var n=e.proc("scope",3);e.batchId="a2";var i=e.shared,a=i.current;function o(r){var a=t.shader[r];a&&n.set(i.shader,"."+r,a.append(e,n))}Q(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),La(Object.keys(t.state)).forEach((function(r){var a=t.state[r].append(e,n);st(a)?a.forEach((function(t,i){n.set(e.next[r],"["+i+"]",t)})):n.set(i.next,"."+r,a)})),J(e,n,t,!0,!0),[Si,Fi,Ci,Vi,ji].forEach((function(r){var a=t.draw[r];a&&n.set(i.draw,"."+r,""+a.append(e,n))})),Object.keys(t.uniforms).forEach((function(a){var o=t.uniforms[a].append(e,n);Array.isArray(o)&&(o="["+o.join()+"]"),n.set(i.uniforms,"["+r.id(a)+"]",o)})),Object.keys(t.attributes).forEach((function(r){var i=t.attributes[r].append(e,n),a=e.scopeAttrib(r);Object.keys(new y).forEach((function(e){n.set(a,"."+e,i[e])}))})),t.scopeVAO&&n.set(i.vao,".targetVAO",t.scopeVAO.append(e,n)),o(Ti),o(Di),Object.keys(t.state).length>0&&(n(a,".dirty=true;"),n.exit(a,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");")}function ue(e){if("object"===typeof e&&!st(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(p.isDynamic(e[t[r]]))return!0;return!1}}function se(e,t,r){var n=t.static[r];if(n&&ue(n)){var i=e.global,a=Object.keys(n),o=!1,f=!1,u=!1,s=e.global.def("{}");a.forEach((function(t){var r=n[t];if(p.isDynamic(r)){"function"===typeof r&&(r=n[t]=p.unbox(r));var a=Ua(r,null);o=o||a.thisDep,u=u||a.propDep,f=f||a.contextDep}else{switch(i(s,".",t,"="),typeof r){case"number":i(r);break;case"string":i('"',r,'"');break;case"object":Array.isArray(r)&&i("[",r.join(),"]");break;default:i(e.link(r))}i(";")}})),t.dynamic[r]=new p.DynamicVariable(Yn,{thisDep:o,contextDep:f,propDep:u,ref:s,append:c}),delete t.static[r]}function c(e,t){a.forEach((function(r){var i=n[r];if(p.isDynamic(i)){var a=e.invoke(t,i);t(s,".",r,"=",a,";")}}))}}function ce(t,r,n,i,a){var o=B();o.stats=o.link(a),Object.keys(r.static).forEach((function(e){se(o,r,e)})),Hi.forEach((function(e){se(o,t,e)}));var f=W(t,r,n,i,o);return ne(o,f),fe(o,f),oe(o,f),e(o.compile(),{destroy:function(){f.shader.program.destroy()}})}return{next:k,current:A,procs:function(){var e=B(),t=e.proc("poll"),r=e.proc("refresh"),a=e.block();t(a),r(a);var o,f=e.shared,u=f.gl,s=f.next,c=f.current;a(c,".dirty=false;"),G(e,t),G(e,r,null,!0),b&&(o=e.link(b)),n.oes_vertex_array_object&&r(e.link(n.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var l=0;l<i.maxAttributes;++l){var p=r.def(f.attributes,"[",l,"]"),d=e.cond(p,".buffer");d.then(u,".enableVertexAttribArray(",l,");",u,".bindBuffer(",Wi,",",p,".buffer.buffer);",u,".vertexAttribPointer(",l,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);").else(u,".disableVertexAttribArray(",l,");",u,".vertexAttrib4f(",l,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;"),r(d),b&&r(o,".vertexAttribDivisorANGLE(",l,",",p,".divisor);")}return r(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(O).forEach((function(n){var i=O[n],o=a.def(s,".",n),f=e.block();f("if(",o,"){",u,".enable(",i,")}else{",u,".disable(",i,")}",c,".",n,"=",o,";"),r(f),t("if(",o,"!==",c,".",n,"){",f,"}")})),Object.keys(T).forEach((function(n){var i,o,f=T[n],l=A[n],p=e.block();if(p(u,".",f,"("),st(l)){var d=l.length;i=e.global.def(s,".",n),o=e.global.def(c,".",n),p(_(d,(function(e){return i+"["+e+"]"})),");",_(d,(function(e){return o+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",_(d,(function(e){return i+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",p,"}")}else i=a.def(s,".",n),o=a.def(c,".",n),p(i,");",c,".",n,"=",i,";"),t("if(",i,"!==",o,"){",p,"}");r(p)})),e.compile()}(),compile:ce}}function Qa(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ga=34918,$a=34919,Ya=35007,Xa=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[];function n(){return r.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){r.push(e)}var a=[];function o(e){var r=n();t.ext_disjoint_timer_query.beginQueryEXT(Ya,r),a.push(r),d(a.length-1,a.length,e)}function f(){t.ext_disjoint_timer_query.endQueryEXT(Ya)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var s=[];function c(){return s.pop()||new u}function l(e){s.push(e)}var p=[];function d(e,t,r){var n=c();n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,p.push(n)}var h=[],v=[];function m(){var e,r,n=a.length;if(0!==n){v.length=Math.max(v.length,n+1),h.length=Math.max(h.length,n+1),h[0]=0,v[0]=0;var o=0;for(e=0,r=0;r<a.length;++r){var f=a[r];t.ext_disjoint_timer_query.getQueryObjectEXT(f,$a)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(f,Ga),i(f)):a[e++]=f,h[r+1]=o,v[r+1]=e}for(a.length=e,e=0,r=0;r<p.length;++r){var u=p[r],s=u.startQueryIndex,c=u.endQueryIndex;u.sum+=h[c]-h[s];var d=v[s],m=v[c];m===d?(u.stats.gpuTime+=u.sum/1e6,l(u)):(u.startQueryIndex=d,u.endQueryIndex=m,p[e++]=u)}p.length=e}}return{beginQuery:o,endQuery:f,pushScopeStats:d,update:m,getNumPendingQueries:function(){return a.length},clear:function(){r.push.apply(r,a);for(var e=0;e<r.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(r[e]);a.length=0,r.length=0},restore:function(){a.length=0,r.length=0}}},Ja=16384,Ka=256,Za=1024,eo=34962,to="webglcontextlost",ro="webglcontextrestored",no=1,io=2,ao=3;function oo(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function fo(t){var r=A(t);if(!r)return null;var n=r.gl,i=n.getContextAttributes(),a=(n.isContextLost(),k(n,r));if(!a)return null;var o=v(),f=Qa(),u=a.extensions,s=Xa(n,u),c=h(),l=n.drawingBufferWidth,m=n.drawingBufferHeight,y={tick:0,time:0,viewportWidth:l,viewportHeight:m,framebufferWidth:l,framebufferHeight:m,drawingBufferWidth:l,drawingBufferHeight:m,pixelRatio:r.pixelRatio},g={},b={elements:null,primitive:4,count:-1,offset:0,instances:-1},x=xe(n,u),w=He(n,f,r,O),_=it(n,u,w,f),E=Tn(n,u,x,f,w,_,b);function O(e){return E.destroyBuffer(e)}var T=Fn(n,o,f,r),D=Qr(n,u,x,(function(){C.procs.poll()}),y,f,r),S=fn(n,u,x,f,r),j=An(n,u,x,D,S,f),C=Wa(n,o,u,x,w,_,D,j,g,E,T,b,y,s,r),F=Pn(n,j,C.procs.poll,y,i,u,x),V=C.next,B=n.canvas,z=[],I=[],P=[],R=[r.onDestroy],L=null;function M(){if(0===z.length)return s&&s.update(),void(L=null);L=d.next(M),K();for(var e=z.length-1;e>=0;--e){var t=z[e];t&&t(y,null,0)}n.flush(),s&&s.update()}function N(){!L&&z.length>0&&(L=d.next(M))}function q(){L&&(d.cancel(M),L=null)}function U(e){e.preventDefault(),q(),I.forEach((function(e){e()}))}function H(e){n.getError(),a.restore(),T.restore(),w.restore(),D.restore(),S.restore(),j.restore(),E.restore(),s&&s.restore(),C.procs.refresh(),N(),P.forEach((function(e){e()}))}function W(){z.length=0,q(),B&&(B.removeEventListener(to,U),B.removeEventListener(ro,H)),T.clear(),j.clear(),S.clear(),E.clear(),D.clear(),_.clear(),w.clear(),s&&s.clear(),R.forEach((function(e){e()}))}function Q(t){function r(t){var r=e({},t);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach((function(n){r[e+"."+n]=t[n]}))}}return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),"vao"in t&&(r.vao=t.vao),r}function n(e,t){var r={},n={};return Object.keys(e).forEach((function(i){var a=e[i];if(p.isDynamic(a))n[i]=p.unbox(a,i);else{if(t&&Array.isArray(a))for(var o=0;o<a.length;++o)if(p.isDynamic(a[o]))return void(n[i]=p.unbox(a,i));r[i]=a}})),{dynamic:n,static:r}}var i=n(t.context||{},!0),a=n(t.uniforms||{},!0),o=n(t.attributes||{},!1),f=n(r(t),!1),u={gpuTime:0,cpuTime:0,count:0},s=C.compile(f,o,a,i,u),c=s.draw,l=s.batch,d=s.scope,h=[];function v(e){for(;h.length<e;)h.push(null);return h}function m(e,t){var r;if("function"===typeof e)return d.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(r=0;r<e;++r)d.call(this,null,t,r);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(r=0;r<e.length;++r)d.call(this,e[r],t,r)}else if("number"===typeof e){if(e>0)return l.call(this,v(0|e),0|e)}else{if(!Array.isArray(e))return c.call(this,e);if(e.length)return l.call(this,e,e.length)}}return e(m,{stats:u,destroy:function(){s.destroy()}})}B&&(B.addEventListener(to,U,!1),B.addEventListener(ro,H,!1));var G=j.setFBO=Q({framebuffer:p.define.call(null,no,"framebuffer")});function $(e,t){var r=0;C.procs.poll();var i=t.color;i&&(n.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),r|=Ja),"depth"in t&&(n.clearDepth(+t.depth),r|=Ka),"stencil"in t&&(n.clearStencil(0|t.stencil),r|=Za),n.clear(r)}function Y(t){if("framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var r=0;r<6;++r)G(e({framebuffer:t.framebuffer.faces[r]},t),$);else G(t,$);else $(null,t)}function X(e){function t(){var t=oo(z,e);function r(){var e=oo(z,r);z[e]=z[z.length-1],z.length-=1,z.length<=0&&q()}z[t]=r}return z.push(e),N(),{cancel:t}}function J(){var e=V.viewport,t=V.scissor_box;e[0]=e[1]=t[0]=t[1]=0,y.viewportWidth=y.framebufferWidth=y.drawingBufferWidth=e[2]=t[2]=n.drawingBufferWidth,y.viewportHeight=y.framebufferHeight=y.drawingBufferHeight=e[3]=t[3]=n.drawingBufferHeight}function K(){y.tick+=1,y.time=ee(),J(),C.procs.poll()}function Z(){D.refresh(),J(),C.procs.refresh(),s&&s.update()}function ee(){return(h()-c)/1e3}function te(e,t){var r;switch(e){case"frame":return X(t);case"lost":r=I;break;case"restore":r=P;break;case"destroy":r=R}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t)return r[e]=r[r.length-1],void r.pop()}}}Z();var re=e(Q,{clear:Y,prop:p.define.bind(null,no),context:p.define.bind(null,io),this:p.define.bind(null,ao),draw:Q({}),buffer:function(e){return w.create(e,eo,!1,!1)},elements:function(e){return _.create(e,!1)},texture:D.create2D,cube:D.createCube,renderbuffer:S.create,framebuffer:j.create,framebufferCube:j.createCube,vao:E.createVAO,attributes:i,frame:X,on:te,limits:x,hasExtension:function(e){return x.extensions.indexOf(e.toLowerCase())>=0},read:F,destroy:W,_gl:n,_refresh:Z,poll:function(){K(),s&&s.update()},now:ee,stats:f});return r.onDone(null,re),re}return fo}()},2118:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},2119:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return i}))},2120:function(e,t,r){var n=r(30),i=r(4),a=r(5),o=r(13),f=r(14),u=r(33).EventEmitter,s=r(2121),c=r(2124),l=c.genInlineName,p=c.getImportName,d=c.extractPreprocessors,h=c.asyncify,v=function(e){"use strict";o(r,e);var t=f(r);function r(e){var n;if(i(this,r),(n=t.call(this)).constructor===r)throw new Error("Depper classes can't be instantiated.");if(e=e||{},n._inlineSource="",n._inlineName=l(),n._async=e.async||!1,n._i=0,n._deps=[],n._cache={},n._transforms=[],n._globalTransforms=[],!e.readFile)throw new Error("glslify-deps: readFile must be defined");if(n._readFile=e.readFile,!e.resolve)throw new Error("glslify-deps: resolve must be defined");if(n.resolve=e.resolve,!e.transformRequire)throw new Error("glslify-deps: transformRequire must be defined");if(n.transformRequire=e.transformRequire,n._transformRequireAsync=!!e.transformRequire.sync,!n._async&&n._transformRequireAsync)throw new Error("glslify-deps: transformRequire async detected \n when sync context, please ensure your resolver is even with the context");return n}return a(r,[{key:"inline",value:function(e,t,r){return this._inlineSource=e,this.add(t||this._inlineName,r)}},{key:"add",value:function(e,t,r){"function"===typeof t&&(r=t,t={});var i=this,a=[],o=[],f=this._addDep(e),u=Object.assign({deps:f.deps},t),s=h((function(t,r){return i.readFile(e,r)}),(function(t,r){return i.getTransformsForFile(e,r)}),(function(t,r){var a=n(t,2),o=a[0],f=a[1];return i.emit("file",e),i.applyTransforms(e,o,f,r)}),(function(e,t){var r=n(e,3)[2];return d(f.source=r,o,a),i._resolveImports(o,u,t)}),(function(e,t){t&&t(null,i._deps)}));return this._async?(s(r||function(){console.warn("glslify-deps: depper.add() has not a callback defined using async flow")}),f):(s(),this._deps)}},{key:"getTransformsForFile",value:function(e,t){return t&&t(null,[]),console.warn("glslify-deps: depper.getTransformsForFile() not yet implemented"),[]}},{key:"transform",value:function(e,t){var r="string"===typeof e?e:null,n=t&&t.global?this._globalTransforms:this._transforms;return t&&t.post||n.push({tr:e,opts:t,name:r}),this}},{key:"resolveTransform",value:function(e,t,r){var n=this;if("function"===typeof t&&(r=t,t={}),"function"===typeof e)return r&&r(null,e),e;var i=function(t){if(n._async)return t;if(!t||"function"!==typeof t.sync){var i=new Error("transform "+e+" does not provide a synchronous interface");if(r)return r(i),null;throw i}return t.sync};if(!this._transformRequireAsync){var a=i(this.transformRequire(e,t));return a&&r&&r(null,a),a}this.transformRequire(e,t,(function(e,t){return e?r(e):r(null,i(t))}))}},{key:"applyTransforms",value:function(e,t,r,n){if(!this._async)return r.forEach((function(r){var n=r.opts;n&&"object"===typeof n||(n={}),t=r.tr(e,t+"",r.opts)})),t;var i=0;!function t(a,o){if(a)return n(a);if(i>=r.length)return n(null,o);var f=r[i++],u=f.opts;u&&"object"===typeof u||(u={}),f.tr(e,o+"",f.opts,t)}(null,t)}},{key:"_addDep",value:function(e,t){var r=Object.assign({id:this._i++,file:e,deps:{},source:null,entry:1===this._i},t);return this._deps.push(r),r}},{key:"_register",value:function(e,t){var r=this,n=e.concat(this._globalTransforms);return s(n,1,(function(e,t){r.resolveTransform(e.tr,t)}),(function(e,r){if(e){if(t)return t(e);throw e}n.forEach((function(e,t){e.tr=r[t]})),t&&t(null,n)})),n}},{key:"_resolveImports",value:function(e,t,r){var i=this;"function"===typeof t&&(r=t,t={});var a=t&&t.deps||{},o=t&&t.parallel||10,f=h((function(e,r){var a=n(e,1)[0];return i.resolve(a,t,r)}),(function(e,t){var r=n(e,2),o=r[0],f=r[1];if(i._cache[f])return a[o]=i._cache[f].id,t&&t();if(t)i._cache[f]=i.add(f,(function(e){if(e)return t(e);a[o]=i._cache[f].id,t()}));else{var u=i._i;i._cache[f]=i.add(f)[u],a[o]=i._cache[f].id}}));return this._async?s(e,o,(function(e,t){f([p(e)],t)}),r):e.forEach((function(e){f([p(e)])})),a}},{key:"readFile",value:function(e,t){return e!==this._inlineName?this._readFile(e,t):this._async?t(null,this._inlineSource):this._inlineSource}}]),r}(u);e.exports=v},2121:function(e,t,r){var n=r(2122),i=function(){};e.exports=function(e,t,r,a){var o=0,f=!1,u=[],s=0,c=e.length,l=0;if(a=n(a||i),"function"!==typeof r)throw new Error("Iterator function must be passed as the third argument");for(var p=0;p<c;p++)u[p]=null;function d(){if(o===c)return a(null,u);for(;s<t&&!f&&l!==c;)h()}function h(){var t=l++;s+=1,r(e[t],(function(e,r){if(e)return function(e){return f=!0,a(e)}(e);u[t]=r,o+=1,s-=1,d()}))}d()}},2122:function(e,t,r){var n=r(2123);function i(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}e.exports=n(i),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0})}))},2123:function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"===typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},2124:function(e,t,r){(function(t){var n=r(829),i=r(133),a=function(e){return/#pragma glslify:/.test(e)},o=function(e){return/#pragma glslify:\s*export\(([^)]+)\)/.exec(e)},f=function(e){return/#pragma glslify:\s*([^=\s]+)\s*=\s*require\(([^)]+)\)/.exec(e)},u=function(e,t){switch(t.length){case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);case 4:return e(t[0],t[1],t[2],t[3]);default:return e.apply(null,t)}},s=function(e,t){var r=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if("function"===typeof n[n.length-1]){if(!t)throw Error("There's no async function available");u(t,n)}if(!e)throw Error("There's no sync function available");return u(e,n)};return r.sync=e,r.async=t,r};e.exports={getTransformsFromPkg:function(e){return"string"===typeof e&&(e=JSON.parse(e)),(e.glslify&&e.glslify.transform||[]).map((function(e){var t=Array.isArray(e)?e:[e,{}],r=t[0],n=t[1];return n&&(delete n.global,delete n.post),{tr:r,opts:n,name:r}}))},getImportName:function(e){return e.split(/\s*,\s*/).shift().trim().replace(/^'|'$/g,"").replace(/^"|"$/g,"")},extractPreprocessors:function(e,t,r){for(var i=n(e),u=0;u<i.length;u++){var s=i[u];if("preprocessor"===s.type){var c=s.data;if(a(c)){var l=o(c),p=f(c);l&&r.push(l[1]),p&&t.push(p[2])}}}},genInlineName:function(){return"__INLINE__"+Math.random()},cacheWrap:function(e,r){return s((function(t){return r[t]||(r[t]=e(t)),r[t]}),(function(n,i){return r[n]?t.nextTick((function(){i(null,r[n])})):e(n,(function(e,t){e&&i(e),i(e,r[n]=t)}))}))},mix:s,parseFiles:function(e){return Object.keys(e).reduce((function(t,r){return t[i.resolve(r)]=e[r],t}),{})},asyncify:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){"function"===typeof e&&(r=e,e=[]);var n=e||[],i=n.length,a=0;if(!Array.isArray(n))throw new Error("asyncify: initialState must be an array");if(!t.length)throw new Error("asyncify: no functions detected");"function"===typeof n[n.length-1]&&(r=n.pop(),i=n.length);var o=function(){return new Error("asyncify: arguments must be functions")};if(r){t[a](n,(function e(f,u){f?r(f):(n[i+a++]=u,a<t.length?"function"!==typeof t[a]?r(o()):t[a](n,e):r(null,n[n.length-1]))}))}else for(;a<t.length;a++){if("function"!==typeof t[a])throw o();n[i+a]=t[a](n)}return n}}}}).call(this,r(21))},2126:function(e,t,r){var n=r(2127),i=r(2128),a=r(829),o=r(2129),f=r(2131),u=r(2132),s=r(2137),c=r(2113),l=r(2115),p=r(2114),d=r(2138),h=r(2139);function v(e){if(!(this instanceof v))return new v(e);e=d(e),this.depList=e,this.depIndex=function(e,t){return e.reduce((function(e,r){return e[r[t]]=r,e}),{})}(e,"id"),this.exported={},this.cache={},this.varCounter=0,this.src=[];for(var t=0;t<e.length;t++)this.preprocess(e[t]);for(t=0;t<e.length;t++)e[t].entry&&(this.src=this.src.concat(this.bundle(e[t])));this.src=c(this.src),this.src=c(s(i(a(this.src))))}e.exports=function(e){return o(v(e).src,{GLSLIFY:1})};var m=v.prototype;function y(e){return/#pragma glslify:\s*export\(([^)]+)\)/.exec(e)}function g(e){return/#pragma glslify:\s*([^=\s]+)\s*=\s*require\(([^)]+)\)/.exec(e)}function b(e){return!!e&&e.reduce((function(e,t){var r=(t=t.split(/\s?=\s?/g)).pop();return t.forEach((function(t){e[t]=r})),e}),{})}m.preprocess=function(e){var t,r=a(e.source),n=[],i=null;p(r),l(r);for(var o=0;o<r.length;o++){var f=r[o];if("preprocessor"===f.type&&(t=f.data,/#pragma glslify:/.test(t))){var u=y(f.data),s=g(f.data);if(u)i=u[1],r.splice(o--,1);else if(s){var c=s[1],d=s[2].split(/\s?,\s?/g),h=d.shift().trim().replace(/^'|'$/g,"").replace(/^"|"$/g,""),v=this.depIndex[e.deps[h]];n.push({name:c,path:h,target:v,maps:b(d),index:o}),r.splice(o--,1)}}}var m=r[r.length-1];if(m&&"eof"===m.type&&r.pop(),e.entry&&(i=i||"main"),!i)throw new Error(e.file+" does not export any symbols");e.parsed={tokens:r,imports:n,exports:i}},m.bundle=function(e){var t={};return function e(r,i){i.sort();var a=i.join(":")+":"+r.id,o="_"+n(a);r.entry&&(o="");var s=r.parsed.exports+o;if(t[s])return[s,[]];for(var c={},l=0;l<i.length;++l){var p=i[l];c[p[0]]=p[1]}var d=r.parsed.imports,v=[];for(l=0;l<d.length;++l){var m=d[l],y=m.maps,g=m.name,b=m.target,x=Object.keys(y).map((function(e){var t=y[e];if(t.match(/^\d+(?:\.\d+?)?$/g))return[e,t];var r=t.match(/^([^.]+)\.(.+)$/);return r?[e,(c[r[1]]||r[1]+o)+"."+r[2]]:[e,c[t]||t+o]})),w=e(b,x);c[g]=w[0],v.push([m.index,w[1]])}var A=r.parsed.tokens.map(h),k=f(A),_=u(A,(function(e,t){return k[e]?e:c[e]?c[e]:e+o}));v.sort((function(e,t){return t[0]-e[0]}));for(l=0;l<v.length;++l){var E=v[l];_=_.slice(0,E[0]).concat(E[1]).concat(_.slice(E[0]))}return t[s]=!0,[s,_]}(e,[])[1]}},2127:function(e,t,r){e.exports=function(e,t){var r,n,i,a,o,f,u,s;for(r=3&e.length,n=e.length-r,i=t,o=3432918353,f=461845907,s=0;s<n;)u=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,i=27492+(65535&(a=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*f+(((u>>>16)*f&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&e.charCodeAt(s+2))<<16;case 2:u^=(255&e.charCodeAt(s+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(s)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*f+(((u>>>16)*f&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}},2128:function(e,t){function r(e,t){return r[t?"all":"newlines"](function(e){for(var t=1;t<e.length;t++){var r=e[t];if("whitespace"===r.type){var n=e[t-1];"whitespace"===n.type&&(e.splice(--t,1),r.data=n.data+r.data)}}return e}(e))}e.exports=r;var n=/(?:\n|\r\n|\r){2,}/g;r.newlines=function(e){for(var t=0;t<e.length;t++){var r=e[t];"whitespace"===r.type&&(r.data=r.data.replace(n,"\n\n"))}return e};var i=/\s+/g;r.all=function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r];if("whitespace"===n.type){var a=e[r+1],o=e[r-1];if(a&&"preprocessor"===a.type||o&&"preprocessor"===o.type)n.data=n.data.replace(i,"\n");else{switch(n.data=n.data.replace(i," "),a&&a.data){case"(":case";":case")":case"{":case"=":case"}":case",":n.data=n.data.replace(i,"")}switch(o&&o.data){case"(":case";":case")":case"{":case"=":case"}":case",":n.data=n.data.replace(i,"")}}}}return e}},2129:function(e,t,r){var n=r(829),i=r(2113),a=r(2130);e.exports=function(e,t){if(!t)return e;var r=Object.keys(t);if(0===r.length)return e;for(var o=n(e),f=r.length-1;f>=0;f--){var u=r[f],s=String(t[u]);s&&(s=" "+s),a(o,{type:"preprocessor",data:"#define "+u+s})}return i(o)}},2130:function(e,t){e.exports=function(e,t){Array.isArray(t)||(t=[t]);var a=function(e){for(var t=-1,r=0;r<e.length;r++){var n=e[r];if("preprocessor"===n.type)/^#(extension|version)/.test(n.data)&&(t=Math.max(t,r));else if("keyword"===n.type&&"precision"===n.data){var a=i(e,r);if(-1===a)throw new Error("precision statement not followed by any semicolons!");t=Math.max(t,a)}}return t+1}(e),o=a>0?e[a-1]:null;o&&n.test(o.data)&&e.splice(a++,0,r);e.splice.apply(e,[a,0].concat(t));var f=a+t.length;e[f]&&/[^\r\n]$/.test(e[f].data)&&e.splice(f,0,r);return e};var r={data:"\n",type:"whitespace"},n=/[^\r\n]$/;function i(e,t){for(var r=t;r<e.length;r++)if("operator"===e[r].type&&";"===e[r].data)return r;return-1}},2131:function(e,t){e.exports=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];if("preprocessor"===n.type){var i=n.data.trim();if(!i.indexOf("#define")){var a=i.match(/#define\s+([^\s]+)(.+)?$/i);if(a){var o=(a[1]||"").trim(),f=(a[2]||"").trim();t[o]=f}}}}return t}},2132:function(e,t,r){e.exports=function(e,t){r(2114)(e),r(2115)(e),r(2133)(e),r(2134)(e);for(var n=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];n.declaration&&(t[n.scope]=t[n.scope]||{},t[n.scope][n.data]=n)}return t}(e),i=t||function(){var e=0;return function(t){return t+"_"+(e++).toString(36)}}(),a={},o=0;o<e.length;o++){var f=e[o],u=f.stack,s=f.data;if(f.descoped=!1,"ident"===f.type&&!f.property&&!f.structMember){for(var c=!1,l=u.length-1;l>=0;l--){var p=n[u[l]];if(p&&p[s]){if(c=!0,l)break;f.descoped=f.data,f.data=a[s]=a[s]||i(s,f)||f.data}}c||(f.descoped=f.data,f.data=a[s]=a[s]||i(s,f)||f.data)}}return e}},2133:function(e,t){e.exports=function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.property=!1,"ident"===r.type){for(var n=t;e[--n]&&"whitespace"===e[n].type;);e[n]&&"operator"===e[n].type&&"."===e[n].data&&(r.property=!0)}}return e}},2134:function(e,t,r){var n=r(2135),i=r(2136);e.exports=function(e){for(var t=0,r=0;r<e.length;r++){var a=(u=e[r]).type;u.assignment=!1,u.declaration=!1,"ident"!==a&&"builtin"!==a||(t=r+1,s(1),"operator"===e[t].type&&n[e[t].data]&&(u.assignment=!0))}for(r=0;r<e.length;r++){var o=e[r],f=(a=o.type,o.data);if(o.declaration=!1,"keyword"===a){if(i[f])continue}else if("ident"!==a)continue;if(t=r+1,c(),"ident"===e[t].type)if(e[t++].declaration=!0,c(),"("!==e[t].data){for(;e[t]&&";"!==e[t].data;)","===e[t].data?(t++,s(1),(e[t].declaration="ident"===e[t].type)&&t++):(s(1),l(),s(1),t++);r=t}else{for(t++,s(1);e[t]&&")"!==e[t].data&&("keyword"===e[t].type||"ident"===e[t].type);)t++,s(1),"ident"===e[t].type&&(e[t++].declaration=!0,s(1),c(),s(1),","===e[t].data&&(t++,s(1)));r=t}}for(r=0;r<e.length;r++){var u;if("keyword"===(u=e[r]).type&&("struct"===u.data&&(t=r+1,s(1),"ident"===e[t].type&&(t++,s(1),"{"===e[t++].data)))){for(s(1);"ident"===e[t].type||"keyword"===e[t].type;){do{t++,s(1),e[t].structMember=!0,e[t].declaration=!1,t++,c()}while(","===e[t].data);";"===e[t].data&&t++,s()}if(t++,s(1),"ident"===e[t].type)for(e[t].declaration=!0,s(1);","===e[++t].data;)s(1),t++,s(1),"ident"===e[t].type&&(e[t].declaration=!0),s(1)}}return e;function s(r){for(;e[t]&&"whitespace"===e[t].type;)t++}function c(){for(;e[t]&&("integer"===e[t].type||"["===e[t].data||"]"===e[t].data||"whitespace"===e[t].type);)t++}function l(){if(e[t]&&"("===e[t].data){var r=0;do{if(";"===e[t].data)break;"("===e[t].data&&r++,")"===e[t].data&&r--}while(r&&e[++t])}}}},2135:function(e,t){e.exports={"<<=":!0,">>=":!0,"++":!0,"--":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"&=":!0,"^=":!0,"|=":!0,"=":!0}},2136:function(e,t){e.exports={precision:!0,highp:!0,mediump:!0,lowp:!0,attribute:!0,const:!0,uniform:!0,varying:!0,break:!0,continue:!0,do:!0,for:!0,while:!0,if:!0,else:!0,in:!0,out:!0,inout:!0,true:!0,false:!0,return:!0}},2137:function(e,t){e.exports=function(e){for(var t={},n={},i=0;i<e.length;i++){var a=e[i];if("ident"===a.type){var o=a.data.match(r);if(o){var f=o[1],u=o[2];n[f]=n[f]||{},n[f][u]=n[f][u]||[],n[f][u].push(a)}else t[a.data]=!0}}return Object.keys(n).forEach((function(e){var r=Object.keys(n[e]);if(1!==r.length||t[e])r.forEach((function(r,i){var a=n[e][r],o=e+"_"+i;if(!t[o])for(var f=0;f<a.length;f++)a[f].data=o}));else for(var i=n[e][r[0]],a=0;a<i.length;a++)i[a].data=e})),e};var r=/^([^_]+)_(\d{4,})$/},2138:function(e,t){e.exports=function(e){var t={},r={},n={};e.forEach((function(e){var i=e.id,a=Object.keys(e.deps);n[e.id]=e,r[i]=a.length,a.forEach((function(r){var n=e.deps[r];t[n]?t[n].push(i):t[n]=[i]}))}));var i=[],a={};e.forEach((function(e){var n=e.id;t[n]||(t[n]=[]),0===r[n]&&(a[n]=i.length,i.push(n))}));for(var o=0;o<i.length;o++){var f=i[o];t[f].forEach((function(e){0===--r[e]&&(a[e]=i.length,i.push(e))}))}if(i.length!==e.length)throw new Error("cyclic dependency");return i.map((function(e){var t=n[e],r=t.deps,i={};return Object.keys(r).forEach((function(e){i[e]=0|a[r[e]]})),{id:0|a[e],deps:i,file:t.file,source:t.source,entry:t.entry}}))}},2139:function(e,t){e.exports=function(e){if(!e||"object"!==typeof e)return e;var t;if(n(e)){var i=e.length;t=Array(i);for(var a=0;a<i;a++)t[a]=e[a]}else{var o=r(e);t={};a=0;for(var f=o.length;a<f;a++){var u=o[a];t[u]=e[u]}}return t};var r=Object.keys||function(e){var t=[];for(var r in e)({}).hasOwnProperty.call(e,r)&&t.push(r);return t},n=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)}},2140:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2110);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=Object(n.a)(e);if(t){var o=Object(n.a)(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return a(this,r)}}},2142:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2110);function i(e,t,r){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}},2143:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}r.d(t,"a",(function(){return i}))}}]);
//# sourceMappingURL=3.23767476.chunk.js.map