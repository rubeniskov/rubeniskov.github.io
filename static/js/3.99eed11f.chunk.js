(this["webpackJsonprubeniskov-website"]=this["webpackJsonprubeniskov-website"]||[]).push([[3],{770:function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},771:function(e,t){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},772:function(e,t){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},774:function(e,t){e.exports=function(e){for(var t=[],r=0;r<e.length;r++)"eof"!==e[r].type&&t.push(e[r].data);return t.join("")}},775:function(e,t){e.exports=function(e){for(var t=!1,r=0,n=0;n<e.length;n++)switch(t=t||"keyword"===e[n].type&&"for"===e[n].data,e[n].data){case"(":e[n].depth=t?r++:r;break;case"{":e[n].depth=t?r:r++,t=!1;break;case"}":e[n].depth=--r;break;default:e[n].depth=r}for(n=0;n<e.length;n++){var a=e[n],i=n+1;if(("ident"===a.type||"keyword"===a.type)&&(o(),"ident"===e[i].type&&(o(),i++,"("===e[i].data))){for(;e[i]&&";"!==e[i].data&&"{"!==e[i].data;)e[i++].depth++;e[i]&&"{"===e[i].data&&e[i].depth++}}return e;function o(){for(;e[i]&&("whitespace"===e[i].type||"["===e[i].data||"]"===e[i].data||"integer"===e[i].data);)i++}}},776:function(e,t){e.exports=function(e){var t=[0],r=t[0],n=0;if(!e||!e.length)return e;if(!("depth"in e[0]))throw new Error("glsl-token-scope: No scope depth defined on tokens! Use glsl-token-depth on these tokens first");for(var a=0;a<e.length;a++){var i=e[a],o=i.depth;o>n?t.push(++r):o<n&&t.splice(-1,1),i.scope=t[t.length-1],i.stack=t.slice(),n=i.depth}return e}},778:function(e,t,r){e.exports=function(){"use strict";var e=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},t=0,r=0,n=5,a=6;function i(e,r){this.id=t++,this.type=e,this.data=r}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function f(e){if(0===e.length)return[];var t=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&t===r&&('"'===t||"'"===t))return['"'+o(e.substr(1,e.length-2))+'"'];var n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(n)return f(e.substr(0,n.index)).concat(f(n[1])).concat(f(e.substr(n.index+n[0].length)));var a=e.split(".");if(1===a.length)return['"'+o(e)+'"'];for(var i=[],u=0;u<a.length;++u)i=i.concat(f(a[u]));return i}function u(e){return"["+f(e).join("][")+"]"}function s(e,t){return new i(e,u(t+""))}function c(e){return"function"===typeof e&&!e._reglType||e instanceof i}function l(e,t){return"function"===typeof e?new i(r,e):"number"===typeof e||"boolean"===typeof e?new i(n,e):Array.isArray(e)?new i(a,e.map((function(e,r){return l(e,t+"["+r+"]")}))):e instanceof i?e:void 0}var p={DynamicVariable:i,define:s,isDynamic:c,unbox:l,accessor:u},d={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},h="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function g(){var e={"":0},t=[""];return{id:function(r){var n=e[r];return n||(n=e[r]=t.length,t.push(r),n)},str:function(e){return t[e]}}}function m(t,r,n){var a,i=document.createElement("canvas");function o(){var r=window.innerWidth,a=window.innerHeight;if(t!==document.body){var o=t.getBoundingClientRect();r=o.right-o.left,a=o.bottom-o.top}i.width=n*r,i.height=n*a,e(i.style,{width:r+"px",height:a+"px"})}function f(){a?a.disconnect():window.removeEventListener("resize",o),t.removeChild(i)}return e(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"===typeof ResizeObserver?(a=new ResizeObserver((function(){setTimeout(o)}))).observe(t):window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:f}}function v(e,t){function r(r){try{return e.getContext(r,t)}catch(n){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}function b(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function y(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function x(e){return"string"===typeof e?e.split():e}function w(e){return"string"===typeof e?document.querySelector(e):e}function A(e){var t,r,n,a,i=e||{},o={},f=[],u=[],s="undefined"===typeof window?1:window.devicePixelRatio,c=!1,l=function(e){},p=function(){};if("string"===typeof i?t=document.querySelector(i):"object"===typeof i&&(b(i)?t=i:y(i)?n=(a=i).canvas:("gl"in i?a=i.gl:"canvas"in i?n=w(i.canvas):"container"in i&&(r=w(i.container)),"attributes"in i&&(o=i.attributes),"extensions"in i&&(f=x(i.extensions)),"optionalExtensions"in i&&(u=x(i.optionalExtensions)),"onDone"in i&&(l=i.onDone),"profile"in i&&(c=!!i.profile),"pixelRatio"in i&&(s=+i.pixelRatio))),t&&("canvas"===t.nodeName.toLowerCase()?n=t:r=t),!a){if(!n){var d=m(r||document.body,l,s);if(!d)return null;n=d.canvas,p=d.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),a=v(n,o)}return a?{gl:a,canvas:n,container:r,extensions:f,optionalExtensions:u,pixelRatio:s,profile:c,onDone:l,onDestroy:p}:(p(),l("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function _(e,t){var r={};function n(t){var n,a=t.toLowerCase();try{n=r[a]=e.getExtension(a)}catch(i){}return!!n}for(var a=0;a<t.extensions.length;++a){var i=t.extensions[a];if(!n(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach((function(e){if(r[e]&&!n(e))throw new Error("(regl): error restoring extension "+e)}))}}}function k(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}var D=5120,O=5121,E=5122,T=5123,S=5124,j=5125,C=5126;function M(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function F(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1}function V(){var e=k(8,(function(){return[]}));function t(t){var r=M(t),n=e[F(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r)}function r(t){e[F(t.byteLength)>>2].push(t)}function n(e,r){var n=null;switch(e){case D:n=new Int8Array(t(r),0,r);break;case O:n=new Uint8Array(t(r),0,r);break;case E:n=new Int16Array(t(2*r),0,r);break;case T:n=new Uint16Array(t(2*r),0,r);break;case S:n=new Int32Array(t(4*r),0,r);break;case j:n=new Uint32Array(t(4*r),0,r);break;case C:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n}function a(e){r(e.buffer)}return{alloc:t,free:r,allocType:n,freeType:a}}var P=V();P.zero=V();var B=3408,I=3410,z=3411,L=3412,R=3413,U=3414,q=3415,H=33901,N=33902,G=3379,Q=3386,W=34921,X=36347,$=36348,Y=35661,J=35660,K=34930,Z=36349,ee=34076,te=34024,re=7936,ne=7937,ae=7938,ie=35724,oe=34047,fe=36063,ue=34852,se=3553,ce=34067,le=34069,pe=33984,de=6408,he=5126,ge=5121,me=36160,ve=36053,be=36064,ye=16384,xe=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(oe));var n=1,a=1;t.webgl_draw_buffers&&(n=e.getParameter(ue),a=e.getParameter(fe));var i=!!t.oes_texture_float;if(i){var o=e.createTexture();e.bindTexture(se,o),e.texImage2D(se,0,de,1,1,0,de,he,null);var f=e.createFramebuffer();if(e.bindFramebuffer(me,f),e.framebufferTexture2D(me,be,se,o,0),e.bindTexture(se,null),e.checkFramebufferStatus(me)!==ve)i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(ye);var u=P.allocType(he,4);e.readPixels(0,0,1,1,de,he,u),e.getError()?i=!1:(e.deleteFramebuffer(f),e.deleteTexture(o),i=1===u[0]),P.freeType(u)}}var s=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),l=P.allocType(ge,36);e.activeTexture(pe),e.bindTexture(ce,c),e.texImage2D(le,0,de,3,3,0,de,ge,l),P.freeType(l),e.bindTexture(ce,null),e.deleteTexture(c),s=!e.getError()}return{colorBits:[e.getParameter(I),e.getParameter(z),e.getParameter(L),e.getParameter(R)],depthBits:e.getParameter(U),stencilBits:e.getParameter(q),subpixelBits:e.getParameter(B),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:a,pointSizeDims:e.getParameter(H),lineWidthDims:e.getParameter(N),maxViewportDims:e.getParameter(Q),maxCombinedTextureUnits:e.getParameter(Y),maxCubeMapSize:e.getParameter(ee),maxRenderbufferSize:e.getParameter(te),maxTextureUnits:e.getParameter(K),maxTextureSize:e.getParameter(G),maxAttributes:e.getParameter(W),maxVertexUniforms:e.getParameter(X),maxVertexTextureUnits:e.getParameter(J),maxVaryingVectors:e.getParameter($),maxFragmentUniforms:e.getParameter(Z),glsl:e.getParameter(ie),renderer:e.getParameter(ne),vendor:e.getParameter(re),version:e.getParameter(ae),readFloat:i,npotTextureCube:s}},we=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray};function Ae(e){return!!e&&"object"===typeof e&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"===typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||we(e.data))}var _e=function(e){return Object.keys(e).map((function(t){return e[t]}))},ke={shape:je,flatten:Se};function De(e,t,r){for(var n=0;n<t;++n)r[n]=e[n]}function Oe(e,t,r,n){for(var a=0,i=0;i<t;++i)for(var o=e[i],f=0;f<r;++f)n[a++]=o[f]}function Ee(e,t,r,n,a,i){for(var o=i,f=0;f<t;++f)for(var u=e[f],s=0;s<r;++s)for(var c=u[s],l=0;l<n;++l)a[o++]=c[l]}function Te(e,t,r,n,a){for(var i=1,o=r+1;o<t.length;++o)i*=t[o];var f=t[r];if(t.length-r===4){var u=t[r+1],s=t[r+2],c=t[r+3];for(o=0;o<f;++o)Ee(e[o],u,s,c,n,a),a+=i}else for(o=0;o<f;++o)Te(e[o],t,r+1,n,a),a+=i}function Se(e,t,r,n){var a=1;if(t.length)for(var i=0;i<t.length;++i)a*=t[i];else a=0;var o=n||P.allocType(r,a);switch(t.length){case 0:break;case 1:De(e,t[0],o);break;case 2:Oe(e,t[0],t[1],o);break;case 3:Ee(e,t[0],t[1],t[2],o,0);break;default:Te(e,t,0,o,0)}return o}function je(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t}var Ce={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Me={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Fe={dynamic:35048,stream:35040,static:35044},Ve=ke.flatten,Pe=ke.shape,Be=35044,Ie=35040,ze=5121,Le=5126,Re=[];function Ue(e){return 0|Ce[Object.prototype.toString.call(e)]}function qe(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function He(e,t,r,n,a,i,o){for(var f=0,u=0;u<r;++u)for(var s=0;s<n;++s)e[f++]=t[a*u+i*s+o]}function Ne(e,t,r,n){var a=0,i={};function o(t){this.id=a++,this.buffer=e.createBuffer(),this.type=t,this.usage=Be,this.byteLength=0,this.dimension=1,this.dtype=ze,this.persistentData=null,r.profile&&(this.stats={size:0})}o.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},o.prototype.destroy=function(){p(this)};var f=[];function u(e,t){var r=f.pop();return r||(r=new o(e)),r.bind(),l(r,t,Ie,0,1,!1),r}function s(e){f.push(e)}function c(t,r,n){t.byteLength=r.byteLength,e.bufferData(t.type,r,n)}function l(e,t,r,n,a,i){var o,f;if(e.usage=r,Array.isArray(t)){if(e.dtype=n||Le,t.length>0)if(Array.isArray(t[0])){o=Pe(t);for(var u=1,s=1;s<o.length;++s)u*=o[s];e.dimension=u,c(e,f=Ve(t,o,e.dtype),r),i?e.persistentData=f:P.freeType(f)}else if("number"===typeof t[0]){e.dimension=a;var l=P.allocType(e.dtype,t.length);qe(l,t),c(e,l,r),i?e.persistentData=l:P.freeType(l)}else we(t[0])&&(e.dimension=t[0].length,e.dtype=n||Ue(t[0])||Le,c(e,f=Ve(t,[t.length,t[0].length],e.dtype),r),i?e.persistentData=f:P.freeType(f))}else if(we(t))e.dtype=n||Ue(t),e.dimension=a,c(e,t,r),i&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(Ae(t)){o=t.shape;var p=t.stride,d=t.offset,h=0,g=0,m=0,v=0;1===o.length?(h=o[0],g=1,m=p[0],v=0):2===o.length&&(h=o[0],g=o[1],m=p[0],v=p[1]),e.dtype=n||Ue(t.data)||Le,e.dimension=g;var b=P.allocType(e.dtype,h*g);He(b,t.data,h,g,m,v,d),c(e,b,r),i?e.persistentData=b:P.freeType(b)}else t instanceof ArrayBuffer&&(e.dtype=ze,e.dimension=a,c(e,t,r),i&&(e.persistentData=new Uint8Array(new Uint8Array(t))))}function p(r){t.bufferCount--,n(r);var a=r.buffer;e.deleteBuffer(a),r.buffer=null,delete i[r.id]}function d(n,a,f,u){t.bufferCount++;var s=new o(a);function c(t){var n=Be,a=null,i=0,o=0,f=1;return Array.isArray(t)||we(t)||Ae(t)||t instanceof ArrayBuffer?a=t:"number"===typeof t?i=0|t:t&&("data"in t&&(a=t.data),"usage"in t&&(n=Fe[t.usage]),"type"in t&&(o=Me[t.type]),"dimension"in t&&(f=0|t.dimension),"length"in t&&(i=0|t.length)),s.bind(),a?l(s,a,n,o,f,u):(i&&e.bufferData(s.type,i,n),s.dtype=o||ze,s.usage=n,s.dimension=f,s.byteLength=i),r.profile&&(s.stats.size=s.byteLength*Re[s.dtype]),c}function d(t,r){e.bufferSubData(s.type,r,t)}function h(e,t){var r,n=0|(t||0);if(s.bind(),we(e)||e instanceof ArrayBuffer)d(e,n);else if(Array.isArray(e)){if(e.length>0)if("number"===typeof e[0]){var a=P.allocType(s.dtype,e.length);qe(a,e),d(a,n),P.freeType(a)}else if(Array.isArray(e[0])||we(e[0])){r=Pe(e);var i=Ve(e,r,s.dtype);d(i,n),P.freeType(i)}}else if(Ae(e)){r=e.shape;var o=e.stride,f=0,u=0,l=0,p=0;1===r.length?(f=r[0],u=1,l=o[0],p=0):2===r.length&&(f=r[0],u=r[1],l=o[0],p=o[1]);var h=Array.isArray(e.data)?s.dtype:Ue(e.data),g=P.allocType(h,f*u);He(g,e.data,f,u,l,p,e.offset),d(g,n),P.freeType(g)}return c}return i[s.id]=s,f||c(n),c._reglType="buffer",c._buffer=s,c.subdata=h,r.profile&&(c.stats=s.stats),c.destroy=function(){p(s)},c}function h(){_e(i).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))}return r.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(i).forEach((function(t){e+=i[t].stats.size})),e}),{create:d,createStream:u,destroyStream:s,clear:function(){_e(i).forEach(p),f.forEach(p)},getBuffer:function(e){return e&&e._buffer instanceof o?e._buffer:null},restore:h,_initBuffer:l}}Re[5120]=1,Re[5122]=2,Re[5124]=4,Re[5121]=1,Re[5123]=2,Re[5125]=4,Re[5126]=4;var Ge={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Qe=0,We=1,Xe=4,$e=5120,Ye=5121,Je=5122,Ke=5123,Ze=5124,et=5125,tt=34963,rt=35040,nt=35044;function at(e,t,r,n){var a={},i=0,o={uint8:Ye,uint16:Ke};function f(e){this.id=i++,a[this.id]=this,this.buffer=e,this.primType=Xe,this.vertCount=0,this.type=0}t.oes_element_index_uint&&(o.uint32=et),f.prototype.bind=function(){this.buffer.bind()};var u=[];function s(e){var t=u.pop();return t||(t=new f(r.create(null,tt,!0,!1)._buffer)),l(t,e,rt,-1,-1,0,0),t}function c(e){u.push(e)}function l(n,a,i,o,f,u,s){var c;if(n.buffer.bind(),a){var l=s;s||we(a)&&(!Ae(a)||we(a.data))||(l=t.oes_element_index_uint?et:Ke),r._initBuffer(n.buffer,a,i,l,3)}else e.bufferData(tt,u,i),n.buffer.dtype=c||Ye,n.buffer.usage=i,n.buffer.dimension=3,n.buffer.byteLength=u;if(c=s,!s){switch(n.buffer.dtype){case Ye:case $e:c=Ye;break;case Ke:case Je:c=Ke;break;case et:case Ze:c=et}n.buffer.dtype=c}n.type=c;var p=f;p<0&&(p=n.buffer.byteLength,c===Ke?p>>=1:c===et&&(p>>=2)),n.vertCount=p;var d=o;if(o<0){d=Xe;var h=n.buffer.dimension;1===h&&(d=Qe),2===h&&(d=We),3===h&&(d=Xe)}n.primType=d}function p(e){n.elementsCount--,delete a[e.id],e.buffer.destroy(),e.buffer=null}function d(e,t){var a=r.create(null,tt,!0),i=new f(a._buffer);function u(e){if(e)if("number"===typeof e)a(e),i.primType=Xe,i.vertCount=0|e,i.type=Ye;else{var t=null,r=nt,n=-1,f=-1,s=0,c=0;Array.isArray(e)||we(e)||Ae(e)?t=e:("data"in e&&(t=e.data),"usage"in e&&(r=Fe[e.usage]),"primitive"in e&&(n=Ge[e.primitive]),"count"in e&&(f=0|e.count),"type"in e&&(c=o[e.type]),"length"in e?s=0|e.length:(s=f,c===Ke||c===Je?s*=2:c!==et&&c!==Ze||(s*=4))),l(i,t,r,n,f,s,c)}else a(),i.primType=Xe,i.vertCount=0,i.type=Ye;return u}return n.elementsCount++,u(e),u._reglType="elements",u._elements=i,u.subdata=function(e,t){return a.subdata(e,t),u},u.destroy=function(){p(i)},u}return{create:d,createStream:s,destroyStream:c,getElements:function(e){return"function"===typeof e&&e._elements instanceof f?e._elements:null},clear:function(){_e(a).forEach(p)}}}var it=new Float32Array(1),ot=new Uint32Array(it.buffer),ft=5123;function ut(e){for(var t=P.allocType(ft,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{it[0]=e[r];var n=ot[0],a=n>>>31<<15,i=(n<<1>>>24)-127,o=n>>13&1023;if(i<-24)t[r]=a;else if(i<-14){var f=-14-i;t[r]=a+(o+1024>>f)}else t[r]=i>15?a+31744:a+(i+15<<10)+o}return t}function st(e){return Array.isArray(e)||we(e)}var ct=34467,lt=3553,pt=34067,dt=34069,ht=6408,gt=6406,mt=6407,vt=6409,bt=6410,yt=32854,xt=32855,wt=36194,At=32819,_t=32820,kt=33635,Dt=34042,Ot=6402,Et=34041,Tt=35904,St=35906,jt=36193,Ct=33776,Mt=33777,Ft=33778,Vt=33779,Pt=35986,Bt=35987,It=34798,zt=35840,Lt=35841,Rt=35842,Ut=35843,qt=36196,Ht=5121,Nt=5123,Gt=5125,Qt=5126,Wt=10242,Xt=10243,$t=10497,Yt=33071,Jt=33648,Kt=10240,Zt=10241,er=9728,tr=9729,rr=9984,nr=9985,ar=9986,ir=9987,or=33170,fr=4352,ur=4353,sr=4354,cr=34046,lr=3317,pr=37440,dr=37441,hr=37443,gr=37444,mr=33984,vr=[rr,ar,nr,ir],br=[0,vt,bt,mt,ht],yr={};function xr(e){return"[object "+e+"]"}yr[vt]=yr[gt]=yr[Ot]=1,yr[Et]=yr[bt]=2,yr[mt]=yr[Tt]=3,yr[ht]=yr[St]=4;var wr=xr("HTMLCanvasElement"),Ar=xr("OffscreenCanvas"),_r=xr("CanvasRenderingContext2D"),kr=xr("ImageBitmap"),Dr=xr("HTMLImageElement"),Or=xr("HTMLVideoElement"),Er=Object.keys(Ce).concat([wr,Ar,_r,kr,Dr,Or]),Tr=[];Tr[Ht]=1,Tr[Qt]=4,Tr[jt]=2,Tr[Nt]=2,Tr[Gt]=4;var Sr=[];function jr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Cr(e){return!!Array.isArray(e)&&!(0===e.length||!st(e[0]))}function Mr(e){return Object.prototype.toString.call(e)}function Fr(e){return Mr(e)===wr}function Vr(e){return Mr(e)===Ar}function Pr(e){return Mr(e)===_r}function Br(e){return Mr(e)===kr}function Ir(e){return Mr(e)===Dr}function zr(e){return Mr(e)===Or}function Lr(e){if(!e)return!1;var t=Mr(e);return Er.indexOf(t)>=0||jr(e)||Cr(e)||Ae(e)}function Rr(e){return 0|Ce[Object.prototype.toString.call(e)]}function Ur(e,t){var r=t.length;switch(e.type){case Ht:case Nt:case Gt:case Qt:var n=P.allocType(e.type,r);n.set(t),e.data=n;break;case jt:e.data=ut(t)}}function qr(e,t){return P.allocType(e.type===jt?Qt:e.type,t)}function Hr(e,t){e.type===jt?(e.data=ut(t),P.freeType(t)):e.data=t}function Nr(e,t,r,n,a,i){for(var o=e.width,f=e.height,u=e.channels,s=qr(e,o*f*u),c=0,l=0;l<f;++l)for(var p=0;p<o;++p)for(var d=0;d<u;++d)s[c++]=t[r*p+n*l+a*d+i];Hr(e,s)}function Gr(e,t,r,n,a,i){var o;if(o="undefined"!==typeof Sr[e]?Sr[e]:yr[e]*Tr[t],i&&(o*=6),a){for(var f=0,u=r;u>=1;)f+=o*u*u,u/=2;return f}return o*r*n}function Qr(t,r,n,a,i,o,f){var u={"don't care":fr,"dont care":fr,nice:sr,fast:ur},s={repeat:$t,clamp:Yt,mirror:Jt},c={nearest:er,linear:tr},l=e({mipmap:ir,"nearest mipmap nearest":rr,"linear mipmap nearest":nr,"nearest mipmap linear":ar,"linear mipmap linear":ir},c),p={none:0,browser:gr},d={uint8:Ht,rgba4:At,rgb565:kt,"rgb5 a1":_t},h={alpha:gt,luminance:vt,"luminance alpha":bt,rgb:mt,rgba:ht,rgba4:yt,"rgb5 a1":xt,rgb565:wt},g={};r.ext_srgb&&(h.srgb=Tt,h.srgba=St),r.oes_texture_float&&(d.float32=d.float=Qt),r.oes_texture_half_float&&(d.float16=d["half float"]=jt),r.webgl_depth_texture&&(e(h,{depth:Ot,"depth stencil":Et}),e(d,{uint16:Nt,uint32:Gt,"depth stencil":Dt})),r.webgl_compressed_texture_s3tc&&e(g,{"rgb s3tc dxt1":Ct,"rgba s3tc dxt1":Mt,"rgba s3tc dxt3":Ft,"rgba s3tc dxt5":Vt}),r.webgl_compressed_texture_atc&&e(g,{"rgb atc":Pt,"rgba atc explicit alpha":Bt,"rgba atc interpolated alpha":It}),r.webgl_compressed_texture_pvrtc&&e(g,{"rgb pvrtc 4bppv1":zt,"rgb pvrtc 2bppv1":Lt,"rgba pvrtc 4bppv1":Rt,"rgba pvrtc 2bppv1":Ut}),r.webgl_compressed_texture_etc1&&(g["rgb etc1"]=qt);var m=Array.prototype.slice.call(t.getParameter(ct));Object.keys(g).forEach((function(e){var t=g[e];m.indexOf(t)>=0&&(h[e]=t)}));var v=Object.keys(h);n.textureFormats=v;var b=[];Object.keys(h).forEach((function(e){var t=h[e];b[t]=e}));var y=[];Object.keys(d).forEach((function(e){var t=d[e];y[t]=e}));var x=[];Object.keys(c).forEach((function(e){var t=c[e];x[t]=e}));var w=[];Object.keys(l).forEach((function(e){var t=l[e];w[t]=e}));var A=[];Object.keys(s).forEach((function(e){var t=s[e];A[t]=e}));var _=v.reduce((function(e,t){var n=h[t];return n===vt||n===gt||n===vt||n===bt||n===Ot||n===Et||r.ext_srgb&&(n===Tt||n===St)?e[n]=n:n===xt||t.indexOf("rgba")>=0?e[n]=ht:e[n]=mt,e}),{});function k(){this.internalformat=ht,this.format=ht,this.type=Ht,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=gr,this.width=0,this.height=0,this.channels=0}function D(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function O(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(e.flipY=t.flipY),"alignment"in t&&(e.unpackAlignment=t.alignment),"colorSpace"in t&&(e.colorSpace=p[t.colorSpace]),"type"in t){var r=t.type;e.type=d[r]}var n=e.width,a=e.height,i=e.channels,o=!1;"shape"in t?(n=t.shape[0],a=t.shape[1],3===t.shape.length&&(i=t.shape[2],o=!0)):("radius"in t&&(n=a=t.radius),"width"in t&&(n=t.width),"height"in t&&(a=t.height),"channels"in t&&(i=t.channels,o=!0)),e.width=0|n,e.height=0|a,e.channels=0|i;var f=!1;if("format"in t){var u=t.format,s=e.internalformat=h[u];e.format=_[s],u in d&&("type"in t||(e.type=d[u])),u in g&&(e.compressed=!0),f=!0}!o&&f?e.channels=yr[e.format]:o&&!f&&e.channels!==br[e.format]&&(e.format=e.internalformat=br[e.channels])}}function E(e){t.pixelStorei(pr,e.flipY),t.pixelStorei(dr,e.premultiplyAlpha),t.pixelStorei(hr,e.colorSpace),t.pixelStorei(lr,e.unpackAlignment)}function T(){k.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function S(e,t){var r=null;if(Lr(t)?r=t:t&&(O(e,t),"x"in t&&(e.xOffset=0|t.x),"y"in t&&(e.yOffset=0|t.y),Lr(t.data)&&(r=t.data)),t.copy){var n=i.viewportWidth,a=i.viewportHeight;e.width=e.width||n-e.xOffset,e.height=e.height||a-e.yOffset,e.needsCopy=!0}else if(r){if(we(r))e.channels=e.channels||4,e.data=r,"type"in t||e.type!==Ht||(e.type=Rr(r));else if(jr(r))e.channels=e.channels||4,Ur(e,r),e.alignment=1,e.needsFree=!0;else if(Ae(r)){var o=r.data;Array.isArray(o)||e.type!==Ht||(e.type=Rr(o));var f,u,s,c,l,p,d=r.shape,h=r.stride;3===d.length?(s=d[2],p=h[2]):(s=1,p=1),f=d[0],u=d[1],c=h[0],l=h[1],e.alignment=1,e.width=f,e.height=u,e.channels=s,e.format=e.internalformat=br[s],e.needsFree=!0,Nr(e,o,c,l,p,r.offset)}else if(Fr(r)||Vr(r)||Pr(r))Fr(r)||Vr(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(Br(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(Ir(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(zr(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(Cr(r)){var g=e.width||r[0].length,m=e.height||r.length,v=e.channels;v=st(r[0][0])?v||r[0][0].length:v||1;for(var b=ke.shape(r),y=1,x=0;x<b.length;++x)y*=b[x];var w=qr(e,y);ke.flatten(r,b,"",w),Hr(e,w),e.alignment=1,e.width=g,e.height=m,e.channels=v,e.format=e.internalformat=br[v],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;e.type===Qt||e.type}function j(e,r,n){var i=e.element,o=e.data,f=e.internalformat,u=e.format,s=e.type,c=e.width,l=e.height;E(e),i?t.texImage2D(r,n,u,u,s,i):e.compressed?t.compressedTexImage2D(r,n,f,c,l,0,o):e.needsCopy?(a(),t.copyTexImage2D(r,n,u,e.xOffset,e.yOffset,c,l,0)):t.texImage2D(r,n,u,c,l,0,u,s,o||null)}function C(e,r,n,i,o){var f=e.element,u=e.data,s=e.internalformat,c=e.format,l=e.type,p=e.width,d=e.height;E(e),f?t.texSubImage2D(r,o,n,i,c,l,f):e.compressed?t.compressedTexSubImage2D(r,o,n,i,s,p,d,u):e.needsCopy?(a(),t.copyTexSubImage2D(r,o,n,i,e.xOffset,e.yOffset,p,d)):t.texSubImage2D(r,o,n,i,p,d,c,l,u)}var M=[];function F(){return M.pop()||new T}function V(e){e.needsFree&&P.freeType(e.data),T.call(e),M.push(e)}function B(){k.call(this),this.genMipmaps=!1,this.mipmapHint=fr,this.mipmask=0,this.images=Array(16)}function I(e,t,r){var n=e.images[0]=F();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function z(e,t){var r=null;if(Lr(t))D(r=e.images[0]=F(),e),S(r,t),e.mipmask=1;else if(O(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,a=0;a<n.length;++a)D(r=e.images[a]=F(),e),r.width>>=a,r.height>>=a,S(r,n[a]),e.mipmask|=1<<a;else D(r=e.images[0]=F(),e),S(r,t),e.mipmask=1;D(e,e.images[0]),e.compressed&&(e.internalformat===Ct||e.internalformat===Mt||e.internalformat===Ft||e.internalformat)}function L(e,t){for(var r=e.images,n=0;n<r.length;++n){if(!r[n])return;j(r[n],t,n)}}var R=[];function U(){var e=R.pop()||new B;k.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function q(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&V(t[r]),t[r]=null;R.push(e)}function H(){this.minFilter=er,this.magFilter=er,this.wrapS=Yt,this.wrapT=Yt,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=fr}function N(e,t){if("min"in t){var r=t.min;e.minFilter=l[r],vr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var n=t.mag;e.magFilter=c[n]}var a=e.wrapS,i=e.wrapT;if("wrap"in t){var o=t.wrap;"string"===typeof o?a=i=s[o]:Array.isArray(o)&&(a=s[o[0]],i=s[o[1]])}else{if("wrapS"in t){var f=t.wrapS;a=s[f]}if("wrapT"in t){var p=t.wrapT;i=s[p]}}if(e.wrapS=a,e.wrapT=i,"anisotropic"in t&&(t.anisotropic,e.anisotropic=t.anisotropic),"mipmap"in t){var d=!1;switch(typeof t.mipmap){case"string":e.mipmapHint=u[t.mipmap],e.genMipmaps=!0,d=!0;break;case"boolean":d=e.genMipmaps=t.mipmap;break;case"object":e.genMipmaps=!1,d=!0}d&&!("min"in t)&&(e.minFilter=rr)}}function G(e,n){t.texParameteri(n,Zt,e.minFilter),t.texParameteri(n,Kt,e.magFilter),t.texParameteri(n,Wt,e.wrapS),t.texParameteri(n,Xt,e.wrapT),r.ext_texture_filter_anisotropic&&t.texParameteri(n,cr,e.anisotropic),e.genMipmaps&&(t.hint(or,e.mipmapHint),t.generateMipmap(n))}var Q=0,W={},X=n.maxTextureUnits,$=Array(X).map((function(){return null}));function Y(e){k.call(this),this.mipmask=0,this.internalformat=ht,this.id=Q++,this.refCount=1,this.target=e,this.texture=t.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new H,f.profile&&(this.stats={size:0})}function J(e){t.activeTexture(mr),t.bindTexture(e.target,e.texture)}function K(){var e=$[0];e?t.bindTexture(e.target,e.texture):t.bindTexture(lt,null)}function Z(e){var r=e.texture,n=e.unit,a=e.target;n>=0&&(t.activeTexture(mr+n),t.bindTexture(a,null),$[n]=null),t.deleteTexture(r),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete W[e.id],o.textureCount--}function ee(e,r){var n=new Y(lt);function a(e,t){var r=n.texInfo;H.call(r);var i=U();return"number"===typeof e?I(i,0|e,"number"===typeof t?0|t:0|e):e?(N(r,e),z(i,e)):I(i,1,1),r.genMipmaps&&(i.mipmask=(i.width<<1)-1),n.mipmask=i.mipmask,D(n,i),n.internalformat=i.internalformat,a.width=i.width,a.height=i.height,J(n),L(i,lt),G(r,lt),K(),q(i),f.profile&&(n.stats.size=Gr(n.internalformat,n.type,i.width,i.height,r.genMipmaps,!1)),a.format=b[n.internalformat],a.type=y[n.type],a.mag=x[r.magFilter],a.min=w[r.minFilter],a.wrapS=A[r.wrapS],a.wrapT=A[r.wrapT],a}function i(e,t,r,i){var o=0|t,f=0|r,u=0|i,s=F();return D(s,n),s.width=0,s.height=0,S(s,e),s.width=s.width||(n.width>>u)-o,s.height=s.height||(n.height>>u)-f,J(n),C(s,lt,o,f,u),K(),V(s),a}function u(e,r){var i=0|e,o=0|r||i;if(i===n.width&&o===n.height)return a;a.width=n.width=i,a.height=n.height=o,J(n);for(var u=0;n.mipmask>>u;++u){var s=i>>u,c=o>>u;if(!s||!c)break;t.texImage2D(lt,u,n.format,s,c,0,n.format,n.type,null)}return K(),f.profile&&(n.stats.size=Gr(n.internalformat,n.type,i,o,!1,!1)),a}return W[n.id]=n,o.textureCount++,a(e,r),a.subimage=i,a.resize=u,a._reglType="texture2d",a._texture=n,f.profile&&(a.stats=n.stats),a.destroy=function(){n.decRef()},a}function te(e,r,n,a,i,u){var s=new Y(pt);W[s.id]=s,o.cubeCount++;var c=new Array(6);function l(e,t,r,n,a,i){var o,u=s.texInfo;for(H.call(u),o=0;o<6;++o)c[o]=U();if("number"!==typeof e&&e){if("object"===typeof e)if(t)z(c[0],e),z(c[1],t),z(c[2],r),z(c[3],n),z(c[4],a),z(c[5],i);else if(N(u,e),O(s,e),"faces"in e){var p=e.faces;for(o=0;o<6;++o)D(c[o],s),z(c[o],p[o])}else for(o=0;o<6;++o)z(c[o],e)}else{var d=0|e||1;for(o=0;o<6;++o)I(c[o],d,d)}for(D(s,c[0]),u.genMipmaps?s.mipmask=(c[0].width<<1)-1:s.mipmask=c[0].mipmask,s.internalformat=c[0].internalformat,l.width=c[0].width,l.height=c[0].height,J(s),o=0;o<6;++o)L(c[o],dt+o);for(G(u,pt),K(),f.profile&&(s.stats.size=Gr(s.internalformat,s.type,l.width,l.height,u.genMipmaps,!0)),l.format=b[s.internalformat],l.type=y[s.type],l.mag=x[u.magFilter],l.min=w[u.minFilter],l.wrapS=A[u.wrapS],l.wrapT=A[u.wrapT],o=0;o<6;++o)q(c[o]);return l}function p(e,t,r,n,a){var i=0|r,o=0|n,f=0|a,u=F();return D(u,s),u.width=0,u.height=0,S(u,t),u.width=u.width||(s.width>>f)-i,u.height=u.height||(s.height>>f)-o,J(s),C(u,dt+e,i,o,f),K(),V(u),l}function d(e){var r=0|e;if(r!==s.width){l.width=s.width=r,l.height=s.height=r,J(s);for(var n=0;n<6;++n)for(var a=0;s.mipmask>>a;++a)t.texImage2D(dt+n,a,s.format,r>>a,r>>a,0,s.format,s.type,null);return K(),f.profile&&(s.stats.size=Gr(s.internalformat,s.type,l.width,l.height,!1,!0)),l}}return l(e,r,n,a,i,u),l.subimage=p,l.resize=d,l._reglType="textureCube",l._texture=s,f.profile&&(l.stats=s.stats),l.destroy=function(){s.decRef()},l}function re(){for(var e=0;e<X;++e)t.activeTexture(mr+e),t.bindTexture(lt,null),$[e]=null;_e(W).forEach(Z),o.cubeCount=0,o.textureCount=0}function ne(){for(var e=0;e<X;++e){var r=$[e];r&&(r.bindCount=0,r.unit=-1,$[e]=null)}_e(W).forEach((function(e){e.texture=t.createTexture(),t.bindTexture(e.target,e.texture);for(var r=0;r<32;++r)if(0!==(e.mipmask&1<<r))if(e.target===lt)t.texImage2D(lt,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)t.texImage2D(dt+n,r,e.internalformat,e.width>>r,e.height>>r,0,e.internalformat,e.type,null);G(e.texInfo,e.target)}))}function ae(){for(var e=0;e<X;++e){var r=$[e];r&&(r.bindCount=0,r.unit=-1,$[e]=null),t.activeTexture(mr+e),t.bindTexture(lt,null),t.bindTexture(pt,null)}}return e(Y.prototype,{bind:function(){var e=this;e.bindCount+=1;var r=e.unit;if(r<0){for(var n=0;n<X;++n){var a=$[n];if(a){if(a.bindCount>0)continue;a.unit=-1}$[n]=e,r=n;break}f.profile&&o.maxTextureUnits<r+1&&(o.maxTextureUnits=r+1),e.unit=r,t.activeTexture(mr+r),t.bindTexture(e.target,e.texture)}return r},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Z(this)}}),f.profile&&(o.getTotalTextureSize=function(){var e=0;return Object.keys(W).forEach((function(t){e+=W[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ne,refresh:ae}}Sr[yt]=2,Sr[xt]=2,Sr[wt]=2,Sr[Et]=4,Sr[Ct]=.5,Sr[Mt]=.5,Sr[Ft]=1,Sr[Vt]=1,Sr[Pt]=.5,Sr[Bt]=1,Sr[It]=1,Sr[zt]=.5,Sr[Lt]=.25,Sr[Rt]=.5,Sr[Ut]=.25,Sr[qt]=.5;var Wr=36161,Xr=32854,$r=32855,Yr=36194,Jr=33189,Kr=36168,Zr=34041,en=35907,tn=34836,rn=34842,nn=34843,an=[];function on(e,t,r){return an[e]*t*r}an[Xr]=2,an[$r]=2,an[Yr]=2,an[Jr]=2,an[Kr]=1,an[Zr]=4,an[en]=4,an[tn]=16,an[rn]=8,an[nn]=6;var fn=function(e,t,r,n,a){var i={rgba4:Xr,rgb565:Yr,"rgb5 a1":$r,depth:Jr,stencil:Kr,"depth stencil":Zr};t.ext_srgb&&(i.srgba=en),t.ext_color_buffer_half_float&&(i.rgba16f=rn,i.rgb16f=nn),t.webgl_color_buffer_float&&(i.rgba32f=tn);var o=[];Object.keys(i).forEach((function(e){var t=i[e];o[t]=e}));var f=0,u={};function s(e){this.id=f++,this.refCount=1,this.renderbuffer=e,this.format=Xr,this.width=0,this.height=0,a.profile&&(this.stats={size:0})}function c(t){var r=t.renderbuffer;e.bindRenderbuffer(Wr,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete u[t.id],n.renderbufferCount--}function l(t,r){var f=new s(e.createRenderbuffer());function c(t,r){var n=0,u=0,s=Xr;if("object"===typeof t&&t){var l=t;if("shape"in l){var p=l.shape;n=0|p[0],u=0|p[1]}else"radius"in l&&(n=u=0|l.radius),"width"in l&&(n=0|l.width),"height"in l&&(u=0|l.height);"format"in l&&(s=i[l.format])}else"number"===typeof t?(n=0|t,u="number"===typeof r?0|r:n):t||(n=u=1);if(n!==f.width||u!==f.height||s!==f.format)return c.width=f.width=n,c.height=f.height=u,f.format=s,e.bindRenderbuffer(Wr,f.renderbuffer),e.renderbufferStorage(Wr,s,n,u),a.profile&&(f.stats.size=on(f.format,f.width,f.height)),c.format=o[f.format],c}function l(t,r){var n=0|t,i=0|r||n;return n===f.width&&i===f.height||(c.width=f.width=n,c.height=f.height=i,e.bindRenderbuffer(Wr,f.renderbuffer),e.renderbufferStorage(Wr,f.format,n,i),a.profile&&(f.stats.size=on(f.format,f.width,f.height))),c}return u[f.id]=f,n.renderbufferCount++,c(t,r),c.resize=l,c._reglType="renderbuffer",c._renderbuffer=f,a.profile&&(c.stats=f.stats),c.destroy=function(){f.decRef()},c}function p(){_e(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Wr,t.renderbuffer),e.renderbufferStorage(Wr,t.format,t.width,t.height)})),e.bindRenderbuffer(Wr,null)}return s.prototype.decRef=function(){--this.refCount<=0&&c(this)},a.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:l,clear:function(){_e(u).forEach(c)},restore:p}},un=36160,sn=36161,cn=3553,ln=34069,pn=36064,dn=36096,hn=36128,gn=33306,mn=36193,vn=5121,bn=5126,yn=6407,xn=[];xn[6408]=4,xn[yn]=3;var wn=[];function An(t,r,n,a,i,o){var f={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],s=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&s.push("srgba"),r.ext_color_buffer_half_float&&s.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&s.push("rgba32f");var c=["uint8"];function l(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,a=0;t?(n=t.width,a=t.height):r&&(n=r.width,a=r.height),this.width=n,this.height=a}function p(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function d(e,t,r){if(e)if(e.texture){var n=e.texture._texture;Math.max(1,n.width),Math.max(1,n.height),n.refCount+=1}else e.renderbuffer._renderbuffer.refCount+=1}function h(e,r){r&&(r.texture?t.framebufferTexture2D(un,e,r.target,r.texture._texture.texture,0):t.framebufferRenderbuffer(un,e,sn,r.renderbuffer._renderbuffer.renderbuffer))}function g(e){var t=cn,r=null,n=null,a=e;"object"===typeof e&&(a=e.data,"target"in e&&(t=0|e.target));var i=a._reglType;return"texture2d"===i||"textureCube"===i?r=a:"renderbuffer"===i&&(n=a,t=sn),new l(t,r,n)}function m(e,t,r,n,o){if(r){var f=a.create2D({width:e,height:t,format:n,type:o});return f._texture.refCount=0,new l(cn,f,null)}var u=i.create({width:e,height:t,format:n});return u._renderbuffer.refCount=0,new l(sn,null,u)}function v(e){return e&&(e.texture||e.renderbuffer)}function b(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}r.oes_texture_half_float&&c.push("half float","float16"),r.oes_texture_float&&c.push("float","float32");var y=0,x={};function w(){this.id=y++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function A(e){e.colorAttachments.forEach(p),p(e.depthAttachment),p(e.stencilAttachment),p(e.depthStencilAttachment)}function _(e){var r=e.framebuffer;t.deleteFramebuffer(r),e.framebuffer=null,o.framebufferCount--,delete x[e.id]}function k(e){var r;t.bindFramebuffer(un,e.framebuffer);var a=e.colorAttachments;for(r=0;r<a.length;++r)h(pn+r,a[r]);for(r=a.length;r<n.maxColorAttachments;++r)t.framebufferTexture2D(un,pn+r,cn,null,0);t.framebufferTexture2D(un,gn,cn,null,0),t.framebufferTexture2D(un,dn,cn,null,0),t.framebufferTexture2D(un,hn,cn,null,0),h(dn,e.depthAttachment),h(hn,e.stencilAttachment),h(gn,e.depthStencilAttachment),t.checkFramebufferStatus(un),t.isContextLost(),t.bindFramebuffer(un,f.next?f.next.framebuffer:null),f.cur=f.next,t.getError()}function D(t,r){var n=new w;function a(e,t){var r,i=0,o=0,f=!0,c=!0,l=null,p=!0,h="rgba",b="uint8",y=1,x=null,w=null,_=null,D=!1;if("number"===typeof e)i=0|e,o=0|t||i;else if(e){var O=e;if("shape"in O){var E=O.shape;i=E[0],o=E[1]}else"radius"in O&&(i=o=O.radius),"width"in O&&(i=O.width),"height"in O&&(o=O.height);("color"in O||"colors"in O)&&(l=O.color||O.colors,Array.isArray(l)),l||("colorCount"in O&&(y=0|O.colorCount),"colorTexture"in O&&(p=!!O.colorTexture,h="rgba4"),"colorType"in O&&(b=O.colorType,p||("half float"===b||"float16"===b?h="rgba16f":"float"!==b&&"float32"!==b||(h="rgba32f"))),"colorFormat"in O&&(h=O.colorFormat,u.indexOf(h)>=0?p=!0:s.indexOf(h)>=0&&(p=!1))),("depthTexture"in O||"depthStencilTexture"in O)&&(D=!(!O.depthTexture&&!O.depthStencilTexture)),"depth"in O&&("boolean"===typeof O.depth?f=O.depth:(x=O.depth,c=!1)),"stencil"in O&&("boolean"===typeof O.stencil?c=O.stencil:(w=O.stencil,f=!1)),"depthStencil"in O&&("boolean"===typeof O.depthStencil?f=c=O.depthStencil:(_=O.depthStencil,f=!1,c=!1))}else i=o=1;var T=null,S=null,j=null,C=null;if(Array.isArray(l))T=l.map(g);else if(l)T=[g(l)];else for(T=new Array(y),r=0;r<y;++r)T[r]=m(i,o,p,h,b);i=i||T[0].width,o=o||T[0].height,x?S=g(x):f&&!c&&(S=m(i,o,D,"depth","uint32")),w?j=g(w):c&&!f&&(j=m(i,o,!1,"stencil","uint8")),_?C=g(_):!x&&!w&&c&&f&&(C=m(i,o,D,"depth stencil","depth stencil"));var M=null;for(r=0;r<T.length;++r)if(d(T[r],i,o),T[r]&&T[r].texture){var F=xn[T[r].texture._texture.format]*wn[T[r].texture._texture.type];null===M&&(M=F)}return d(S,i,o),d(j,i,o),d(C,i,o),A(n),n.width=i,n.height=o,n.colorAttachments=T,n.depthAttachment=S,n.stencilAttachment=j,n.depthStencilAttachment=C,a.color=T.map(v),a.depth=v(S),a.stencil=v(j),a.depthStencil=v(C),a.width=n.width,a.height=n.height,k(n),a}function i(e,t){var r=Math.max(0|e,1),i=Math.max(0|t||r,1);if(r===n.width&&i===n.height)return a;for(var o=n.colorAttachments,f=0;f<o.length;++f)b(o[f],r,i);return b(n.depthAttachment,r,i),b(n.stencilAttachment,r,i),b(n.depthStencilAttachment,r,i),n.width=a.width=r,n.height=a.height=i,k(n),a}return o.framebufferCount++,a(t,r),e(a,{resize:i,_reglType:"framebuffer",_framebuffer:n,destroy:function(){_(n),A(n)},use:function(e){f.setFBO({framebuffer:a},e)}})}function O(t){var r=Array(6);function n(t){var i,o,f={color:null},u=0,s=null,c="rgba",l="uint8",p=1;if("number"===typeof t)u=0|t;else if(t){var d=t;"shape"in d?u=d.shape[0]:("radius"in d&&(u=0|d.radius),"width"in d?u=0|d.width:"height"in d&&(u=0|d.height)),("color"in d||"colors"in d)&&(s=d.color||d.colors,Array.isArray(s)),s||("colorCount"in d&&(p=0|d.colorCount),"colorType"in d&&(l=d.colorType),"colorFormat"in d&&(c=d.colorFormat)),"depth"in d&&(f.depth=d.depth),"stencil"in d&&(f.stencil=d.stencil),"depthStencil"in d&&(f.depthStencil=d.depthStencil)}else u=1;if(s)if(Array.isArray(s))for(o=[],i=0;i<s.length;++i)o[i]=s[i];else o=[s];else{o=Array(p);var h={radius:u,format:c,type:l};for(i=0;i<p;++i)o[i]=a.createCube(h)}for(f.color=Array(o.length),i=0;i<o.length;++i){var g=o[i];u=u||g.width,f.color[i]={target:ln,data:o[i]}}for(i=0;i<6;++i){for(var m=0;m<o.length;++m)f.color[m].target=ln+i;i>0&&(f.depth=r[0].depth,f.stencil=r[0].stencil,f.depthStencil=r[0].depthStencil),r[i]?r[i](f):r[i]=D(f)}return e(n,{width:u,height:u,color:o})}function i(e){var t,a=0|e;if(a===n.width)return n;var i=n.color;for(t=0;t<i.length;++t)i[t].resize(a);for(t=0;t<6;++t)r[t].resize(a);return n.width=n.height=a,n}return n(t),e(n,{faces:r,resize:i,_reglType:"framebufferCube",destroy:function(){r.forEach((function(e){e.destroy()}))}})}function E(){f.cur=null,f.next=null,f.dirty=!0,_e(x).forEach((function(e){e.framebuffer=t.createFramebuffer(),k(e)}))}return e(f,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:D,createCube:O,clear:function(){_e(x).forEach(_)},restore:E})}wn[vn]=1,wn[bn]=4,wn[mn]=2;var _n=5126,kn=34962,Dn=34963;function On(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=_n,this.offset=0,this.stride=0,this.divisor=0}function En(e,t,r,n,a,i,o){for(var f=r.maxAttributes,u=new Array(f),s=0;s<f;++s)u[s]=new On;var c=0,l={},p={Record:On,scope:{},state:u,currentVAO:null,targetVAO:null,restore:h()?w:function(){},createVAO:A,getVAO:m,destroyBuffer:d,setVAO:h()?v:b,clear:h()?y:function(){}};function d(t){for(var r=0;r<u.length;++r){var n=u[r];n.buffer===t&&(e.disableVertexAttribArray(r),n.buffer=null)}}function h(){return t.oes_vertex_array_object}function g(){return t.angle_instanced_arrays}function m(e){return"function"===typeof e&&e._vao?e._vao:null}function v(e){if(e!==p.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),p.currentVAO=e}}function b(t){if(t!==p.currentVAO){if(t)t.bindAttrs();else{for(var r=g(),n=0;n<u.length;++n){var a=u[n];a.buffer?(e.enableVertexAttribArray(n),a.buffer.bind(),e.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offfset),r&&a.divisor&&r.vertexAttribDivisorANGLE(n,a.divisor)):(e.disableVertexAttribArray(n),e.vertexAttrib4f(n,a.x,a.y,a.z,a.w))}o.elements?e.bindBuffer(Dn,o.elements.buffer.buffer):e.bindBuffer(Dn,null)}p.currentVAO=t}}function y(){_e(l).forEach((function(e){e.destroy()}))}function x(){this.id=++c,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=h();this.vao=e?e.createVertexArrayOES():null,l[this.id]=this,this.buffers=[]}function w(){h()&&_e(l).forEach((function(e){e.refresh()}))}function A(e){var t=new x;function r(e){var n;if(Array.isArray(e))n=e,t.elements&&t.ownsElements&&t.elements.destroy(),t.elements=null,t.ownsElements=!1,t.offset=0,t.count=0,t.instances=-1,t.primitive=4;else{if(e.elements){var o=e.elements;t.ownsElements?"function"===typeof o&&"elements"===o._reglType?(t.elements.destroy(),t.ownsElements=!1):(t.elements(o),t.ownsElements=!1):i.getElements(e.elements)?(t.elements=e.elements,t.ownsElements=!1):(t.elements=i.create(e.elements),t.ownsElements=!0)}else t.elements=null,t.ownsElements=!1;n=e.attributes,t.offset=0,t.count=-1,t.instances=-1,t.primitive=4,t.elements&&(t.count=t.elements._elements.vertCount,t.primitive=t.elements._elements.primType),"offset"in e&&(t.offset=0|e.offset),"count"in e&&(t.count=0|e.count),"instances"in e&&(t.instances=0|e.instances),"primitive"in e&&(t.primitive=Ge[e.primitive])}var f={},u=t.attributes;u.length=n.length;for(var s=0;s<n.length;++s){var c,l=n[s],p=u[s]=new On,d=l.data||l;Array.isArray(d)||we(d)||Ae(d)?(t.buffers[s]&&(c=t.buffers[s],we(d)&&c._buffer.byteLength>=d.byteLength?c.subdata(d):(c.destroy(),t.buffers[s]=null)),t.buffers[s]||(c=t.buffers[s]=a.create(l,kn,!1,!0)),p.buffer=a.getBuffer(c),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1,f[s]=1):a.getBuffer(l)?(p.buffer=a.getBuffer(l),p.size=0|p.buffer.dimension,p.normalized=!1,p.type=p.buffer.dtype,p.offset=0,p.stride=0,p.divisor=0,p.state=1):a.getBuffer(l.buffer)?(p.buffer=a.getBuffer(l.buffer),p.size=0|(+l.size||p.buffer.dimension),p.normalized=!!l.normalized||!1,p.type="type"in l?Me[l.type]:p.buffer.dtype,p.offset=0|(l.offset||0),p.stride=0|(l.stride||0),p.divisor=0|(l.divisor||0),p.state=1):"x"in l&&(p.x=+l.x||0,p.y=+l.y||0,p.z=+l.z||0,p.w=+l.w||0,p.state=2)}for(var h=0;h<t.buffers.length;++h)!f[h]&&t.buffers[h]&&(t.buffers[h].destroy(),t.buffers[h]=null);return t.refresh(),r}return n.vaoCount+=1,r.destroy=function(){for(var e=0;e<t.buffers.length;++e)t.buffers[e]&&t.buffers[e].destroy();t.buffers.length=0,t.ownsElements&&(t.elements.destroy(),t.elements=null,t.ownsElements=!1),t.destroy()},r._vao=t,r._reglType="vao",r(e)}return x.prototype.bindAttrs=function(){for(var t=g(),r=this.attributes,n=0;n<r.length;++n){var a=r[n];a.buffer?(e.enableVertexAttribArray(n),e.bindBuffer(kn,a.buffer.buffer),e.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offset),t&&a.divisor&&t.vertexAttribDivisorANGLE(n,a.divisor)):(e.disableVertexAttribArray(n),e.vertexAttrib4f(n,a.x,a.y,a.z,a.w))}for(var o=r.length;o<f;++o)e.disableVertexAttribArray(o);var u=i.getElements(this.elements);u?e.bindBuffer(Dn,u.buffer.buffer):e.bindBuffer(Dn,null)},x.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),p.currentVAO=this)},x.prototype.destroy=function(){if(this.vao){var e=h();this===p.currentVAO&&(p.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),l[this.id]&&(delete l[this.id],n.vaoCount-=1)},p}var Tn=35632,Sn=35633,jn=35718,Cn=35721;function Mn(t,r,n,a){var i={},o={};function f(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function u(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function s(e,n,a){var f=e===Tn?i:o,u=f[n];if(!u){var s=r.str(n);u=t.createShader(e),t.shaderSource(u,s),t.compileShader(u),f[n]=u}return u}var c={},l=[],p=0;function d(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,a.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function h(e,n,i){var o,c,l=s(Tn,e.fragId),p=s(Sn,e.vertId),d=e.program=t.createProgram();if(t.attachShader(d,l),t.attachShader(d,p),i)for(o=0;o<i.length;++o){var h=i[o];t.bindAttribLocation(d,h[0],h[1])}t.linkProgram(d);var g=t.getProgramParameter(d,jn);a.profile&&(e.stats.uniformsCount=g);var m=e.uniforms;for(o=0;o<g;++o)if(c=t.getActiveUniform(d,o))if(c.size>1)for(var v=0;v<c.size;++v){var b=c.name.replace("[0]","["+v+"]");u(m,new f(b,r.id(b),t.getUniformLocation(d,b),c))}else u(m,new f(c.name,r.id(c.name),t.getUniformLocation(d,c.name),c));var y=t.getProgramParameter(d,Cn);a.profile&&(e.stats.attributesCount=y);var x=e.attributes;for(o=0;o<y;++o)(c=t.getActiveAttrib(d,o))&&u(x,new f(c.name,r.id(c.name),t.getAttribLocation(d,c.name),c))}function g(){i={},o={};for(var e=0;e<l.length;++e)h(l[e],null,l[e].attributes.map((function(e){return[e.location,e.name]})))}return a.profile&&(n.getMaxUniformsCount=function(){var e=0;return l.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},n.getMaxAttributesCount=function(){var e=0;return l.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var e=t.deleteShader.bind(t);_e(i).forEach(e),i={},_e(o).forEach(e),o={},l.forEach((function(e){t.deleteProgram(e.program)})),l.length=0,c={},n.shaderCount=0},program:function(r,a,f,u){var s=c[a];s||(s=c[a]={});var p=s[r];if(p&&(p.refCount++,!u))return p;var g=new d(a,r);return n.shaderCount++,h(g,f,u),p||(s[r]=g),l.push(g),e(g,{destroy:function(){if(g.refCount--,g.refCount<=0){t.deleteProgram(g.program);var e=l.indexOf(g);l.splice(e,1),n.shaderCount--}s[g.vertId].refCount<=0&&(t.deleteShader(o[g.vertId]),delete o[g.vertId],delete c[g.fragId][g.vertId]),Object.keys(c[g.fragId]).length||(t.deleteShader(i[g.fragId]),delete i[g.fragId],delete c[g.fragId])}})},restore:g,shader:s,frag:-1,vert:-1}}var Fn=6408,Vn=5121,Pn=3333,Bn=5126;function In(e,t,r,n,a,i,o){function f(a){var i;i=null===t.next?Vn:t.next.colorAttachments[0].texture._texture.type;var o=0,f=0,u=n.framebufferWidth,s=n.framebufferHeight,c=null;we(a)?c=a:a&&(o=0|a.x,f=0|a.y,u=0|(a.width||n.framebufferWidth-o),s=0|(a.height||n.framebufferHeight-f),c=a.data||null),r();var l=u*s*4;return c||(i===Vn?c=new Uint8Array(l):i===Bn&&(c=c||new Float32Array(l))),e.pixelStorei(Pn,4),e.readPixels(o,f,u,s,Fn,i,c),c}function u(e){var r;return t.setFBO({framebuffer:e.framebuffer},(function(){r=f(e)})),r}function s(e){return e&&"framebuffer"in e?u(e):f(e)}return s}function zn(e){return Array.prototype.slice.call(e)}function Ln(e){return zn(e).join("")}function Rn(){var t=0,r=[],n=[];function a(e){for(var a=0;a<n.length;++a)if(n[a]===e)return r[a];var i="g"+t++;return r.push(i),n.push(e),i}function i(){var r=[];function n(){r.push.apply(r,zn(arguments))}var a=[];function i(){var e="v"+t++;return a.push(e),arguments.length>0&&(r.push(e,"="),r.push.apply(r,zn(arguments)),r.push(";")),e}return e(n,{def:i,toString:function(){return Ln([a.length>0?"var "+a.join(",")+";":"",Ln(r)])}})}function o(){var t=i(),r=i(),n=t.toString,a=r.toString;function o(e,n){r(e,n,"=",t.def(e,n),";")}return e((function(){t.apply(t,zn(arguments))}),{def:t.def,entry:t,exit:r,save:o,set:function(e,r,n){o(e,r),t(e,r,"=",n,";")},toString:function(){return n()+a()}})}function f(){var t=Ln(arguments),r=o(),n=o(),a=r.toString,i=n.toString;return e(r,{then:function(){return r.apply(r,zn(arguments)),this},else:function(){return n.apply(n,zn(arguments)),this},toString:function(){var e=i();return e&&(e="else{"+e+"}"),Ln(["if(",t,"){",a(),"}",e])}})}var u=i(),s={};function c(t,r){var n=[];function a(){var e="a"+n.length;return n.push(e),e}r=r||0;for(var i=0;i<r;++i)a();var f=o(),u=f.toString;return s[t]=e(f,{arg:a,toString:function(){return Ln(["function(",n.join(),"){",u(),"}"])}})}function l(){var e=['"use strict";',u,"return {"];Object.keys(s).forEach((function(t){e.push('"',t,'":',s[t].toString(),",")})),e.push("}");var t=Ln(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,n)}return{global:u,link:a,block:i,proc:c,scope:o,cond:f,compile:l}}var Un="xyzw".split(""),qn=5121,Hn=1,Nn=2,Gn=0,Qn=1,Wn=2,Xn=3,$n=4,Yn=5,Jn=6,Kn="dither",Zn="blend.enable",ea="blend.color",ta="blend.equation",ra="blend.func",na="depth.enable",aa="depth.func",ia="depth.range",oa="depth.mask",fa="colorMask",ua="cull.enable",sa="cull.face",ca="frontFace",la="lineWidth",pa="polygonOffset.enable",da="polygonOffset.offset",ha="sample.alpha",ga="sample.enable",ma="sample.coverage",va="stencil.enable",ba="stencil.mask",ya="stencil.func",xa="stencil.opFront",wa="stencil.opBack",Aa="scissor.enable",_a="scissor.box",ka="viewport",Da="profile",Oa="framebuffer",Ea="vert",Ta="frag",Sa="elements",ja="primitive",Ca="count",Ma="offset",Fa="instances",Va="vao",Pa="Width",Ba="Height",Ia=Oa+Pa,za=Oa+Ba,La=ka+Pa,Ra=ka+Ba,Ua="drawingBuffer",qa=Ua+Pa,Ha=Ua+Ba,Na=[ra,ta,ya,xa,wa,ma,ka,_a,da],Ga=34962,Qa=34963,Wa=2884,Xa=3042,$a=3024,Ya=2960,Ja=2929,Ka=3089,Za=32823,ei=32926,ti=32928,ri=5126,ni=35664,ai=35665,ii=35666,oi=5124,fi=35667,ui=35668,si=35669,ci=35670,li=35671,pi=35672,di=35673,hi=35674,gi=35675,mi=35676,vi=35678,bi=35680,yi=4,xi=1028,wi=1029,Ai=2304,_i=2305,ki=32775,Di=32776,Oi=519,Ei=7680,Ti=0,Si=1,ji=32774,Ci=513,Mi=36160,Fi=36064,Vi={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Pi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Bi={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ii={cw:Ai,ccw:_i};function zi(e){return Array.isArray(e)||we(e)||Ae(e)}function Li(e){return e.sort((function(e,t){return e===ka?-1:t===ka?1:e<t?-1:1}))}function Ri(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function Ui(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function qi(e){return new Ri(!1,!1,!1,e)}function Hi(e,t){var r=e.type;if(r===Gn){var n=e.data.length;return new Ri(!0,n>=1,n>=2,t)}if(r===$n){var a=e.data;return new Ri(a.thisDep,a.contextDep,a.propDep,t)}if(r===Yn)return new Ri(!1,!1,!1,t);if(r===Jn){for(var i=!1,o=!1,f=!1,u=0;u<e.data.length;++u){var s=e.data[u];if(s.type===Qn)f=!0;else if(s.type===Wn)o=!0;else if(s.type===Xn)i=!0;else if(s.type===Gn){i=!0;var c=s.data;c>=1&&(o=!0),c>=2&&(f=!0)}else s.type===$n&&(i=i||s.data.thisDep,o=o||s.data.contextDep,f=f||s.data.propDep)}return new Ri(i,o,f,t)}return new Ri(r===Xn,r===Wn,r===Qn,t)}var Ni=new Ri(!1,!1,!1,(function(){}));function Gi(t,r,n,a,i,o,f,u,s,c,l,d,h,g,m){var v=c.Record,b={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(b.min=ki,b.max=Di);var y=n.angle_instanced_arrays,x=n.webgl_draw_buffers,w=n.oes_vertex_array_object,A={dirty:!0,profile:m.profile},_={},D=[],O={},E={};function T(e){return e.replace(".","_")}function S(e,t,r){var n=T(e);D.push(e),_[n]=A[n]=!!r,O[n]=t}function j(e,t,r){var n=T(e);D.push(e),Array.isArray(r)?(A[n]=r.slice(),_[n]=r.slice()):A[n]=_[n]=r,E[n]=t}S(Kn,$a),S(Zn,Xa),j(ea,"blendColor",[0,0,0,0]),j(ta,"blendEquationSeparate",[ji,ji]),j(ra,"blendFuncSeparate",[Si,Ti,Si,Ti]),S(na,Ja,!0),j(aa,"depthFunc",Ci),j(ia,"depthRange",[0,1]),j(oa,"depthMask",!0),j(fa,fa,[!0,!0,!0,!0]),S(ua,Wa),j(sa,"cullFace",wi),j(ca,ca,_i),j(la,la,1),S(pa,Za),j(da,"polygonOffset",[0,0]),S(ha,ei),S(ga,ti),j(ma,"sampleCoverage",[1,!1]),S(va,Ya),j(ba,"stencilMask",-1),j(ya,"stencilFunc",[Oi,0,-1]),j(xa,"stencilOpSeparate",[xi,Ei,Ei,Ei]),j(wa,"stencilOpSeparate",[wi,Ei,Ei,Ei]),S(Aa,Ka),j(_a,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),j(ka,ka,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var C={gl:t,context:h,strings:r,next:_,current:A,draw:d,elements:o,buffer:i,shader:l,attributes:c.state,vao:c,uniforms:s,framebuffer:u,extensions:n,timer:g,isBufferArgs:zi},M={primTypes:Ge,compareFuncs:Pi,blendFuncs:Vi,blendEquations:b,stencilOps:Bi,glTypes:Me,orientationType:Ii};x&&(M.backBuffer=[wi],M.drawBuffer=k(a.maxDrawbuffers,(function(e){return 0===e?[0]:k(e,(function(e){return Fi+e}))})));var F=0;function V(){var e=Rn(),t=e.link,n=e.global;e.id=F++,e.batchId="0";var a=t(C),i=e.shared={props:"a0"};Object.keys(C).forEach((function(e){i[e]=n.def(a,".",e)}));var o=e.next={},f=e.current={};Object.keys(E).forEach((function(e){Array.isArray(A[e])&&(o[e]=n.def(i.next,".",e),f[e]=n.def(i.current,".",e))}));var u=e.constants={};Object.keys(M).forEach((function(e){u[e]=n.def(JSON.stringify(M[e]))})),e.invoke=function(r,n){switch(n.type){case Gn:var a=["this",i.context,i.props,e.batchId];return r.def(t(n.data),".call(",a.slice(0,Math.max(n.data.length+1,4)),")");case Qn:return r.def(i.props,n.data);case Wn:return r.def(i.context,n.data);case Xn:return r.def("this",n.data);case $n:return n.data.append(e,r),n.data.ref;case Yn:return n.data.toString();case Jn:return n.data.map((function(t){return e.invoke(r,t)}))}},e.attribCache={};var s={};return e.scopeAttrib=function(e){var n=r.id(e);if(n in s)return s[n];var a=c.scope[n];return a||(a=c.scope[n]=new v),s[n]=t(a)},e}function P(e){var t,r=e.static,n=e.dynamic;if(Da in r){var a=!!r[Da];(t=qi((function(e,t){return a}))).enable=a}else if(Da in n){var i=n[Da];t=Hi(i,(function(e,t){return e.invoke(t,i)}))}return t}function B(e,t){var r=e.static,n=e.dynamic;if(Oa in r){var a=r[Oa];return a?(a=u.getFramebuffer(a),qi((function(e,t){var r=e.link(a),n=e.shared;t.set(n.framebuffer,".next",r);var i=n.context;return t.set(i,"."+Ia,r+".width"),t.set(i,"."+za,r+".height"),r}))):qi((function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+Ia,n+"."+qa),t.set(n,"."+za,n+"."+Ha),"null"}))}if(Oa in n){var i=n[Oa];return Hi(i,(function(e,t){var r=e.invoke(t,i),n=e.shared,a=n.framebuffer,o=t.def(a,".getFramebuffer(",r,")");t.set(a,".next",o);var f=n.context;return t.set(f,"."+Ia,o+"?"+o+".width:"+f+"."+qa),t.set(f,"."+za,o+"?"+o+".height:"+f+"."+Ha),o}))}return null}function I(e,t,r){var n=e.static,a=e.dynamic;function i(e){if(e in n){var r,i,o=n[e],f=!0,u=0|o.x,s=0|o.y;return"width"in o?r=0|o.width:f=!1,"height"in o?i=0|o.height:f=!1,new Ri(!f&&t&&t.thisDep,!f&&t&&t.contextDep,!f&&t&&t.propDep,(function(e,t){var n=e.shared.context,a=r;"width"in o||(a=t.def(n,".",Ia,"-",u));var f=i;return"height"in o||(f=t.def(n,".",za,"-",s)),[u,s,a,f]}))}if(e in a){var c=a[e],l=Hi(c,(function(e,t){var r=e.invoke(t,c),n=e.shared.context,a=t.def(r,".x|0"),i=t.def(r,".y|0");return[a,i,t.def('"width" in ',r,"?",r,".width|0:","(",n,".",Ia,"-",a,")"),t.def('"height" in ',r,"?",r,".height|0:","(",n,".",za,"-",i,")")]}));return t&&(l.thisDep=l.thisDep||t.thisDep,l.contextDep=l.contextDep||t.contextDep,l.propDep=l.propDep||t.propDep),l}return t?new Ri(t.thisDep,t.contextDep,t.propDep,(function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",Ia),t.def(r,".",za)]})):null}var o=i(ka);if(o){var f=o;o=new Ri(o.thisDep,o.contextDep,o.propDep,(function(e,t){var r=f.append(e,t),n=e.shared.context;return t.set(n,"."+La,r[2]),t.set(n,"."+Ra,r[3]),r}))}return{viewport:o,scissor_box:i(_a)}}function z(e,t){var r=e.static;if("string"===typeof r[Ta]&&"string"===typeof r[Ea]){if(Object.keys(t.dynamic).length>0)return null;var n=t.static,a=Object.keys(n);if(a.length>0&&"number"===typeof n[a[0]]){for(var i=[],o=0;o<a.length;++o)i.push([0|n[a[o]],a[o]]);return i}}return null}function L(e,t,n){var a=e.static,i=e.dynamic;function o(e){if(e in a){var t=r.id(a[e]),n=qi((function(){return t}));return n.id=t,n}if(e in i){var o=i[e];return Hi(o,(function(e,t){var r=e.invoke(t,o);return t.def(e.shared.strings,".id(",r,")")}))}return null}var f,u=o(Ta),s=o(Ea),c=null;return Ui(u)&&Ui(s)?(c=l.program(s.id,u.id,null,n),f=qi((function(e,t){return e.link(c)}))):f=new Ri(u&&u.thisDep||s&&s.thisDep,u&&u.contextDep||s&&s.contextDep,u&&u.propDep||s&&s.propDep,(function(e,t){var r,n=e.shared.shader;r=u?u.append(e,t):t.def(n,".",Ta);var a=n+".program("+(s?s.append(e,t):t.def(n,".",Ea))+","+r;return t.def(a+")")})),{frag:u,vert:s,progVar:f,program:c}}function R(e,t){var r=e.static,n=e.dynamic,a={},i=!1;function f(){if(Va in r){var e=r[Va];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),i=!0,a.vao=e,qi((function(t){var r=c.getVAO(e);return r?t.link(r):"null"}))}if(Va in n){i=!0;var t=n[Va];return Hi(t,(function(e,r){var n=e.invoke(r,t);return r.def(e.shared.vao+".getVAO("+n+")")}))}return null}var u=f(),s=!1;function l(){if(Sa in r){var e=r[Sa];if(a.elements=e,zi(e)){var t=a.elements=o.create(e,!0);e=o.getElements(t),s=!0}else e&&(e=o.getElements(e),s=!0);var f=qi((function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null}));return f.value=e,f}if(Sa in n){s=!0;var c=n[Sa];return Hi(c,(function(e,t){var r=e.shared,n=r.isBufferArgs,a=r.elements,i=e.invoke(t,c),o=t.def("null"),f=t.def(n,"(",i,")"),u=e.cond(f).then(o,"=",a,".createStream(",i,");").else(o,"=",a,".getElements(",i,");");return t.entry(u),t.exit(e.cond(f).then(a,".destroyStream(",o,");")),e.ELEMENTS=o,o}))}return i?new Ri(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var p=l();function d(){if(ja in r){var e=r[ja];return a.primitive=e,qi((function(t,r){return Ge[e]}))}if(ja in n){var t=n[ja];return Hi(t,(function(e,r){var n=e.constants.primTypes,a=e.invoke(r,t);return r.def(n,"[",a,"]")}))}return s?Ui(p)?p.value?qi((function(e,t){return t.def(e.ELEMENTS,".primType")})):qi((function(){return yi})):new Ri(p.thisDep,p.contextDep,p.propDep,(function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",yi)})):i?new Ri(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+yi)})):null}function h(e,t){if(e in r){var o=0|r[e];return t?a.offset=o:a.instances=o,qi((function(e,r){return t&&(e.OFFSET=o),o}))}if(e in n){var f=n[e];return Hi(f,(function(e,r){var n=e.invoke(r,f);return t&&(e.OFFSET=n),n}))}if(t){if(s)return qi((function(e,t){return e.OFFSET=0,0}));if(i)return new Ri(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(i)return new Ri(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}s&&(u=qi((function(){return"null"})));var g=h(Ma,!0);function m(){if(Ca in r){var e=0|r[Ca];return a.count=e,qi((function(){return e}))}if(Ca in n){var t=n[Ca];return Hi(t,(function(e,r){return e.invoke(r,t)}))}return s?Ui(p)?p?g?new Ri(g.thisDep,g.contextDep,g.propDep,(function(e,t){return t.def(e.ELEMENTS,".vertCount-",e.OFFSET)})):qi((function(e,t){return t.def(e.ELEMENTS,".vertCount")})):qi((function(){return-1})):new Ri(p.thisDep||g.thisDep,p.contextDep||g.contextDep,p.propDep||g.propDep,(function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")})):i?new Ri(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}var v=d(),b=m(),y=h(Fa,!1);return{elements:p,primitive:v,count:b,instances:y,offset:g,vao:u,vaoActive:i,elementsActive:s,static:a}}function U(e,t){var r=e.static,n=e.dynamic,a={};return D.forEach((function(e){var t=T(e);function i(i,o){if(e in r){var f=i(r[e]);a[t]=qi((function(){return f}))}else if(e in n){var u=n[e];a[t]=Hi(u,(function(e,t){return o(e,t,e.invoke(t,u))}))}}switch(e){case ua:case Zn:case Kn:case va:case na:case Aa:case pa:case ha:case ga:case oa:return i((function(e){return e}),(function(e,t,r){return r}));case aa:return i((function(e){return Pi[e]}),(function(e,t,r){var n=e.constants.compareFuncs;return t.def(n,"[",r,"]")}));case ia:return i((function(e){return e}),(function(e,t,r){return[t.def("+",r,"[0]"),t.def("+",r,"[1]")]}));case ra:return i((function(e){var t="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,n="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return[Vi[t],Vi[n],Vi[r],Vi[a]]}),(function(e,t,r){var n=e.constants.blendFuncs;function a(e,n){return t.def('"',e,n,'" in ',r,"?",r,".",e,n,":",r,".",e)}var i=a("src","RGB"),o=a("dst","RGB"),f=t.def(n,"[",i,"]"),u=t.def(n,"[",a("src","Alpha"),"]");return[f,t.def(n,"[",o,"]"),u,t.def(n,"[",a("dst","Alpha"),"]")]}));case ta:return i((function(e){return"string"===typeof e?[b[e],b[e]]:"object"===typeof e?[b[e.rgb],b[e.alpha]]:void 0}),(function(e,t,r){var n=e.constants.blendEquations,a=t.def(),i=t.def(),o=e.cond("typeof ",r,'==="string"');return o.then(a,"=",i,"=",n,"[",r,"];"),o.else(a,"=",n,"[",r,".rgb];",i,"=",n,"[",r,".alpha];"),t(o),[a,i]}));case ea:return i((function(e){return k(4,(function(t){return+e[t]}))}),(function(e,t,r){return k(4,(function(e){return t.def("+",r,"[",e,"]")}))}));case ba:return i((function(e){return 0|e}),(function(e,t,r){return t.def(r,"|0")}));case ya:return i((function(e){var t=e.cmp||"keep",r=e.ref||0,n="mask"in e?e.mask:-1;return[Pi[t],r,n]}),(function(e,t,r){var n=e.constants.compareFuncs;return[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",Ei),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case xa:case wa:return i((function(t){var r=t.fail||"keep",n=t.zfail||"keep",a=t.zpass||"keep";return[e===wa?wi:xi,Bi[r],Bi[n],Bi[a]]}),(function(t,r,n){var a=t.constants.stencilOps;function i(e){return r.def('"',e,'" in ',n,"?",a,"[",n,".",e,"]:",Ei)}return[e===wa?wi:xi,i("fail"),i("zfail"),i("zpass")]}));case da:return i((function(e){return[0|e.factor,0|e.units]}),(function(e,t,r){return[t.def(r,".factor|0"),t.def(r,".units|0")]}));case sa:return i((function(e){var t=0;return"front"===e?t=xi:"back"===e&&(t=wi),t}),(function(e,t,r){return t.def(r,'==="front"?',xi,":",wi)}));case la:return i((function(e){return e}),(function(e,t,r){return r}));case ca:return i((function(e){return Ii[e]}),(function(e,t,r){return t.def(r+'==="cw"?'+Ai+":"+_i)}));case fa:return i((function(e){return e.map((function(e){return!!e}))}),(function(e,t,r){return k(4,(function(e){return"!!"+r+"["+e+"]"}))}));case ma:return i((function(e){return["value"in e?e.value:1,!!e.invert]}),(function(e,t,r){return[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]}))}})),a}function q(e,t){var r=e.static,n=e.dynamic,a={};return Object.keys(r).forEach((function(e){var t,n=r[e];if("number"===typeof n||"boolean"===typeof n)t=qi((function(){return n}));else if("function"===typeof n){var i=n._reglType;"texture2d"===i||"textureCube"===i?t=qi((function(e){return e.link(n)})):"framebuffer"!==i&&"framebufferCube"!==i||(t=qi((function(e){return e.link(n.color[0])})))}else st(n)&&(t=qi((function(e){return e.global.def("[",k(n.length,(function(e){return n[e]})),"]")})));t.value=n,a[e]=t})),Object.keys(n).forEach((function(e){var t=n[e];a[e]=Hi(t,(function(e,r){return e.invoke(r,t)}))})),a}function H(e,t){var n=e.static,a=e.dynamic,o={};return Object.keys(n).forEach((function(e){var t=n[e],a=r.id(e),f=new v;if(zi(t))f.state=Hn,f.buffer=i.getBuffer(i.create(t,Ga,!1,!0)),f.type=0;else{var u=i.getBuffer(t);if(u)f.state=Hn,f.buffer=u,f.type=0;else if("constant"in t){var s=t.constant;f.buffer="null",f.state=Nn,"number"===typeof s?f.x=s:Un.forEach((function(e,t){t<s.length&&(f[e]=s[t])}))}else{u=zi(t.buffer)?i.getBuffer(i.create(t.buffer,Ga,!1,!0)):i.getBuffer(t.buffer);var c=0|t.offset,l=0|t.stride,p=0|t.size,d=!!t.normalized,h=0;"type"in t&&(h=Me[t.type]);var g=0|t.divisor;f.buffer=u,f.state=Hn,f.size=p,f.normalized=d,f.type=h||u.dtype,f.offset=c,f.stride=l,f.divisor=g}}o[e]=qi((function(e,t){var r=e.attribCache;if(a in r)return r[a];var n={isStream:!1};return Object.keys(f).forEach((function(e){n[e]=f[e]})),f.buffer&&(n.buffer=e.link(f.buffer),n.type=n.type||n.buffer+".dtype"),r[a]=n,n}))})),Object.keys(a).forEach((function(e){var t=a[e];function r(e,r){var n=e.invoke(r,t),a=e.shared,i=e.constants,o=a.isBufferArgs,f=a.buffer,u={isStream:r.def(!1)},s=new v;s.state=Hn,Object.keys(s).forEach((function(e){u[e]=r.def(""+s[e])}));var c=u.buffer,l=u.type;function p(e){r(u[e],"=",n,".",e,"|0;")}return r("if(",o,"(",n,")){",u.isStream,"=true;",c,"=",f,".createStream(",Ga,",",n,");",l,"=",c,".dtype;","}else{",c,"=",f,".getBuffer(",n,");","if(",c,"){",l,"=",c,".dtype;",'}else if("constant" in ',n,"){",u.state,"=",Nn,";","if(typeof "+n+'.constant === "number"){',u[Un[0]],"=",n,".constant;",Un.slice(1).map((function(e){return u[e]})).join("="),"=0;","}else{",Un.map((function(e,t){return u[e]+"="+n+".constant.length>"+t+"?"+n+".constant["+t+"]:0;"})).join(""),"}}else{","if(",o,"(",n,".buffer)){",c,"=",f,".createStream(",Ga,",",n,".buffer);","}else{",c,"=",f,".getBuffer(",n,".buffer);","}",l,'="type" in ',n,"?",i.glTypes,"[",n,".type]:",c,".dtype;",u.normalized,"=!!",n,".normalized;"),p("size"),p("offset"),p("stride"),p("divisor"),r("}}"),r.exit("if(",u.isStream,"){",f,".destroyStream(",c,");","}"),u}o[e]=Hi(t,r)})),o}function N(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach((function(e){var r=t[e];n[e]=qi((function(e,t){return"number"===typeof r||"boolean"===typeof r?""+r:e.link(r)}))})),Object.keys(r).forEach((function(e){var t=r[e];n[e]=Hi(t,(function(e,r){return e.invoke(r,t)}))})),n}function G(e,t,r,a,i){e.static,e.dynamic;var o=z(e,t),f=B(e,i),u=I(e,f,i),s=R(e,i),l=U(e,i),p=L(e,i,o);function d(e){var t=u[e];t&&(l[e]=t)}d(ka),d(T(_a));var h=Object.keys(l).length>0,g={framebuffer:f,draw:s,shader:p,state:l,dirty:h,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(g.profile=P(e,i),g.uniforms=q(r,i),g.drawVAO=g.scopeVAO=s.vao,!g.drawVAO&&p.program&&!o&&n.angle_instanced_arrays&&s.static.elements){var m=!0,v=p.program.attributes.map((function(e){var r=t.static[e];return m=m&&!!r,r}));if(m&&v.length>0){var b=c.getVAO(c.createVAO({attributes:v,elements:s.static.elements}));g.drawVAO=new Ri(null,null,null,(function(e,t){return e.link(b)})),g.useVAO=!0}}return o?g.useVAO=!0:g.attributes=H(t,i),g.context=N(a,i),g}function Q(e,t,r){var n=e.shared.context,a=e.scope();Object.keys(r).forEach((function(i){t.save(n,"."+i);var o=r[i].append(e,t);Array.isArray(o)?a(n,".",i,"=[",o.join(),"];"):a(n,".",i,"=",o,";")})),t(a)}function W(e,t,r,n){var a,i=e.shared,o=i.gl,f=i.framebuffer;x&&(a=t.def(i.extensions,".webgl_draw_buffers"));var u,s=e.constants,c=s.drawBuffer,l=s.backBuffer;u=r?r.append(e,t):t.def(f,".next"),n||t("if(",u,"!==",f,".cur){"),t("if(",u,"){",o,".bindFramebuffer(",Mi,",",u,".framebuffer);"),x&&t(a,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Mi,",null);"),x&&t(a,".drawBuffersWEBGL(",l,");"),t("}",f,".cur=",u,";"),n||t("}")}function X(e,t,r){var n=e.shared,a=n.gl,i=e.current,o=e.next,f=n.current,u=n.next,s=e.cond(f,".dirty");D.forEach((function(t){var n,c,l=T(t);if(!(l in r.state))if(l in o){n=o[l],c=i[l];var p=k(A[l].length,(function(e){return s.def(n,"[",e,"]")}));s(e.cond(p.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(a,".",E[l],"(",p,");",p.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{n=s.def(u,".",l);var d=e.cond(n,"!==",f,".",l);s(d),l in O?d(e.cond(n).then(a,".enable(",O[l],");").else(a,".disable(",O[l],");"),f,".",l,"=",n,";"):d(a,".",E[l],"(",n,");",f,".",l,"=",n,";")}})),0===Object.keys(r.state).length&&s(f,".dirty=false;"),t(s)}function $(e,t,r,n){var a=e.shared,i=e.current,o=a.current,f=a.gl;Li(Object.keys(r)).forEach((function(a){var u=r[a];if(!n||n(u)){var s=u.append(e,t);if(O[a]){var c=O[a];Ui(u)?t(f,s?".enable(":".disable(",c,");"):t(e.cond(s).then(f,".enable(",c,");").else(f,".disable(",c,");")),t(o,".",a,"=",s,";")}else if(st(s)){var l=i[a];t(f,".",E[a],"(",s,");",s.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";")}else t(f,".",E[a],"(",s,");",o,".",a,"=",s,";")}}))}function Y(e,t){y&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function J(e,t,r,n,a){var i,o,f,u=e.shared,s=e.stats,c=u.current,l=u.timer,p=r.profile;function d(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function h(e){e(i=t.def(),"=",d(),";"),"string"===typeof a?e(s,".count+=",a,";"):e(s,".count++;"),g&&(n?e(o=t.def(),"=",l,".getNumPendingQueries();"):e(l,".beginQuery(",s,");"))}function m(e){e(s,".cpuTime+=",d(),"-",i,";"),g&&(n?e(l,".pushScopeStats(",o,",",l,".getNumPendingQueries(),",s,");"):e(l,".endQuery();"))}function v(e){var r=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",r,";")}if(p){if(Ui(p))return void(p.enable?(h(t),m(t.exit),v("true")):v("false"));v(f=p.append(e,t))}else f=t.def(c,".profile");var b=e.block();h(b),t("if(",f,"){",b,"}");var y=e.block();m(y),t.exit("if(",f,"){",y,"}")}function K(e,t,r,n,a){var i=e.shared;function o(e){switch(e){case ni:case fi:case li:return 2;case ai:case ui:case pi:return 3;case ii:case si:case di:return 4;default:return 1}}function f(r,n,a){var o=i.gl,f=t.def(r,".location"),u=t.def(i.attributes,"[",f,"]"),s=a.state,c=a.buffer,l=[a.x,a.y,a.z,a.w],p=["buffer","normalized","offset","stride"];function d(){t("if(!",u,".buffer){",o,".enableVertexAttribArray(",f,");}");var r,i=a.type;if(r=a.size?t.def(a.size,"||",n):n,t("if(",u,".type!==",i,"||",u,".size!==",r,"||",p.map((function(e){return u+"."+e+"!=="+a[e]})).join("||"),"){",o,".bindBuffer(",Ga,",",c,".buffer);",o,".vertexAttribPointer(",[f,r,i,a.normalized,a.stride,a.offset],");",u,".type=",i,";",u,".size=",r,";",p.map((function(e){return u+"."+e+"="+a[e]+";"})).join(""),"}"),y){var s=a.divisor;t("if(",u,".divisor!==",s,"){",e.instancing,".vertexAttribDivisorANGLE(",[f,s],");",u,".divisor=",s,";}")}}function h(){t("if(",u,".buffer){",o,".disableVertexAttribArray(",f,");",u,".buffer=null;","}if(",Un.map((function(e,t){return u+"."+e+"!=="+l[t]})).join("||"),"){",o,".vertexAttrib4f(",f,",",l,");",Un.map((function(e,t){return u+"."+e+"="+l[t]+";"})).join(""),"}")}s===Hn?d():s===Nn?h():(t("if(",s,"===",Hn,"){"),d(),t("}else{"),h(),t("}"))}n.forEach((function(n){var i,u=n.name,s=r.attributes[u];if(s){if(!a(s))return;i=s.append(e,t)}else{if(!a(Ni))return;var c=e.scopeAttrib(u);i={},Object.keys(new v).forEach((function(e){i[e]=t.def(c,".",e)}))}f(e.link(n),o(n.info.type),i)}))}function Z(e,t,n,a,i,o){for(var f,u=e.shared,s=u.gl,c=0;c<a.length;++c){var l,p=a[c],d=p.name,h=p.info.type,g=n.uniforms[d],m=e.link(p)+".location";if(g){if(!i(g))continue;if(Ui(g)){var v=g.value;if(h===vi||h===bi){var b=e.link(v._texture||v.color[0]._texture);t(s,".uniform1i(",m,",",b+".bind());"),t.exit(b,".unbind();")}else if(h===hi||h===gi||h===mi){var y=e.global.def("new Float32Array(["+Array.prototype.slice.call(v)+"])"),x=2;h===gi?x=3:h===mi&&(x=4),t(s,".uniformMatrix",x,"fv(",m,",false,",y,");")}else{switch(h){case ri:f="1f";break;case ni:f="2f";break;case ai:f="3f";break;case ii:f="4f";break;case ci:case oi:f="1i";break;case li:case fi:f="2i";break;case pi:case ui:f="3i";break;case di:case si:f="4i"}t(s,".uniform",f,"(",m,",",st(v)?Array.prototype.slice.call(v):v,");")}continue}l=g.append(e,t)}else{if(!i(Ni))continue;l=t.def(u.uniforms,"[",r.id(d),"]")}h===vi?t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}"):h===bi&&t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}");var w=1;switch(h){case vi:case bi:var A=t.def(l,"._texture");t(s,".uniform1i(",m,",",A,".bind());"),t.exit(A,".unbind();");continue;case oi:case ci:f="1i";break;case fi:case li:f="2i",w=2;break;case ui:case pi:f="3i",w=3;break;case si:case di:f="4i",w=4;break;case ri:f="1f";break;case ni:f="2f",w=2;break;case ai:f="3f",w=3;break;case ii:f="4f",w=4;break;case hi:f="Matrix2fv";break;case gi:f="Matrix3fv";break;case mi:f="Matrix4fv"}if("M"===f.charAt(0)){t(s,".uniform",f,"(",m,",");var _=Math.pow(h-hi+2,2),D=e.global.def("new Float32Array(",_,")");Array.isArray(l)?t("false,(",k(_,(function(e){return D+"["+e+"]="+l[e]})),",",D,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",k(_,(function(e){return D+"["+e+"]="+l+"["+e+"]"})),",",D,")"),t(");")}else if(w>1){for(var O=[],E=[],T=0;T<w;++T)Array.isArray(l)?E.push(l[T]):E.push(t.def(l+"["+T+"]")),o&&O.push(t.def());o&&t("if(!",e.batchId,"||",O.map((function(e,t){return e+"!=="+E[t]})).join("||"),"){",O.map((function(e,t){return e+"="+E[t]+";"})).join("")),t(s,".uniform",f,"(",m,",",E.join(","),");"),o&&t("}")}else{if(o){var S=t.def();t("if(!",e.batchId,"||",S,"!==",l,"){",S,"=",l,";")}t(s,".uniform",f,"(",m,",",l,");"),o&&t("}")}}}function ee(e,t,r,n){var a=e.shared,i=a.gl,o=a.draw,f=n.draw;function u(){var u,s=f.elements,c=t;return s?((s.contextDep&&n.contextDynamic||s.propDep)&&(c=r),f.vaoActive?u=s.append(e,c):c("if("+(u=s.append(e,c))+")"+i+".bindBuffer("+Qa+","+u+".buffer.buffer);")):(u=c.def(),c("if(",a.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+a.vao,".currentVAO.elements);",w?"":"if("+u+")"+i+".bindBuffer("+Qa+","+u+".buffer.buffer);","}else{",u,"=",o,".",Sa,";","if(",u,"){",i,".bindBuffer(",Qa,",",u,".buffer.buffer);}}")),u}function s(){var a,i=f.count,u=t;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(u=r),a=i.append(e,u)):a=u.def(o,".",Ca),a}var c=u();function l(a){var i=f[a];return i?i.contextDep&&n.contextDynamic||i.propDep?i.append(e,r):i.append(e,t):t.def(o,".",a)}var p,d,h=l(ja),g=l(Ma),m=s();if("number"===typeof m){if(0===m)return}else r("if(",m,"){"),r.exit("}");y&&(p=l(Fa),d=e.instancing);var v=c+".type",b=f.elements&&Ui(f.elements)&&!f.vaoActive;function x(){function e(){r(d,".drawElementsInstancedANGLE(",[h,m,v,g+"<<(("+v+"-"+qn+")>>1)",p],");")}function t(){r(d,".drawArraysInstancedANGLE(",[h,g,m,p],");")}c&&"null"!==c?b?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}function A(){function e(){r(i+".drawElements("+[h,m,v,g+"<<(("+v+"-"+qn+")>>1)"]+");")}function t(){r(i+".drawArrays("+[h,g,m]+");")}c&&"null"!==c?b?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}y&&("number"!==typeof p||p>=0)?"string"===typeof p?(r("if(",p,">0){"),x(),r("}else if(",p,"<0){"),A(),r("}")):x():A()}function te(e,t,r,n,a){var i=V(),o=i.proc("body",a);return y&&(i.instancing=o.def(i.shared.extensions,".angle_instanced_arrays")),e(i,o,r,n),i.compile().body}function re(e,t,r,n){Y(e,t),r.useVAO?r.drawVAO?t(e.shared.vao,".setVAO(",r.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),K(e,t,r,n.attributes,(function(){return!0}))),Z(e,t,r,n.uniforms,(function(){return!0}),!1),ee(e,t,t,r)}function ne(e,t){var r=e.proc("draw",1);Y(e,r),Q(e,r,t.context),W(e,r,t.framebuffer),X(e,r,t),$(e,r,t.state),J(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)re(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var a=e.global.def("{}"),i=r.def(n,".id"),o=r.def(a,"[",i,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",a,"[",i,"]=",e.link((function(r){return te(re,e,t,r,1)})),"(",n,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function ae(e,t,r,n){function a(){return!0}e.batchId="a1",Y(e,t),K(e,t,r,n.attributes,a),Z(e,t,r,n.uniforms,a,!1),ee(e,t,t,r)}function ie(e,t,r,n){Y(e,t);var a=r.contextDep,i=t.def(),o="a0",f="a1",u=t.def();e.shared.props=u,e.batchId=i;var s=e.scope(),c=e.scope();function l(e){return e.contextDep&&a||e.propDep}function p(e){return!l(e)}if(t(s.entry,"for(",i,"=0;",i,"<",f,";++",i,"){",u,"=",o,"[",i,"];",c,"}",s.exit),r.needsContext&&Q(e,c,r.context),r.needsFramebuffer&&W(e,c,r.framebuffer),$(e,c,r.state,l),r.profile&&l(r.profile)&&J(e,c,r,!1,!0),n)r.useVAO?r.drawVAO?l(r.drawVAO)?c(e.shared.vao,".setVAO(",r.drawVAO.append(e,c),");"):s(e.shared.vao,".setVAO(",r.drawVAO.append(e,s),");"):s(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(s(e.shared.vao,".setVAO(null);"),K(e,s,r,n.attributes,p),K(e,c,r,n.attributes,l)),Z(e,s,r,n.uniforms,p,!1),Z(e,c,r,n.uniforms,l,!0),ee(e,s,c,r);else{var d=e.global.def("{}"),h=r.shader.progVar.append(e,c),g=c.def(h,".id"),m=c.def(d,"[",g,"]");c(e.shared.gl,".useProgram(",h,".program);","if(!",m,"){",m,"=",d,"[",g,"]=",e.link((function(t){return te(ae,e,r,t,2)})),"(",h,");}",m,".call(this,a0[",i,"],",i,");")}}function oe(e,t){var r=e.proc("batch",2);e.batchId="0",Y(e,r);var n=!1,a=!0;Object.keys(t.context).forEach((function(e){n=n||t.context[e].propDep})),n||(Q(e,r,t.context),a=!1);var i=t.framebuffer,o=!1;function f(e){return e.contextDep&&n||e.propDep}i?(i.propDep?n=o=!0:i.contextDep&&n&&(o=!0),o||W(e,r,i)):W(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),X(e,r,t),$(e,r,t.state,(function(e){return!f(e)})),t.profile&&f(t.profile)||J(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=a,t.needsFramebuffer=o;var u=t.shader.progVar;if(u.contextDep&&n||u.propDep)ie(e,r,t,null);else{var s=u.append(e,r);if(r(e.shared.gl,".useProgram(",s,".program);"),t.shader.program)ie(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),l=r.def(s,".id"),p=r.def(c,"[",l,"]");r(e.cond(p).then(p,".call(this,a0,a1);").else(p,"=",c,"[",l,"]=",e.link((function(r){return te(ie,e,t,r,2)})),"(",s,");",p,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}function fe(e,t){var n=e.proc("scope",3);e.batchId="a2";var a=e.shared,i=a.current;function o(r){var i=t.shader[r];i&&n.set(a.shader,"."+r,i.append(e,n))}Q(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),Li(Object.keys(t.state)).forEach((function(r){var i=t.state[r].append(e,n);st(i)?i.forEach((function(t,a){n.set(e.next[r],"["+a+"]",t)})):n.set(a.next,"."+r,i)})),J(e,n,t,!0,!0),[Sa,Ma,Ca,Fa,ja].forEach((function(r){var i=t.draw[r];i&&n.set(a.draw,"."+r,""+i.append(e,n))})),Object.keys(t.uniforms).forEach((function(i){var o=t.uniforms[i].append(e,n);Array.isArray(o)&&(o="["+o.join()+"]"),n.set(a.uniforms,"["+r.id(i)+"]",o)})),Object.keys(t.attributes).forEach((function(r){var a=t.attributes[r].append(e,n),i=e.scopeAttrib(r);Object.keys(new v).forEach((function(e){n.set(i,"."+e,a[e])}))})),t.scopeVAO&&n.set(a.vao,".targetVAO",t.scopeVAO.append(e,n)),o(Ea),o(Ta),Object.keys(t.state).length>0&&(n(i,".dirty=true;"),n.exit(i,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");")}function ue(e){if("object"===typeof e&&!st(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(p.isDynamic(e[t[r]]))return!0;return!1}}function se(e,t,r){var n=t.static[r];if(n&&ue(n)){var a=e.global,i=Object.keys(n),o=!1,f=!1,u=!1,s=e.global.def("{}");i.forEach((function(t){var r=n[t];if(p.isDynamic(r)){"function"===typeof r&&(r=n[t]=p.unbox(r));var i=Hi(r,null);o=o||i.thisDep,u=u||i.propDep,f=f||i.contextDep}else{switch(a(s,".",t,"="),typeof r){case"number":a(r);break;case"string":a('"',r,'"');break;case"object":Array.isArray(r)&&a("[",r.join(),"]");break;default:a(e.link(r))}a(";")}})),t.dynamic[r]=new p.DynamicVariable($n,{thisDep:o,contextDep:f,propDep:u,ref:s,append:c}),delete t.static[r]}function c(e,t){i.forEach((function(r){var a=n[r];if(p.isDynamic(a)){var i=e.invoke(t,a);t(s,".",r,"=",i,";")}}))}}function ce(t,r,n,a,i){var o=V();o.stats=o.link(i),Object.keys(r.static).forEach((function(e){se(o,r,e)})),Na.forEach((function(e){se(o,t,e)}));var f=G(t,r,n,a,o);return ne(o,f),fe(o,f),oe(o,f),e(o.compile(),{destroy:function(){f.shader.program.destroy()}})}return{next:_,current:A,procs:function(){var e=V(),t=e.proc("poll"),r=e.proc("refresh"),i=e.block();t(i),r(i);var o,f=e.shared,u=f.gl,s=f.next,c=f.current;i(c,".dirty=false;"),W(e,t),W(e,r,null,!0),y&&(o=e.link(y)),n.oes_vertex_array_object&&r(e.link(n.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var l=0;l<a.maxAttributes;++l){var p=r.def(f.attributes,"[",l,"]"),d=e.cond(p,".buffer");d.then(u,".enableVertexAttribArray(",l,");",u,".bindBuffer(",Ga,",",p,".buffer.buffer);",u,".vertexAttribPointer(",l,",",p,".size,",p,".type,",p,".normalized,",p,".stride,",p,".offset);").else(u,".disableVertexAttribArray(",l,");",u,".vertexAttrib4f(",l,",",p,".x,",p,".y,",p,".z,",p,".w);",p,".buffer=null;"),r(d),y&&r(o,".vertexAttribDivisorANGLE(",l,",",p,".divisor);")}return r(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(O).forEach((function(n){var a=O[n],o=i.def(s,".",n),f=e.block();f("if(",o,"){",u,".enable(",a,")}else{",u,".disable(",a,")}",c,".",n,"=",o,";"),r(f),t("if(",o,"!==",c,".",n,"){",f,"}")})),Object.keys(E).forEach((function(n){var a,o,f=E[n],l=A[n],p=e.block();if(p(u,".",f,"("),st(l)){var d=l.length;a=e.global.def(s,".",n),o=e.global.def(c,".",n),p(k(d,(function(e){return a+"["+e+"]"})),");",k(d,(function(e){return o+"["+e+"]="+a+"["+e+"];"})).join("")),t("if(",k(d,(function(e){return a+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",p,"}")}else a=i.def(s,".",n),o=i.def(c,".",n),p(a,");",c,".",n,"=",a,";"),t("if(",a,"!==",o,"){",p,"}");r(p)})),e.compile()}(),compile:ce}}function Qi(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Wi=34918,Xi=34919,$i=35007,Yi=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[];function n(){return r.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function a(e){r.push(e)}var i=[];function o(e){var r=n();t.ext_disjoint_timer_query.beginQueryEXT($i,r),i.push(r),d(i.length-1,i.length,e)}function f(){t.ext_disjoint_timer_query.endQueryEXT($i)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var s=[];function c(){return s.pop()||new u}function l(e){s.push(e)}var p=[];function d(e,t,r){var n=c();n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,p.push(n)}var h=[],g=[];function m(){var e,r,n=i.length;if(0!==n){g.length=Math.max(g.length,n+1),h.length=Math.max(h.length,n+1),h[0]=0,g[0]=0;var o=0;for(e=0,r=0;r<i.length;++r){var f=i[r];t.ext_disjoint_timer_query.getQueryObjectEXT(f,Xi)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(f,Wi),a(f)):i[e++]=f,h[r+1]=o,g[r+1]=e}for(i.length=e,e=0,r=0;r<p.length;++r){var u=p[r],s=u.startQueryIndex,c=u.endQueryIndex;u.sum+=h[c]-h[s];var d=g[s],m=g[c];m===d?(u.stats.gpuTime+=u.sum/1e6,l(u)):(u.startQueryIndex=d,u.endQueryIndex=m,p[e++]=u)}p.length=e}}return{beginQuery:o,endQuery:f,pushScopeStats:d,update:m,getNumPendingQueries:function(){return i.length},clear:function(){r.push.apply(r,i);for(var e=0;e<r.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(r[e]);i.length=0,r.length=0},restore:function(){i.length=0,r.length=0}}},Ji=16384,Ki=256,Zi=1024,eo=34962,to="webglcontextlost",ro="webglcontextrestored",no=1,ao=2,io=3;function oo(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function fo(t){var r=A(t);if(!r)return null;var n=r.gl,a=n.getContextAttributes(),i=(n.isContextLost(),_(n,r));if(!i)return null;var o=g(),f=Qi(),u=i.extensions,s=Yi(n,u),c=h(),l=n.drawingBufferWidth,m=n.drawingBufferHeight,v={tick:0,time:0,viewportWidth:l,viewportHeight:m,framebufferWidth:l,framebufferHeight:m,drawingBufferWidth:l,drawingBufferHeight:m,pixelRatio:r.pixelRatio},b={},y={elements:null,primitive:4,count:-1,offset:0,instances:-1},x=xe(n,u),w=Ne(n,f,r,O),k=at(n,u,w,f),D=En(n,u,x,f,w,k,y);function O(e){return D.destroyBuffer(e)}var E=Mn(n,o,f,r),T=Qr(n,u,x,(function(){C.procs.poll()}),v,f,r),S=fn(n,u,x,f,r),j=An(n,u,x,T,S,f),C=Gi(n,o,u,x,w,k,T,j,b,D,E,y,v,s,r),M=In(n,j,C.procs.poll,v,a,u,x),F=C.next,V=n.canvas,P=[],B=[],I=[],z=[r.onDestroy],L=null;function R(){if(0===P.length)return s&&s.update(),void(L=null);L=d.next(R),K();for(var e=P.length-1;e>=0;--e){var t=P[e];t&&t(v,null,0)}n.flush(),s&&s.update()}function U(){!L&&P.length>0&&(L=d.next(R))}function q(){L&&(d.cancel(R),L=null)}function H(e){e.preventDefault(),q(),B.forEach((function(e){e()}))}function N(e){n.getError(),i.restore(),E.restore(),w.restore(),T.restore(),S.restore(),j.restore(),D.restore(),s&&s.restore(),C.procs.refresh(),U(),I.forEach((function(e){e()}))}function G(){P.length=0,q(),V&&(V.removeEventListener(to,H),V.removeEventListener(ro,N)),E.clear(),j.clear(),S.clear(),D.clear(),T.clear(),k.clear(),w.clear(),s&&s.clear(),z.forEach((function(e){e()}))}function Q(t){function r(t){var r=e({},t);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach((function(n){r[e+"."+n]=t[n]}))}}return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),"vao"in t&&(r.vao=t.vao),r}function n(e,t){var r={},n={};return Object.keys(e).forEach((function(a){var i=e[a];if(p.isDynamic(i))n[a]=p.unbox(i,a);else{if(t&&Array.isArray(i))for(var o=0;o<i.length;++o)if(p.isDynamic(i[o]))return void(n[a]=p.unbox(i,a));r[a]=i}})),{dynamic:n,static:r}}var a=n(t.context||{},!0),i=n(t.uniforms||{},!0),o=n(t.attributes||{},!1),f=n(r(t),!1),u={gpuTime:0,cpuTime:0,count:0},s=C.compile(f,o,i,a,u),c=s.draw,l=s.batch,d=s.scope,h=[];function g(e){for(;h.length<e;)h.push(null);return h}function m(e,t){var r;if("function"===typeof e)return d.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(r=0;r<e;++r)d.call(this,null,t,r);else{if(!Array.isArray(e))return d.call(this,e,t,0);for(r=0;r<e.length;++r)d.call(this,e[r],t,r)}else if("number"===typeof e){if(e>0)return l.call(this,g(0|e),0|e)}else{if(!Array.isArray(e))return c.call(this,e);if(e.length)return l.call(this,e,e.length)}}return e(m,{stats:u,destroy:function(){s.destroy()}})}V&&(V.addEventListener(to,H,!1),V.addEventListener(ro,N,!1));var W=j.setFBO=Q({framebuffer:p.define.call(null,no,"framebuffer")});function X(e,t){var r=0;C.procs.poll();var a=t.color;a&&(n.clearColor(+a[0]||0,+a[1]||0,+a[2]||0,+a[3]||0),r|=Ji),"depth"in t&&(n.clearDepth(+t.depth),r|=Ki),"stencil"in t&&(n.clearStencil(0|t.stencil),r|=Zi),n.clear(r)}function $(t){if("framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var r=0;r<6;++r)W(e({framebuffer:t.framebuffer.faces[r]},t),X);else W(t,X);else X(null,t)}function Y(e){function t(){var t=oo(P,e);function r(){var e=oo(P,r);P[e]=P[P.length-1],P.length-=1,P.length<=0&&q()}P[t]=r}return P.push(e),U(),{cancel:t}}function J(){var e=F.viewport,t=F.scissor_box;e[0]=e[1]=t[0]=t[1]=0,v.viewportWidth=v.framebufferWidth=v.drawingBufferWidth=e[2]=t[2]=n.drawingBufferWidth,v.viewportHeight=v.framebufferHeight=v.drawingBufferHeight=e[3]=t[3]=n.drawingBufferHeight}function K(){v.tick+=1,v.time=ee(),J(),C.procs.poll()}function Z(){T.refresh(),J(),C.procs.refresh(),s&&s.update()}function ee(){return(h()-c)/1e3}function te(e,t){var r;switch(e){case"frame":return Y(t);case"lost":r=B;break;case"restore":r=I;break;case"destroy":r=z}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t)return r[e]=r[r.length-1],void r.pop()}}}Z();var re=e(Q,{clear:$,prop:p.define.bind(null,no),context:p.define.bind(null,ao),this:p.define.bind(null,io),draw:Q({}),buffer:function(e){return w.create(e,eo,!1,!1)},elements:function(e){return k.create(e,!1)},texture:T.create2D,cube:T.createCube,renderbuffer:S.create,framebuffer:j.create,framebufferCube:j.createCube,vao:D.createVAO,attributes:a,frame:Y,on:te,limits:x,hasExtension:function(e){return x.extensions.indexOf(e.toLowerCase())>=0},read:M,destroy:G,_gl:n,_refresh:Z,poll:function(){K(),s&&s.update()},now:ee,stats:f});return r.onDone(null,re),re}return fo}()},779:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},780:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return a}))},782:function(e,t,r){var n=r(783),a=r(784),i=r(785),o=r(787);e.exports=function(e,t){return n(e)||a(e,t)||i(e,t)||o()}},783:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},784:function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,f=e[Symbol.iterator]();!(n=(o=f.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{n||null==f.return||f.return()}finally{if(a)throw i}}return r}}},785:function(e,t,r){var n=r(786);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},786:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},787:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},788:function(e,t,r){var n=r(789),a=function(){};e.exports=function(e,t,r,i){var o=0,f=!1,u=[],s=0,c=e.length,l=0;if(i=n(i||a),"function"!==typeof r)throw new Error("Iterator function must be passed as the third argument");for(var p=0;p<c;p++)u[p]=null;function d(){if(o===c)return i(null,u);for(;s<t&&!f&&l!==c;)h()}function h(){var t=l++;s+=1,r(e[t],(function(e,r){if(e)return function(e){return f=!0,i(e)}(e);u[t]=r,o+=1,s-=1,d()}))}d()}},789:function(e,t,r){var n=r(790);function a(e){var t=function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}e.exports=n(a),a.proto=a((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return a(this)},configurable:!0})}))},790:function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!==typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),a=e[e.length-1];return"function"===typeof n&&n!==a&&Object.keys(a).forEach((function(e){n[e]=a[e]})),n}}},792:function(e,t,r){var n=r(793);e.exports=function(e,t){var r=n(t),a=[];return a=(a=a.concat(r(e))).concat(r(null))}},793:function(e,t,r){e.exports=function(e){var t,r,l,p=0,d=0,h=u,g=[],m=[],v=1,b=0,y=0,x=!1,w=!1,A="",_=i,k=n;"300 es"===(e=e||{}).version&&(_=f,k=o);var D={},O={};for(p=0;p<_.length;p++)D[_[p]]=!0;for(p=0;p<k.length;p++)O[k[p]]=!0;return function(e){return m=[],null!==e?function(e){p=0,e.toString&&(e=e.toString());var r;A+=e.replace(/\r\n/g,"\n"),l=A.length;for(;t=A[p],p<l;){switch(r=p,h){case 0:p=M();break;case 1:p=C();break;case 2:p=j();break;case 3:p=F();break;case 4:p=B();break;case 11:p=P();break;case 5:p=I();break;case s:p=z();break;case 9:p=S();break;case u:p=T()}if(r!==p)switch(A[r]){case"\n":b=0,++v;break;default:++b}}return d+=p,A=A.slice(p),m}(e):function(e){g.length&&E(g.join(""));return h=10,E("(eof)"),m}()};function E(e){e.length&&m.push({type:c[h],data:e,position:y,line:v,column:b})}function T(){return g=g.length?[]:g,"/"===r&&"*"===t?(y=d+p-1,h=0,r=t,p+1):"/"===r&&"/"===t?(y=d+p-1,h=1,r=t,p+1):"#"===t?(h=2,y=d+p,p):/\s/.test(t)?(h=9,y=d+p,p):(x=/\d/.test(t),w=/[^\w_]/.test(t),y=d+p,h=x?4:w?3:s,p)}function S(){return/[^\s]/g.test(t)?(E(g.join("")),h=u,p):(g.push(t),r=t,p+1)}function j(){return"\r"!==t&&"\n"!==t||"\\"===r?(g.push(t),r=t,p+1):(E(g.join("")),h=u,p)}function C(){return j()}function M(){return"/"===t&&"*"===r?(g.push(t),E(g.join("")),h=u,p+1):(g.push(t),r=t,p+1)}function F(){if("."===r&&/\d/.test(t))return h=5,p;if("/"===r&&"*"===t)return h=0,p;if("/"===r&&"/"===t)return h=1,p;if("."===t&&g.length){for(;V(g););return h=5,p}if(";"===t||")"===t||"("===t){if(g.length)for(;V(g););return E(t),h=u,p+1}var e=2===g.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;V(g););return h=u,p}return g.push(t),r=t,p+1}function V(e){for(var t,r,n=0;;){if(t=a.indexOf(e.slice(0,e.length+n).join("")),r=a[t],-1===t){if(n--+e.length>0)continue;r=e.slice(0,1).join("")}return E(r),y+=r.length,(g=g.slice(r.length)).length}}function P(){return/[^a-fA-F0-9]/.test(t)?(E(g.join("")),h=u,p):(g.push(t),r=t,p+1)}function B(){return"."===t||/[eE]/.test(t)?(g.push(t),h=5,r=t,p+1):"x"===t&&1===g.length&&"0"===g[0]?(h=11,g.push(t),r=t,p+1):/[^\d]/.test(t)?(E(g.join("")),h=u,p):(g.push(t),r=t,p+1)}function I(){return"f"===t&&(g.push(t),r=t,p+=1),/[eE]/.test(t)?(g.push(t),r=t,p+1):("-"!==t&&"+"!==t||!/[eE]/.test(r))&&/[^\d]/.test(t)?(E(g.join("")),h=u,p):(g.push(t),r=t,p+1)}function z(){if(/[^\d\w_]/.test(t)){var e=g.join("");return h=O[e]?8:D[e]?7:6,E(g.join("")),h=u,p}return g.push(t),r=t,p+1}};var n=r(771),a=r(794),i=r(772),o=r(795),f=r(796),u=999,s=9999,c=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},794:function(e,t){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},795:function(e,t,r){var n=r(771);e.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},796:function(e,t,r){var n=r(772);n=n.slice().filter((function(e){return!/^(gl\_|texture)/.test(e)})),e.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},798:function(e,t,r){var n=r(799),a=r(800),i=r(301),o=r(801),f=r(803),u=r(804),s=r(809),c=r(774),l=r(776),p=r(775),d=r(810),h=r(811);function g(e){if(!(this instanceof g))return new g(e);e=d(e),this.depList=e,this.depIndex=function(e,t){return e.reduce((function(e,r){return e[r[t]]=r,e}),{})}(e,"id"),this.exported={},this.cache={},this.varCounter=0,this.src=[];for(var t=0;t<e.length;t++)this.preprocess(e[t]);for(t=0;t<e.length;t++)e[t].entry&&(this.src=this.src.concat(this.bundle(e[t])));this.src=c(this.src),this.src=c(s(a(i(this.src))))}e.exports=function(e){return o(g(e).src,{GLSLIFY:1})};var m=g.prototype;function v(e){return/#pragma glslify:\s*export\(([^)]+)\)/.exec(e)}function b(e){return/#pragma glslify:\s*([^=\s]+)\s*=\s*require\(([^)]+)\)/.exec(e)}function y(e){return!!e&&e.reduce((function(e,t){var r=(t=t.split(/\s?=\s?/g)).pop();return t.forEach((function(t){e[t]=r})),e}),{})}m.preprocess=function(e){var t,r=i(e.source),n=[],a=null;p(r),l(r);for(var o=0;o<r.length;o++){var f=r[o];if("preprocessor"===f.type&&(t=f.data,/#pragma glslify:/.test(t))){var u=v(f.data),s=b(f.data);if(u)a=u[1],r.splice(o--,1);else if(s){var c=s[1],d=s[2].split(/\s?,\s?/g),h=d.shift().trim().replace(/^'|'$/g,"").replace(/^"|"$/g,""),g=this.depIndex[e.deps[h]];n.push({name:c,path:h,target:g,maps:y(d),index:o}),r.splice(o--,1)}}}var m=r[r.length-1];if(m&&"eof"===m.type&&r.pop(),e.entry&&(a=a||"main"),!a)throw new Error(e.file+" does not export any symbols");e.parsed={tokens:r,imports:n,exports:a}},m.bundle=function(e){var t={};return function e(r,a){a.sort();var i=a.join(":")+":"+r.id,o="_"+n(i);r.entry&&(o="");var s=r.parsed.exports+o;if(t[s])return[s,[]];for(var c={},l=0;l<a.length;++l){var p=a[l];c[p[0]]=p[1]}var d=r.parsed.imports,g=[];for(l=0;l<d.length;++l){var m=d[l],v=m.maps,b=m.name,y=m.target,x=Object.keys(v).map((function(e){var t=v[e];if(t.match(/^\d+(?:\.\d+?)?$/g))return[e,t];var r=t.match(/^([^.]+)\.(.+)$/);return r?[e,(c[r[1]]||r[1]+o)+"."+r[2]]:[e,c[t]||t+o]})),w=e(y,x);c[b]=w[0],g.push([m.index,w[1]])}var A=r.parsed.tokens.map(h),_=f(A),k=u(A,(function(e,t){return _[e]?e:c[e]?c[e]:e+o}));g.sort((function(e,t){return t[0]-e[0]}));for(l=0;l<g.length;++l){var D=g[l];k=k.slice(0,D[0]).concat(D[1]).concat(k.slice(D[0]))}return t[s]=!0,[s,k]}(e,[])[1]}},799:function(e,t,r){e.exports=function(e,t){var r,n,a,i,o,f,u,s;for(r=3&e.length,n=e.length-r,a=t,o=3432918353,f=461845907,s=0;s<n;)u=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,a=27492+(65535&(i=5*(65535&(a=(a^=u=(65535&(u=(u=(65535&u)*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*f+(((u>>>16)*f&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(u=0,r){case 3:u^=(255&e.charCodeAt(s+2))<<16;case 2:u^=(255&e.charCodeAt(s+1))<<8;case 1:a^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(s)))*o+(((u>>>16)*o&65535)<<16)&4294967295)<<15|u>>>17))*f+(((u>>>16)*f&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}},800:function(e,t){function r(e,t){return r[t?"all":"newlines"](function(e){for(var t=1;t<e.length;t++){var r=e[t];if("whitespace"===r.type){var n=e[t-1];"whitespace"===n.type&&(e.splice(--t,1),r.data=n.data+r.data)}}return e}(e))}e.exports=r;var n=/(?:\n|\r\n|\r){2,}/g;r.newlines=function(e){for(var t=0;t<e.length;t++){var r=e[t];"whitespace"===r.type&&(r.data=r.data.replace(n,"\n\n"))}return e};var a=/\s+/g;r.all=function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r];if("whitespace"===n.type){var i=e[r+1],o=e[r-1];if(i&&"preprocessor"===i.type||o&&"preprocessor"===o.type)n.data=n.data.replace(a,"\n");else{switch(n.data=n.data.replace(a," "),i&&i.data){case"(":case";":case")":case"{":case"=":case"}":case",":n.data=n.data.replace(a,"")}switch(o&&o.data){case"(":case";":case")":case"{":case"=":case"}":case",":n.data=n.data.replace(a,"")}}}}return e}},801:function(e,t,r){var n=r(301),a=r(774),i=r(802);e.exports=function(e,t){if(!t)return e;var r=Object.keys(t);if(0===r.length)return e;for(var o=n(e),f=r.length-1;f>=0;f--){var u=r[f],s=String(t[u]);s&&(s=" "+s),i(o,{type:"preprocessor",data:"#define "+u+s})}return a(o)}},802:function(e,t){e.exports=function(e,t){Array.isArray(t)||(t=[t]);var i=function(e){for(var t=-1,r=0;r<e.length;r++){var n=e[r];if("preprocessor"===n.type)/^#(extension|version)/.test(n.data)&&(t=Math.max(t,r));else if("keyword"===n.type&&"precision"===n.data){var i=a(e,r);if(-1===i)throw new Error("precision statement not followed by any semicolons!");t=Math.max(t,i)}}return t+1}(e),o=i>0?e[i-1]:null;o&&n.test(o.data)&&e.splice(i++,0,r);e.splice.apply(e,[i,0].concat(t));var f=i+t.length;e[f]&&/[^\r\n]$/.test(e[f].data)&&e.splice(f,0,r);return e};var r={data:"\n",type:"whitespace"},n=/[^\r\n]$/;function a(e,t){for(var r=t;r<e.length;r++)if("operator"===e[r].type&&";"===e[r].data)return r;return-1}},803:function(e,t){e.exports=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];if("preprocessor"===n.type){var a=n.data.trim();if(!a.indexOf("#define")){var i=a.match(/#define\s+([^\s]+)(.+)?$/i);if(i){var o=(i[1]||"").trim(),f=(i[2]||"").trim();t[o]=f}}}}return t}},804:function(e,t,r){e.exports=function(e,t){r(775)(e),r(776)(e),r(805)(e),r(806)(e);for(var n=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];n.declaration&&(t[n.scope]=t[n.scope]||{},t[n.scope][n.data]=n)}return t}(e),a=t||function(){var e=0;return function(t){return t+"_"+(e++).toString(36)}}(),i={},o=0;o<e.length;o++){var f=e[o],u=f.stack,s=f.data;if(f.descoped=!1,"ident"===f.type&&!f.property&&!f.structMember){for(var c=!1,l=u.length-1;l>=0;l--){var p=n[u[l]];if(p&&p[s]){if(c=!0,l)break;f.descoped=f.data,f.data=i[s]=i[s]||a(s,f)||f.data}}c||(f.descoped=f.data,f.data=i[s]=i[s]||a(s,f)||f.data)}}return e}},805:function(e,t){e.exports=function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.property=!1,"ident"===r.type){for(var n=t;e[--n]&&"whitespace"===e[n].type;);e[n]&&"operator"===e[n].type&&"."===e[n].data&&(r.property=!0)}}return e}},806:function(e,t,r){var n=r(807),a=r(808);e.exports=function(e){for(var t=0,r=0;r<e.length;r++){var i=(u=e[r]).type;u.assignment=!1,u.declaration=!1,"ident"!==i&&"builtin"!==i||(t=r+1,s(1),"operator"===e[t].type&&n[e[t].data]&&(u.assignment=!0))}for(r=0;r<e.length;r++){var o=e[r],f=(i=o.type,o.data);if(o.declaration=!1,"keyword"===i){if(a[f])continue}else if("ident"!==i)continue;if(t=r+1,c(),"ident"===e[t].type)if(e[t++].declaration=!0,c(),"("!==e[t].data){for(;e[t]&&";"!==e[t].data;)","===e[t].data?(t++,s(1),(e[t].declaration="ident"===e[t].type)&&t++):(s(1),l(),s(1),t++);r=t}else{for(t++,s(1);e[t]&&")"!==e[t].data&&("keyword"===e[t].type||"ident"===e[t].type);)t++,s(1),"ident"===e[t].type&&(e[t++].declaration=!0,s(1),c(),s(1),","===e[t].data&&(t++,s(1)));r=t}}for(r=0;r<e.length;r++){var u;if("keyword"===(u=e[r]).type&&("struct"===u.data&&(t=r+1,s(1),"ident"===e[t].type&&(t++,s(1),"{"===e[t++].data)))){for(s(1);"ident"===e[t].type||"keyword"===e[t].type;){do{t++,s(1),e[t].structMember=!0,e[t].declaration=!1,t++,c()}while(","===e[t].data);";"===e[t].data&&t++,s()}if(t++,s(1),"ident"===e[t].type)for(e[t].declaration=!0,s(1);","===e[++t].data;)s(1),t++,s(1),"ident"===e[t].type&&(e[t].declaration=!0),s(1)}}return e;function s(r){for(;e[t]&&"whitespace"===e[t].type;)t++}function c(){for(;e[t]&&("integer"===e[t].type||"["===e[t].data||"]"===e[t].data||"whitespace"===e[t].type);)t++}function l(){if(e[t]&&"("===e[t].data){var r=0;do{if(";"===e[t].data)break;"("===e[t].data&&r++,")"===e[t].data&&r--}while(r&&e[++t])}}}},807:function(e,t){e.exports={"<<=":!0,">>=":!0,"++":!0,"--":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"&=":!0,"^=":!0,"|=":!0,"=":!0}},808:function(e,t){e.exports={precision:!0,highp:!0,mediump:!0,lowp:!0,attribute:!0,const:!0,uniform:!0,varying:!0,break:!0,continue:!0,do:!0,for:!0,while:!0,if:!0,else:!0,in:!0,out:!0,inout:!0,true:!0,false:!0,return:!0}},809:function(e,t){e.exports=function(e){for(var t={},n={},a=0;a<e.length;a++){var i=e[a];if("ident"===i.type){var o=i.data.match(r);if(o){var f=o[1],u=o[2];n[f]=n[f]||{},n[f][u]=n[f][u]||[],n[f][u].push(i)}else t[i.data]=!0}}return Object.keys(n).forEach((function(e){var r=Object.keys(n[e]);if(1!==r.length||t[e])r.forEach((function(r,a){var i=n[e][r],o=e+"_"+a;if(!t[o])for(var f=0;f<i.length;f++)i[f].data=o}));else for(var a=n[e][r[0]],i=0;i<a.length;i++)a[i].data=e})),e};var r=/^([^_]+)_(\d{4,})$/},810:function(e,t){e.exports=function(e){var t={},r={},n={};e.forEach((function(e){var a=e.id,i=Object.keys(e.deps);n[e.id]=e,r[a]=i.length,i.forEach((function(r){var n=e.deps[r];t[n]?t[n].push(a):t[n]=[a]}))}));var a=[],i={};e.forEach((function(e){var n=e.id;t[n]||(t[n]=[]),0===r[n]&&(i[n]=a.length,a.push(n))}));for(var o=0;o<a.length;o++){var f=a[o];t[f].forEach((function(e){0===--r[e]&&(i[e]=a.length,a.push(e))}))}if(a.length!==e.length)throw new Error("cyclic dependency");return a.map((function(e){var t=n[e],r=t.deps,a={};return Object.keys(r).forEach((function(e){a[e]=0|i[r[e]]})),{id:0|i[e],deps:a,file:t.file,source:t.source,entry:t.entry}}))}},811:function(e,t){e.exports=function(e){if(!e||"object"!==typeof e)return e;var t;if(n(e)){var a=e.length;t=Array(a);for(var i=0;i<a;i++)t[i]=e[i]}else{var o=r(e);t={};i=0;for(var f=o.length;i<f;i++){var u=o[i];t[u]=e[u]}}return t};var r=Object.keys||function(e){var t=[];for(var r in e)({}).hasOwnProperty.call(e,r)&&t.push(r);return t},n=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)}},812:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(770);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=Object(n.a)(e);if(t){var o=Object(n.a)(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return i(this,r)}}},814:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(770);function a(e,t,r){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(n.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}},815:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}r.d(t,"a",(function(){return a}))}}]);
//# sourceMappingURL=3.99eed11f.chunk.js.map